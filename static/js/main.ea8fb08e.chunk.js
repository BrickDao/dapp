(this["webpackJsonptribute-ui"]=this["webpackJsonptribute-ui"]||[]).push([[3],{10:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return G})),n.d(t,"D",(function(){return U})),n.d(t,"g",(function(){return V})),n.d(t,"s",(function(){return W})),n.d(t,"c",(function(){return Y})),n.d(t,"d",(function(){return z})),n.d(t,"k",(function(){return H})),n.d(t,"o",(function(){return K})),n.d(t,"v",(function(){return J})),n.d(t,"n",(function(){return Q})),n.d(t,"j",(function(){return X})),n.d(t,"h",(function(){return $})),n.d(t,"b",(function(){return Z})),n.d(t,"J",(function(){return ee})),n.d(t,"e",(function(){return te})),n.d(t,"C",(function(){return ne})),n.d(t,"w",(function(){return re})),n.d(t,"q",(function(){return ae})),n.d(t,"B",(function(){return ce})),n.d(t,"t",(function(){return se})),n.d(t,"i",(function(){return oe})),n.d(t,"a",(function(){return ie})),n.d(t,"z",(function(){return ue})),n.d(t,"f",(function(){return de})),n.d(t,"G",(function(){return le})),n.d(t,"l",(function(){return be})),n.d(t,"H",(function(){return je})),n.d(t,"A",(function(){return fe})),n.d(t,"y",(function(){return Oe})),n.d(t,"u",(function(){return pe})),n.d(t,"F",(function(){return he})),n.d(t,"I",(function(){return me})),n.d(t,"x",(function(){return ve})),n.d(t,"p",(function(){return xe})),n.d(t,"E",(function(){return Ne})),n.d(t,"r",(function(){return ge}));var r,a,c,s,o,i,u,d,l,b,j,f,O,p,h,m,v,x,N,g,E,A,w=n(7),I=n(416),y=n(256);Object(I.config)({path:Object(y.resolve)(e,"../.env")});var C=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COUPON_API_URL:"https://coupon.dev.openlaw.io",REACT_APP_SNAPSHOT_SPACE:"tribute",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0xf5af0d9c3e4091a48925902eaAB2982e44E7a4C5",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xde0Ca6340FDE1906B3c4c1A2bdEE060933e4b253",REACT_APP_GRAPH_API_URL:"https://api.thegraph.com/subgraphs/name/openlawteam/tribute-dev"}),_=C.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,D=C.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,k=C.REACT_APP_ENVIRONMENT,T=C.REACT_APP_GRAPH_API_URL,S=C.REACT_APP_INFURA_PROJECT_ID_DEV,R=C.REACT_APP_INFURA_PROJECT_ID_LOCAL,P=C.REACT_APP_INFURA_PROJECT_ID_PROD,L=C.REACT_APP_MULTICALL_CONTRACT_ADDRESS,F=C.REACT_APP_SNAPSHOT_HUB_API_URL,M=C.REACT_APP_COUPON_API_URL,B=C.REACT_APP_SNAPSHOT_SPACE,G=k,U="localhost"===G?"/snapshot-hub":F,V=M,W=T,Y={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},z=(r={},Object(w.a)(r,Y.MAINNET,"Main Ethereum Network"),Object(w.a)(r,Y.ROPSTEN,"Ropsten Test Network"),Object(w.a)(r,Y.RINKEBY,"Rinkeby Test Network"),Object(w.a)(r,Y.GOERLI,"G\xf6rli Test Network"),Object(w.a)(r,Y.KOVAN,"Kovan Test Network"),Object(w.a)(r,Y.GANACHE,"Ganache Test Network"),r),H="production"===k?Y.MAINNET:"development"===k?Y.RINKEBY:D?Y[D]:Y.GANACHE,K=(a={},Object(w.a)(a,Y.MAINNET,"https://etherscan.io"),Object(w.a)(a,Y.ROPSTEN,"https://ropsten.etherscan.io"),Object(w.a)(a,Y.RINKEBY,"https://rinkeby.etherscan.io"),Object(w.a)(a,Y.GOERLI,"https://goerli.etherscan.io"),Object(w.a)(a,Y.KOVAN,"https://kovan.etherscan.io"),a),q=(c={},Object(w.a)(c,Y.MAINNET,"wss://mainnet.infura.io/ws/v3"),Object(w.a)(c,Y.ROPSTEN,"wss://ropsten.infura.io/ws/v3"),Object(w.a)(c,Y.RINKEBY,"wss://rinkeby.infura.io/ws/v3"),Object(w.a)(c,Y.GOERLI,"wss://goerli.infura.io/ws/v3"),Object(w.a)(c,Y.KOVAN,"wss://kovan.infura.io/ws/v3"),c),J="production"===k?P:"development"===k?S:R,Q=q[H]?"".concat(q[H],"/").concat(J):H===Y.GANACHE?"ws://127.0.0.1:7545":"",X=_,$=(s={},Object(w.a)(s,Y.MAINNET,""),Object(w.a)(s,Y.ROPSTEN,""),Object(w.a)(s,Y.RINKEBY,"0x392E9D1c7FaE6C62853e089466FFAE3F0a93c680"),Object(w.a)(s,Y.GOERLI,""),Object(w.a)(s,Y.KOVAN,""),Object(w.a)(s,Y.GANACHE,"0x6d92a8E4aB80adcBbFDA44ef69fe847f82def641"),s),Z=(o={},Object(w.a)(o,Y.MAINNET,""),Object(w.a)(o,Y.ROPSTEN,""),Object(w.a)(o,Y.RINKEBY,"0x0d316BAa42a0538f2aAca3F08D368FE9C4A87A7A"),Object(w.a)(o,Y.GOERLI,""),Object(w.a)(o,Y.KOVAN,""),Object(w.a)(o,Y.GANACHE,"0xcD1639FD072113CC86e15f65f1505C6D58Aa7412"),o),ee=(i={},Object(w.a)(i,Y.MAINNET,""),Object(w.a)(i,Y.ROPSTEN,""),Object(w.a)(i,Y.RINKEBY,"0xf0D4BC92F8aD06CC163B96459787Dd563aAFC1f7"),Object(w.a)(i,Y.GOERLI,""),Object(w.a)(i,Y.KOVAN,""),Object(w.a)(i,Y.GANACHE,"0xcF34FFFBba648719DAe106202674949f1679772B"),u={},Object(w.a)(u,Y.MAINNET,""),Object(w.a)(u,Y.ROPSTEN,""),Object(w.a)(u,Y.RINKEBY,"0x69Bd1bE55Fff22bE1d5468dFf1a6d0a184c520F7"),Object(w.a)(u,Y.GOERLI,""),Object(w.a)(u,Y.KOVAN,""),Object(w.a)(u,Y.GANACHE,"0x862d71d6E9Be8a7495EfEBa6f2b657b00E629c95"),d={},Object(w.a)(d,Y.MAINNET,""),Object(w.a)(d,Y.ROPSTEN,""),Object(w.a)(d,Y.RINKEBY,"0xc9415afc432CC56912f54682cC2Ea80ADdE1a89B"),Object(w.a)(d,Y.GOERLI,""),Object(w.a)(d,Y.KOVAN,""),Object(w.a)(d,Y.GANACHE,"0xfB4E7C2FD8Ceb2757D2C4cE4749ebE326fc369D4"),d),te=(l={},Object(w.a)(l,Y.MAINNET,""),Object(w.a)(l,Y.ROPSTEN,""),Object(w.a)(l,Y.RINKEBY,"0x92866ac08edFEAA8C52dEF0c12926FA7E95df8fB"),Object(w.a)(l,Y.GOERLI,""),Object(w.a)(l,Y.KOVAN,""),Object(w.a)(l,Y.GANACHE,"0x65CaCA9F2638Fb2B245E9694f00343F0b6CB6F77"),l),ne=(b={},Object(w.a)(b,Y.MAINNET,""),Object(w.a)(b,Y.ROPSTEN,""),Object(w.a)(b,Y.RINKEBY,"0xD3C2cE38c905B9207e35D7EcE51c17b22EAb4afe"),Object(w.a)(b,Y.GOERLI,""),Object(w.a)(b,Y.KOVAN,""),Object(w.a)(b,Y.GANACHE,"0x314C824Ea4586798DF8B46121E881Defa40CB47E"),b),re=(j={},Object(w.a)(j,Y.MAINNET,""),Object(w.a)(j,Y.ROPSTEN,""),Object(w.a)(j,Y.RINKEBY,"0x03BE4284E9F3E7d1fd19cB0442713609105db7E7"),Object(w.a)(j,Y.GOERLI,""),Object(w.a)(j,Y.KOVAN,""),Object(w.a)(j,Y.GANACHE,"0xeD025b5BA14b8f3A085057b9D7Baa13998343aA8"),j),ae=(f={},Object(w.a)(f,Y.MAINNET,""),Object(w.a)(f,Y.ROPSTEN,""),Object(w.a)(f,Y.RINKEBY,"0xA007fc56f540670F6ba17FD2b3B931FC72A7820a"),Object(w.a)(f,Y.GOERLI,""),Object(w.a)(f,Y.KOVAN,""),Object(w.a)(f,Y.GANACHE,"0x4a7A5946567672c577EaF2b866BCeBc177E455E8"),f),ce=(O={},Object(w.a)(O,Y.MAINNET,""),Object(w.a)(O,Y.ROPSTEN,""),Object(w.a)(O,Y.RINKEBY,"0x6fA3f2BC09fB13091BF40C6920a9251B72348456"),Object(w.a)(O,Y.GOERLI,""),Object(w.a)(O,Y.KOVAN,""),Object(w.a)(O,Y.GANACHE,"0x4e1Ccf6Bca8d14B670478d8C4e2aEc9f6277A7f5"),O),se=(p={},Object(w.a)(p,Y.MAINNET,""),Object(w.a)(p,Y.ROPSTEN,""),Object(w.a)(p,Y.RINKEBY,"0xf6F042cB61E409dbFE34A5fbC76Db334B7a93364"),Object(w.a)(p,Y.GOERLI,""),Object(w.a)(p,Y.KOVAN,""),Object(w.a)(p,Y.GANACHE,"0x72a011Aa67F8214a146A162A99B322017ad763fD"),p),oe=(h={},Object(w.a)(h,Y.MAINNET,""),Object(w.a)(h,Y.ROPSTEN,""),Object(w.a)(h,Y.RINKEBY,"0x35B3babfB8FF455903f6e89cEaa83140e09495F9"),Object(w.a)(h,Y.GOERLI,""),Object(w.a)(h,Y.KOVAN,""),Object(w.a)(h,Y.GANACHE,"0x4d4243f2d605282CBd27C8391f05b77316d1a561"),h),ie=(m={},Object(w.a)(m,Y.MAINNET,""),Object(w.a)(m,Y.ROPSTEN,""),Object(w.a)(m,Y.RINKEBY,"0xed65eD0c561E77597E4D8472be1b4b184c31Fde4"),Object(w.a)(m,Y.GOERLI,""),Object(w.a)(m,Y.KOVAN,""),Object(w.a)(m,Y.GANACHE,"0xA8EA078cF1D3837a025329c46A4E0F441Cb2eE87"),m),ue=(v={},Object(w.a)(v,Y.MAINNET,""),Object(w.a)(v,Y.ROPSTEN,""),Object(w.a)(v,Y.RINKEBY,"0xc69DF0C3855A6CaBF0c5983bD504770E5BFA8e84"),Object(w.a)(v,Y.GOERLI,""),Object(w.a)(v,Y.KOVAN,""),Object(w.a)(v,Y.GANACHE,"0x538a4f00d64d2597717cAAd4D01C963317e3Ae40"),v),de=(x={},Object(w.a)(x,Y.MAINNET,""),Object(w.a)(x,Y.ROPSTEN,""),Object(w.a)(x,Y.RINKEBY,"0xb5935758c16B785d3749F20D65F5B501578dCb1c"),Object(w.a)(x,Y.GOERLI,""),Object(w.a)(x,Y.KOVAN,""),Object(w.a)(x,Y.GANACHE,"0x9A2E533FBa58Ec8b0dA34438154C48E295C80576"),x),le=(N={},Object(w.a)(N,Y.MAINNET,""),Object(w.a)(N,Y.ROPSTEN,""),Object(w.a)(N,Y.RINKEBY,"0xD0dCB66d60f6EbF838e22423f58B01D6F7a60187"),Object(w.a)(N,Y.GOERLI,""),Object(w.a)(N,Y.KOVAN,""),Object(w.a)(N,Y.GANACHE,"0xa7D723BFc4deC341da03E70Af4026B3926b1E8Db"),N),be=(g={},Object(w.a)(g,Y.MAINNET,""),Object(w.a)(g,Y.ROPSTEN,""),Object(w.a)(g,Y.RINKEBY,"0xB54D48D8471839D670C0e24548A7CfEA78bB1879"),Object(w.a)(g,Y.GOERLI,""),Object(w.a)(g,Y.KOVAN,""),Object(w.a)(g,Y.GANACHE,"0x6749b9151B654A77ddA3Fa8f2b259E0E592065F6"),g),je=(E={},Object(w.a)(E,Y.MAINNET,""),Object(w.a)(E,Y.ROPSTEN,""),Object(w.a)(E,Y.RINKEBY,"0x939Fd23C38496aB54fa4BD0b2ED535DE100f7d8F"),Object(w.a)(E,Y.GOERLI,""),Object(w.a)(E,Y.KOVAN,""),Object(w.a)(E,Y.GANACHE,"0x4Df3729e7B952EBE6d18b52132D2A8af2F2D167A"),E),fe=(A={},Object(w.a)(A,Y.MAINNET,""),Object(w.a)(A,Y.ROPSTEN,""),Object(w.a)(A,Y.RINKEBY,"0xDfbe754ec9c2aA26ac2f429CfcEd819910eF5926"),Object(w.a)(A,Y.GOERLI,""),Object(w.a)(A,Y.KOVAN,""),Object(w.a)(A,Y.GANACHE,"0xae02a075290D2efD74F0D3fE2DfE64831320855a"),A),Oe=L,pe="0x000000000000000000000000000000000000dead",he="0x000000000000000000000000000000000000babe",me="0x00000000000000000000000000000000000FF1CE",ve="0x00000000000000000000000000000000DECAFBAD",xe="0x0000000000000000000000000000000000000000",Ne=B,ge="production"===k?1e4:5e3}).call(this,"/")},11:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return f.a}));var a=n(4);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),s=c[0],o=c[1];t[s]="function"===typeof o?e:null}}function s(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function o(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=n(32);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e+1-t;return Object(l.a)(Array(n)).map((function(e,n){return t+n}))}var j=function(e){return e.toString().replace(/,/g,"")};var f=n(185);n(22)},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return N}));var r,a,c,s=n(2),o=n.n(s),i=n(8),u=n(4),d=n(3),l=n(1),b=n(63),j=n.n(b),f=n(417),O=n.n(f),p=n(9),h=n(10),m=n(30);!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.CONNECT_WEB3MODAL=0]="CONNECT_WEB3MODAL",e[e.DEACTIVATE_PROVIDER_WEB3MODAL=1]="DEACTIVATE_PROVIDER_WEB3MODAL",e[e.ERROR_WEB3MODAL=2]="ERROR_WEB3MODAL",e[e.INITIAL_CACHED_CONNECTOR_CHECK_STATUS=3]="INITIAL_CACHED_CONNECTOR_CHECK_STATUS",e[e.NEW_WEB3MODAL=4]="NEW_WEB3MODAL",e[e.UPDATE_ACCOUNT=5]="UPDATE_ACCOUNT"}(a||(a={})),function(e){e.CONNECT="CONNECT",e.DISCONNECT="DISCONNECT"}(c||(c={}));var v={};function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case a.CONNECT_WEB3MODAL:var c=r||{},s=c.provider,o=c.networkId,i=c.account,u=c.connected,l=c.web3Instance;return Object(d.a)(Object(d.a)({},e),{},{account:i,connected:u,networkId:o,provider:s,web3Instance:l});case a.DEACTIVATE_PROVIDER_WEB3MODAL:return v;case a.ERROR_WEB3MODAL:var b=r||{},j=b.error;return Object(d.a)(Object(d.a)({},e),{},{error:j});case a.INITIAL_CACHED_CONNECTOR_CHECK_STATUS:var f=r||{},O=f.initialCachedConnectorCheckStatus;return Object(d.a)(Object(d.a)({},e),{},{initialCachedConnectorCheckStatus:O});case a.NEW_WEB3MODAL:var p=r||{},h=p.web3Modal;return{web3Modal:h};case a.UPDATE_ACCOUNT:var m=r||{},x=m.account;return Object(d.a)(Object(d.a)({},e),{},{account:x});default:return v}}function N(e){var t,n,r=e.defaultChain,s=e.defaultTheme,b=e.onBeforeConnect,f=e.onBeforeDisconnect,v=e.providerOptions,N=Object(l.useReducer)(x,{initialCachedConnectorCheckStatus:p.a.STANDBY}),g=Object(u.a)(N,2),E=g[0],A=g[1],w=s,I=r||h.k,y=Object(l.useCallback)(k,[b,E.web3Modal]),C=Object(l.useCallback)((function(e){var t,n;if(!(null===(t=E.web3Modal)||void 0===t?void 0:t.cachedProvider))return;y(null===(n=E.web3Modal)||void 0===n?void 0:n.cachedProvider)}),[y,null===(t=E.web3Modal)||void 0===t?void 0:t.cachedProvider]);function _(e){var t=Object(u.a)(e,1)[0];A({type:a.UPDATE_ACCOUNT,payload:{account:t}})}function D(){return(D=Object(i.a)(o.a.mark((function e(t,n){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.INITIAL_CACHED_CONNECTOR_CHECK_STATUS,"string"===typeof t){e.next=3;break}return e.abrupt("return");case 3:if(A({type:r,payload:{initialCachedConnectorCheckStatus:p.a.PENDING}}),!t){e.next=7;break}return e.next=7,n(t);case 7:A({type:r,payload:{initialCachedConnectorCheckStatus:p.a.FULFILLED}});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(o.a.mark((function e(t){var n,r,s,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,E.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,E.web3Modal.connectTo(t);case 5:return n=e.sent,r=new j.a(n),e.next=9,r.eth.getAccounts();case 9:return s=e.sent,i=Object(u.a)(s,1),d=i[0],e.next=14,null===b||void 0===b?void 0:b();case 14:return e.t0=A,e.t1=a.CONNECT_WEB3MODAL,e.t2=d,e.next=19,r.eth.net.getId();case 19:e.t3=e.sent,e.t4=n,e.t5=r,e.t6={account:e.t2,connected:!0,networkId:e.t3,provider:e.t4,web3Instance:e.t5},e.t7={type:e.t1,payload:e.t6},(0,e.t0)(e.t7),e.next=30;break;case 27:e.prev=27,e.t8=e.catch(0),A({type:a.ERROR_WEB3MODAL,payload:{error:{connectorId:t,error:new Error("Failed to connect to ".concat(t,".")),type:c.CONNECT}}});case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))).apply(this,arguments)}function S(){return(S=Object(i.a)(o.a.mark((function e(){var t,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===(t=E.provider)||void 0===t||null===(n=t.close)||void 0===n?void 0:n.call(t);case 3:if(e.t0=E.web3Modal,!e.t0){e.next=7;break}return e.next=7,E.web3Modal.clearCachedProvider();case 7:return e.next=9,null===f||void 0===f?void 0:f();case 9:A({type:a.DEACTIVATE_PROVIDER_WEB3MODAL}),e.next=16;break;case 12:e.prev=12,e.t1=e.catch(0),s=(null===(r=E.web3Modal)||void 0===r?void 0:r.cachedProvider)||"",A({type:a.ERROR_WEB3MODAL,payload:{error:{connectorId:s,error:new Error("Failed to disconnect from ".concat(s||"provider",".")),type:c.DISCONNECT}}});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(l.useEffect)((function(){var e,t,n=E.provider;return null===n||void 0===n||null===(e=n.on)||void 0===e||e.call(n,"accountsChanged",_),null===n||void 0===n||null===(t=n.on)||void 0===t||t.call(n,"chainChanged",C),function(){var e,t;null===n||void 0===n||null===(e=n.removeListener)||void 0===e||e.call(n,"accountsChanged",_),null===n||void 0===n||null===(t=n.removeListener)||void 0===t||t.call(n,"chainChanged",C)}}),[C,E.provider]),Object(l.useEffect)((function(){E.web3Modal||A({type:a.NEW_WEB3MODAL,payload:{web3Modal:new O.a({cacheProvider:!0,network:m.c[m.b[I]],providerOptions:v,theme:w})}})}),[v,E.web3Modal,I,w]),Object(l.useEffect)((function(){var e;E.initialCachedConnectorCheckStatus!==p.a.FULFILLED&&E.initialCachedConnectorCheckStatus!==p.a.PENDING&&function(e,t){D.apply(this,arguments)}(null===(e=E.web3Modal)||void 0===e?void 0:e.cachedProvider,y)}),[y,E.initialCachedConnectorCheckStatus,null===(n=E.web3Modal)||void 0===n?void 0:n.cachedProvider]),Object(d.a)(Object(d.a)({},E),{},{connectWeb3Modal:k,disconnectWeb3Modal:function(){return S.apply(this,arguments)},providerOptions:v})}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return B}));var r=n(2),a=n.n(r),c=n(3),s=n(8),o=n(4),i=n(1),u=n(15),d=n(20),l=n(5),b=n(10),j=n(31),f=n(49),O=n(11),p=n(61),h=n(45),m=n(13),v=n(70),x=n(28),N=n(55),g=n(21),E=n(43),A=n(0);function w(e){var t,n=e.adapterName,r=e.proposal,w=r.daoProposalVotingAdapter,I=r.snapshotProposal,y=Object(i.useState)(l.f.STANDBY),C=Object(o.a)(y,2),_=C[0],D=C[1],k=Object(i.useState)(),T=Object(o.a)(k,2),S=T[0],R=T[1],P=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),L=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),F=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi.find((function(e){return"getPriorAmount"===e.name}))})),M=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),B=null===(t=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})))||void 0===t?void 0:t.find((function(e){return"getMemberAddress"===e.name})),G=Object(u.c)((function(e){return e.contracts})),U=Object(m.e)(),V=U.account,W=U.provider,Y=U.web3Instance,z=Object(m.a)(),H=z.txEtherscanURL,K=z.txIsPromptOpen,q=z.txSend,J=z.txStatus,Q=Object(h.f)(),X=Q.isDisabled,$=Q.openWhyDisabledModal,Z=Q.WhyDisabledModal,ee=Object(m.b)().fast,te=null===w||void 0===w?void 0:w.getWeb3VotingAdapterContract().methods,ne=_===l.f.AWAITING_CONFIRM||_===l.f.PENDING||J===l.f.AWAITING_CONFIRM||J===l.f.PENDING,re=J===l.f.FULFILLED&&_===l.f.FULFILLED,ae=ne||re||K;function ce(){return(ce=Object(s.a)(a.a.mark((function e(){var t,r,s,o,i,u,h,m,v,x,N,g,E,A,w,y,C,_,k,T,S;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(P){e.next=5;break}throw new Error("No Bank Extension address was found.");case 5:if(B){e.next=7;break}throw new Error("No ABI for `getMemberAddress` was found.");case 7:if(F){e.next=9;break}throw new Error("No ABI for `getPriorAmount` was found.");case 9:if(I){e.next=11;break}throw new Error("No Snapshot proposal was found.");case 11:if(I.votes){e.next=13;break}throw new Error("No Snapshot proposal votes Array was found.");case 13:if(te){e.next=15;break}throw new Error('No "OffchainVotingContract" methods were found.');case 15:if(Y){e.next=17;break}throw new Error("No Web3 instance was found.");case 17:return D(l.f.AWAITING_CONFIRM),r=I.idInDAO,s=I.msg.payload.snapshot.toString(),o=Object(j.d)(n,G),e.next=23,L.getPriorAmount(b.F,b.x,s).call();case 23:return i=e.sent,u=Object(O.h)(Number(i)-1,0).map((function(e){return[M,B,[e.toString()]]})),e.next=27,Object(j.j)({calls:u,web3Instance:Y});case 27:return h=e.sent,m=h.map((function(e){return[P,F,[e,b.I,s]]})),e.next=31,Object(j.j)({calls:m,web3Instance:Y});case 31:return v=e.sent,x=h.map((function(e,t){var n,a=Object.values((null===(n=I.votes)||void 0===n?void 0:n.find((function(t){return Object(O.g)(e)===Object(O.g)(Object.values(t)[0].msg.payload.metadata.memberAddress)})))||{})[0];return Object(d.createVote)({proposalId:r,sig:(null===a||void 0===a?void 0:a.sig)||"0x",timestamp:a?Number(a.msg.timestamp):0,voteYes:(null===a||void 0===a?void 0:a.msg.payload.choice)===d.VoteChoicesIndex.Yes,weight:a?v[t]:"0"})})),e.next=35,Object(d.prepareVoteResult)({actionId:o,chainId:b.k,daoAddress:M,votes:x});case 35:return N=e.sent,g=N.voteResultTree,E=N.result,A=g.getHexRoot(),w=Object(d.getVoteResultRootDomainDefinition)(M,o,b.k),y=w.domain,C=w.types,_=JSON.stringify({domain:y,message:{root:A},primaryType:p.a,types:C}),e.next=43,Object(d.signMessage)(W,V,_);case 43:return k=e.sent,e.next=46,Object(f.a)(A);case 46:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=50;break}e.t1=void 0===t;case 50:if(!e.t1){e.next=54;break}e.t3=void 0,e.next=55;break;case 54:e.t3=t.merkle_root.length;case 55:if(e.t0=e.t3,e.t0){e.next=58;break}e.t0="";case 58:if(e.t4=e.t0,e.t4>0){e.next=63;break}return e.next=63,Object(f.f)({actionId:o,chainId:b.k,steps:E,merkleRoot:A,verifyingContract:M});case 63:return D(l.f.FULFILLED),T=[M,r,A,E[E.length-1],k],S=Object(c.a)({from:V||""},ee?{gasPrice:ee}:null),e.next=68,q("submitVoteResult",te,T,S);case 68:e.next=74;break;case 70:e.prev=70,e.t5=e.catch(0),R(e.t5),D(l.f.REJECTED);case 74:case"end":return e.stop()}}),e,null,[[0,70]])})))).apply(this,arguments)}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{className:"proposaldetails__button",disabled:X||ae,onClick:X||ae?function(){}:function(){return ce.apply(this,arguments)},children:ne?Object(A.jsx)(E.a,{}):re?"Done":"Submit Vote Result"}),Object(A.jsx)(x.a,{error:S,renderText:"Something went wrong"}),ae&&Object(A.jsx)("div",{className:"form__submit-status-container",children:function(){if(J===l.f.AWAITING_CONFIRM||_===l.f.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(J){case l.f.PENDING:return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(v.a,{intervalMs:2e3,messages:p.b,useFirstItemStart:!0,render:function(e){return Object(A.jsx)(g.a,{children:e},e)}}),Object(A.jsx)(N.a,{url:H,isPending:!0})]});case l.f.FULFILLED:return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:"Result submitted!"}),Object(A.jsx)(N.a,{url:H})]});default:return null}}()}),X&&Object(A.jsx)("button",{className:"button--help-centered",onClick:$,children:"Why is submitting disabled?"})]}),Object(A.jsx)(Z,{title:"Why is this disabled?"})]})}var I=n(50);function y(e){var t,n,r,b=e.adapterName,j=e.proposal,p=Object(i.useState)(),v=Object(o.a)(p,2),N=v[0],g=v[1],E=Object(i.useState)(),w=Object(o.a)(E,2),y=w[0],C=w[1],_=Object(i.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),D=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),k=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isAddressDelegated})),T=Object(m.e)().account,S=Object(I.f)(),R=S.signAndSendVote,P=S.voteDataStatus,L=Object(f.b)(null===(t=j.snapshotProposal)||void 0===t?void 0:t.votes,T||""),F=Object(h.f)(),M=F.isDisabled,G=F.openWhyDisabledModal,U=F.setOtherDisabledReasons,V=F.WhyDisabledModal,W=(null===(n=j.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",Y=(null===(r=j.snapshotProposal)||void 0===r?void 0:r.idInSnapshot)||"",z=P===l.f.AWAITING_CONFIRM||P===l.f.PENDING,H=P===l.f.FULFILLED,K=M||(z||H),q=z?N:void 0;function J(){return(J=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,W){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(Y){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return g(d.VoteChoices[t]),e.next=8,R(Object(c.a)(Object(c.a)({},b?{adapterName:b}:void 0),{},{partialVoteData:{choice:t},proposalIdInDAO:W,proposalIdInSnapshot:Y}));case 8:return e.next=10,j.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),C(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(D){var e=k?(t=D,"Your member address is delegated to ".concat(Object(O.j)(t,7),". You must use that address to vote.")):"";_.current=Object(c.a)(Object(c.a)({},_.current),{},{addressIsDelegatedMessage:e})}var t;_.current=Object(c.a)(Object(c.a)({},_.current),{},{alreadyVotedMessage:L?"You have already voted.":""}),U(Object.values(_.current))}),[D,k,U,L]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(B,{onClick:K?function(){}:function(e){return J.apply(this,arguments)},buttonProps:{disabled:K,"aria-disabled":K},voteChosen:L,voteProgress:q}),Object(A.jsx)(x.a,{error:y,renderText:"Something went wrong"}),M&&Object(A.jsx)("button",{className:"button--help-centered",onClick:G,children:"Why is voting disabled?"}),Object(A.jsx)(V,{title:"Why is voting disabled?"})]})}var C=n(59);function _(e){var t=e.startLabel,n=e.startPeriodMs,r=e.endLabel,a=e.endedLabel,c=e.endPeriodMs,s=Object(i.useState)(null),u=Object(o.a)(s,2),d=u[0],l=u[1],b=Object(i.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),r=n.days,a=n.hours,c=n.minutes,s=n.seconds;return r>2&&t?"~".concat(r," days"):r>0?"".concat(j(r,"day")," : ").concat(j(a,"hr")," : ").concat(j(c,"min")):a>0?"".concat(j(a,"hr")," : ").concat(j(c,"min")):c>0?"".concat(j(c,"min")," : ").concat(j(s,"sec")):Object(A.jsx)("span",{className:"color-brightsalmon",children:j(s,"sec")})}),[]);function j(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(i.useEffect)((function(){var e=setInterval((function(){var s=new Date,o=new Date(n),i=new Date(c);if(s<o){var u=Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(A.jsx)("span",{className:"votingstatus__timer",children:b(o,!0)})]});l(u)}else if(s<i){var d=Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{className:"votingstatus",children:r||"Ends:"})," ",Object(A.jsx)("span",{className:"votingstatus__timer",children:b(i)})]});l(d)}else{l(Object(A.jsx)("span",{className:"votingstatus",children:a||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[b,r,c,a,t,n]),Object(A.jsx)("div",{children:d})}function D(e){return Object(A.jsxs)("svg",Object(c.a)(Object(c.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(A.jsx)("defs",{children:Object(A.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(A.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(A.jsxs)("g",{id:"Group-70",children:[Object(A.jsx)("mask",{id:"mask-2",fill:"white",children:Object(A.jsx)("use",{xlinkHref:"#path-1"})}),Object(A.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function k(e){var t=e.hasVotingEnded,n=e.noUnits,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,s=void 0===c||c,o=e.totalUnits,i=e.yesUnits,u=r();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"votingstatus-container",children:[Object(A.jsx)(D,{"aria-label":"Counting down until voting ends",role:"img"}),u&&Object(A.jsx)("span",{className:"votingstatus",children:u}),a(_)]}),Object(A.jsx)(M,{yesUnits:i,noUnits:n,totalUnits:o,votingExpired:t,showPercentages:s})]})}var T=Object(A.jsxs)("span",{children:["Grace period ends:",Object(A.jsx)("br",{})]}),S=Object(A.jsxs)("span",{children:["Grace period ended ",Object(A.jsx)("br",{})," ",Object(A.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),R={duration:150};function P(e){var t,n,r,a=e.countdownGracePeriodStartMs,c=e.proposal,s=e.votingResult,d=c.snapshotProposal,b=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),f=Object(i.useState)(),O=Object(o.a)(f,2),p=O[0],h=O[1],m=Object(i.useState)(0),v=Object(o.a)(m,2),x=v[0],N=v[1],g=Object(I.h)(null===(t=c.snapshotProposal)||void 0===t?void 0:t.msg.payload.start,null===(n=c.snapshotProposal)||void 0===n?void 0:n.msg.payload.end),E=g.hasVotingTimeStarted,w=g.hasVotingTimeEnded,y=g.votingTimeStartEndInitReady,_=Object(I.a)(s?void 0:c.snapshotProposal).offchainVotingResults,D=s||(null===(r=_[0])||void 0===r?void 0:r[1]),P=(null===d||void 0===d?void 0:d.msg.payload.start)||0,L=(null===d||void 0===d?void 0:d.msg.payload.end)||0,F=(null===D||void 0===D?void 0:D.Yes.units)||0,M=(null===D||void 0===D?void 0:D.No.units)||0,B=null===D||void 0===D?void 0:D.totalUnits;return Object(i.useEffect)((function(){w&&h(F>M)}),[w,M,F]),Object(i.useEffect)((function(){a&&b&&Object(j.f)(l.b.offchainVotingGracePeriod,b).then((function(e){return e&&N(1e3*Number(e))})).catch((function(){return N(0)}))}),[a,b]),Object(A.jsx)(k,{renderTimer:function(e){return y&&E&&!w?Object(A.jsx)(e,{startPeriodMs:1e3*P,endPeriodMs:1e3*L}):a&&x?Object(A.jsx)(e,{startPeriodMs:a,endLabel:T,endedLabel:S,endPeriodMs:a+x}):void 0},renderStatus:function(){return y?a?"":"boolean"===typeof p?p?"Approved":"Failed":void 0:Object(A.jsx)(C.a,{ariaLabel:"Getting off-chain voting status",intervalMs:200,fadeInProps:R})},hasVotingEnded:w,noUnits:M,totalUnits:B,yesUnits:F})}function L(e){return Object(A.jsx)("svg",Object(c.a)(Object(c.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(A.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function F(e,t){return(e/t*100).toFixed(0)}function M(e){var t=e.yesUnits,n=void 0===t?0:t,r=e.noUnits,a=void 0===r?0:r,c=e.totalUnits,s=e.votingExpired,o=e.showPercentages,i=c?F(n,c):"0",u=c?F(a,c):"0";return Object(A.jsxs)("div",{className:"votingbar-container",children:[Object(A.jsxs)("div",{className:"votingbar",children:[Object(A.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(i,"% yes votes"),style:{width:"".concat(i,"%")}}),Object(A.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(u,"% no votes"),style:{width:"".concat(u,"%")}})]}),Object(A.jsx)("div",{className:"votingbar__percentages",children:o&&Object(A.jsxs)(A.Fragment,{children:[s&&n>a&&Object(A.jsx)("span",{className:"yes-check",children:Object(A.jsx)(L,{"aria-label":"Vote has passed"})}),Object(A.jsxs)("span",{className:"yes-percent",children:[i,"%"]}),Object(A.jsxs)("span",{className:"no-percent",children:[u,"%"]}),s&&n<=a&&Object(A.jsx)("span",{className:"no-check",children:Object(A.jsx)(L,{"aria-label":"Vote has failed"})})]})})]})}function B(e){var t=e.buttonProps,n=e.onClick,r=e.voteChosen,a=e.voteProgress,s=function(e){return r===e?"votingbutton--voted":""};function o(e){return a===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function i(e){return a===e?Object(A.jsx)(E.a,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):r===e?"Voted ".concat(e):"Vote ".concat(e)}function u(e){return function(){n(e)}}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("button",Object(c.a)(Object(c.a)(Object(c.a)({},t),o(d.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(s(d.VoteChoices.Yes)),onClick:u(d.VoteChoices.Yes),children:i(d.VoteChoices.Yes)})),Object(A.jsx)("button",Object(c.a)(Object(c.a)(Object(c.a)({},t),o(d.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(s(d.VoteChoices.No)),onClick:u(d.VoteChoices.No),children:i(d.VoteChoices.No)}))]})}},13:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return l.a}));var r=n(2),a=n.n(r),c=n(8),s=n(4),o=n(1),i=n(10),u=n(31),d=n(11),l=n(96),b=n(5);function j(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(""),f=Object(s.a)(j,2),O=f[0],p=f[1],h=Object(o.useState)(!1),m=Object(s.a)(h,2),v=m[0],x=m[1],N=Object(o.useState)(),g=Object(s.a)(N,2),E=g[0],A=g[1],w=Object(o.useState)(b.f.STANDBY),I=Object(s.a)(w,2),y=I[0],C=I[1],_=Object(l.a)().networkId;function D(e){return function(t){C(b.f.PENDING),x(!1),_&&_!==i.c.GANACHE&&p("".concat(i.o[_],"/tx/").concat(t)),e&&e(t)}}function k(){return(k=Object(c.a)(a.a.mark((function e(){var t,n,c,s,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),p(""),C(b.f.AWAITING_CONFIRM),x(!0),n=i.length,c=new Array(n),s=0;s<n;s++)c[s]=i[s];return c[4]=D(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return o=e.sent,A(o),C(b.f.FULFILLED),t(),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),C(b.f.REJECTED),x(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:O,txIsPromptOpen:v,txReceipt:E,txSend:function(){return k.apply(this,arguments)},txStatus:y}}n(32);var f=n(3),O=n(22),p=n(164),h=n.n(p),m=n(9),v=n(45);function x(e){return Object(O.toWei)(new h.a((e/10).toFixed(4)).toString(),"Gwei")}var N={average:void 0,fast:void 0,fastest:void 0,safeLow:void 0};function g(e){var t=(e||{}).ignoreEnvironment,n=void 0!==t&&t,r=Object(o.useState)(N),a=Object(s.a)(r,2),c=a[0],u=a[1],d=Object(o.useState)(),l=Object(s.a)(d,2),b=l[0],j=l[1],O=Object(o.useState)(m.a.STANDBY),p=Object(s.a)(O,2),h=p[0],g=p[1],E=Object(v.a)(),A=E.abortController,w=E.isMountedRef,I=!1===n&&"production"!==i.m;return Object(o.useEffect)((function(){if((null===A||void 0===A?void 0:A.signal)&&!I)return j(void 0),g(m.a.PENDING),fetch("https://ethgasstation.info/json/ethgasAPI.json",{signal:A.signal}).then((function(e){if(w.current){if(!e.ok)throw new Error("Something went wrong while getting the latest gas price.");return g(m.a.FULFILLED),e.json()}})).then((function(e){if(w.current){var t=e.average,n=e.fast,r=e.fastest,a=e.safeLow;u({average:x(t),fast:x(n),fastest:x(r),safeLow:x(a)})}})).catch((function(e){w.current&&(j(e),u(N),g(m.a.REJECTED))})),function(){A.abort()}}),[A,w,I]),Object(f.a)(Object(f.a)({},c),{},{gasPriceError:b,gasPriceStatus:h})}var E=n(15),A=n(18);function w(){var e=Object(E.b)();function t(){return(t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.web3Instance,t.prev=1,t.next=4,e(Object(A.F)(r));case 4:return t.next=6,e(Object(A.E)(r));case 6:return t.next=8,e(Object(A.B)(r));case 8:return t.next=10,e(Object(A.C)(r));case 10:return t.next=12,e(Object(A.J)(r));case 12:return t.next=14,e(Object(A.K)(r));case 14:return t.next=16,e(Object(A.L)(r));case 16:return t.next=18,e(Object(A.P)(r));case 18:return t.next=20,e(Object(A.z)(r));case 20:return t.next=22,e(Object(A.A)(r));case 22:return t.next=24,e(Object(A.L)(r));case 24:return t.next=26,e(Object(A.O)(r));case 26:return t.next=28,e(Object(A.Q)(r));case 28:return t.next=30,e(Object(A.H)(r));case 30:return t.next=32,e(Object(A.S)(r));case 32:return t.next=34,e(Object(A.R)(r));case 34:return t.next=36,e(Object(A.N)(r));case 36:return t.next=38,e(Object(A.M)(r));case 38:return t.next=40,e(Object(A.D)(r));case 40:return t.next=42,e(Object(A.G)(r));case 42:return t.next=44,e(Object(A.I)(r));case 44:t.next=49;break;case 46:throw t.prev=46,t.t0=t.catch(1),t.t0;case 49:case"end":return t.stop()}}),t,null,[[1,46]])})))).apply(this,arguments)}return Object(o.useCallback)((function(e){return t.apply(this,arguments)}),[e])}function I(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(o.useState)(),a=Object(s.a)(r,2),c=a[0],u=a[1];return Object(o.useEffect)((function(){n&&t!==i.k?u(new Error("Please connect to the ".concat(i.d[i.k],"."))):u(void 0)}),[n,t]),{defaultChain:i.k,defaultChainError:c,isDefaultChain:t===i.k}}n(126)},14:function(e,t,n){"use strict";var r,a,c;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.COUPON_ONBOARDING="coupon-onboarding",e.DAO_REGISTRY="daoRegistry",e.DISTRIBUTE="distribute",e.EXECUTION="execution",e.FINANCING="financing",e.GUILDKICK="guildkick",e.MANAGING="managing",e.NFT="nft",e.NONVOTING_ONBOARDING="nonvoting-onboarding",e.OFFCHAINVOTING="offchainvoting",e.ONBOARDING="onboarding",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.TRIBUTE_NFT="tribute-nft",e.VOTING="voting"}(r||(r={})),function(e){e.BANK="bank",e.ERC20="erc20-ext",e.NFT="nft"}(a||(a={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(c||(c={}))},142:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return O}));var r,a=n(2),c=n.n(a),s=n(3),o=n(8),i=n(4),u=n(1),d=n(15),l=n(22),b=n(10),j=n(13),f=n(18);function O(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(d.c)((function(e){return e.contracts.CouponOnboardingContract})),n=Object(u.useState)(),a=Object(i.a)(n,2),O=a[0],p=a[1],h=Object(u.useState)(r.STANDBY),m=Object(i.a)(h,2),v=m[0],x=m[1],N=Object(j.b)().fast,g=Object(j.e)(),E=g.account,A=g.web3Instance,w=Object(j.d)().defaultChainError,I=Object(j.a)(),y=I.txError,C=I.txEtherscanURL,_=I.txIsPromptOpen,D=I.txSend,k=I.txStatus,T=Object(d.b)();function S(){return(S=Object(o.a)(c.a.mark((function n(a,o){var i,u,d;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!w){n.next=3;break}throw new Error("Wrong network connected.");case 3:if(a){n.next=5;break}throw new Error("No coupon data was found.");case 5:if(E){n.next=7;break}throw new Error("No account found.");case 7:if(e){n.next=9;break}throw new Error("No DAO Registry contract was found.");case 9:if(t){n.next=11;break}throw new Error("No Coupon Onboarding contract was found.");case 11:if(A){n.next=13;break}throw new Error("No Web3 instance was found.");case 13:return x(r.PENDING),i=Object(l.toChecksumAddress)(a.recipient),u=[e.contractAddress,i,String(a.amount),Number(a.nonce),a.signature],d=Object(s.a)({from:E||""},N?{gasPrice:N}:null),n.next=19,D("redeemCoupon",t.instance.methods,u,d);case 19:if(!n.sent){n.next=29;break}return n.next=23,fetch("".concat(b.g,"/api/coupon/redeem"),{method:"PATCH",body:JSON.stringify({signature:a.signature}),headers:{"Content-Type":"application/json"}});case 23:if(x(r.FULFILLED),a.recipient.toLowerCase()!==E.toLowerCase()){n.next=29;break}return n.next=27,R(o);case 27:return n.next=29,T(Object(f.y)({account:E,daoRegistryContract:e,web3Instance:A}));case 29:n.next=35;break;case 31:n.prev=31,n.t0=n.catch(0),p(n.t0),x(r.REJECTED);case 35:case"end":return n.stop()}}),n,null,[[0,31]])})))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return{isInProcessOrDone:v===r.PENDING||v===r.FULFILLED,redeemCoupon:function(e,t){return S.apply(this,arguments)},submitError:O,submitStatus:v,txStatus:k,txError:y,txEtherscanURL:C,txIsPromptOpen:_}}!function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},159:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return O}));var r=n(3),a=n(2),c=n.n(a),s=n(4),o=n(8),i=n(52),u=n(31),d=n(5),l=n(11),b="SET_CONNECTED_MEMBER",j="CLEAR_CONNECTED_MEMBER";function f(e){var t=e.account,n=e.daoRegistryContract,a=e.web3Instance;return function(){var e=Object(o.a)(c.a.mark((function e(o){var j,f,p,h,m,v,x,N,g,E,A,w,I,y,C,_;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j=null===n||void 0===n?void 0:n.instance.methods,f=null===n||void 0===n?void 0:n.contractAddress,p=null===n||void 0===n?void 0:n.abi.find((function(e){return"getAddressIfDelegated"===e.name})),h=null===n||void 0===n?void 0:n.abi.find((function(e){return"members"===e.name})),m=null===n||void 0===n?void 0:n.abi.find((function(e){return"isActiveMember"===e.name})),v=null===n||void 0===n?void 0:n.abi.find((function(e){return"getCurrentDelegateKey"===e.name})),t&&f&&j&&p&&v&&m&&h){e.next=9;break}return o(O()),e.abrupt("return");case 9:return e.prev=9,e.next=12,Object(u.j)({calls:[[f,p,[t]],[f,h,[t]],[f,m,[f,t]],[f,v,[t]]],web3Instance:a});case 12:x=e.sent,N=Object(s.a)(x,4),g=N[0],E=N[1],A=N[2],w=N[3],I=Object(u.i)(d.d.EXISTS,E),y=A||I?w:i.a,C=A||I?g:i.a,_=Object(l.g)(t)===Object(l.g)(C)&&Object(l.g)(t)!==Object(l.g)(y),o((c={delegateKey:y,isAddressDelegated:_,isActiveMember:A,memberAddress:C},Object(r.a)({type:b},c))),e.next=29;break;case 25:throw e.prev=25,e.t0=e.catch(9),o(O()),e.t0;case 29:case"end":return e.stop()}var c}),e,null,[[9,25]])})));return function(t){return e.apply(this,arguments)}}()}function O(){return{type:j}}},18:function(e,t,n){"use strict";n.d(t,"y",(function(){return r.d})),n.d(t,"w",(function(){return r.c})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return I})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return D})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return T})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return R})),n.d(t,"u",(function(){return P})),n.d(t,"v",(function(){return L})),n.d(t,"x",(function(){return F})),n.d(t,"B",(function(){return M})),n.d(t,"E",(function(){return B})),n.d(t,"F",(function(){return G})),n.d(t,"O",(function(){return W})),n.d(t,"A",(function(){return Y})),n.d(t,"Q",(function(){return z})),n.d(t,"H",(function(){return H})),n.d(t,"L",(function(){return K})),n.d(t,"z",(function(){return q})),n.d(t,"M",(function(){return J})),n.d(t,"G",(function(){return Q})),n.d(t,"P",(function(){return X})),n.d(t,"K",(function(){return $})),n.d(t,"J",(function(){return Z})),n.d(t,"C",(function(){return ee})),n.d(t,"R",(function(){return te})),n.d(t,"D",(function(){return ne})),n.d(t,"N",(function(){return re})),n.d(t,"I",(function(){return ae})),n.d(t,"S",(function(){return ce})),n.d(t,"T",(function(){return ie.b}));var r=n(159),a=n(3),c=n(62),s=n(2),o=n.n(s),i=n(8),u=n(5),d=n(10),l=n(31),b=n(14),j=n(186),f=["type"],O="CLEAR_CONTRACTS",p="CONTRACT_BANK_ADAPTER",h="CONTRACT_BANK_EXTENSION",m="CONTRACT_BANK_FACTORY",v="CONTRACT_CONFIGURATION",x="CONTRACT_COUPON_ONBOARDING",N="CONTRACT_DAO_FACTORY",g="CONTRACT_DAO_REGISTRY",E="CONTRACT_DAO_REGISTRY_ADAPTER",A="CONTRACT_DISTRIBUTE",w="CONTRACT_ERC20_EXTENSION",I="CONTRACT_FINANCING",y="CONTRACT_GUILDKICK",C="CONTRACT_MANAGING",_="CONTRACT_NFT_ADAPTER",D="CONTRACT_NFT_EXTENSION",k="CONTRACT_ONBOARDING",T="CONTRACT_RAGEQUIT",S="CONTRACT_TRIBUTE",R="CONTRACT_TRIBUTE_NFT",P="CONTRACT_VOTING",L="CONTRACT_VOTING_OP_ROLLUP";function F(){return{type:O}}function M(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(10).then(n.t.bind(null,962,3));case 4:a=t.sent,c=a.default,s=c,i=d.b[d.k],u=new e.eth.Contract(s,i),r(se({type:m,abi:s,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function B(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(13).then(n.t.bind(null,963,3));case 4:a=t.sent,c=a.default,s=c,i=d.h[d.k],u=new e.eth.Contract(s,i),r(se({type:N,abi:s,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function G(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(14).then(n.t.bind(null,964,3));case 4:if(a=t.sent,c=a.default,s=c,i=d.j){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(s,i),r(se({type:g,abi:s,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function U(e,t){return oe({actionType:P,adapterOrExtensionName:u.a.voting,adapterNameForRedux:b.c.VotingContract,contractAddress:t,lazyImport:function(){return n.e(2).then(n.t.bind(null,965,3))},web3Instance:e})}function V(e,t){return oe({actionType:L,adapterOrExtensionName:u.a.voting,adapterNameForRedux:b.c.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(1).then(n.t.bind(null,966,3))},web3Instance:e})}function W(e,t){return oe({actionType:k,adapterNameForRedux:b.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(24).then(n.t.bind(null,967,3))},web3Instance:e})}function Y(e,t){return oe({actionType:h,adapterNameForRedux:b.b.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(9).then(n.t.bind(null,968,3))},web3Instance:e})}function z(e,t){return oe({actionType:S,adapterNameForRedux:b.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(26).then(n.t.bind(null,969,3))},web3Instance:e})}function H(e,t){return oe({actionType:A,adapterNameForRedux:b.a.DISTRIBUTE,adapterOrExtensionName:u.a.distribute,contractAddress:t,lazyImport:function(){return n.e(16).then(n.t.bind(null,970,3))},web3Instance:e})}function K(e,t){return oe({actionType:C,adapterNameForRedux:b.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(20).then(n.t.bind(null,971,3))},web3Instance:e})}function q(e,t){return oe({actionType:p,adapterNameForRedux:b.a.BANK,adapterOrExtensionName:u.a.bank,contractAddress:t,lazyImport:function(){return n.e(8).then(n.t.bind(null,972,3))},web3Instance:e})}function J(e,t){return oe({actionType:_,adapterNameForRedux:b.a.NFT,adapterOrExtensionName:u.a.nft,contractAddress:t,lazyImport:function(){return n.e(22).then(n.t.bind(null,973,3))},web3Instance:e})}function Q(e,t){return oe({actionType:E,adapterNameForRedux:b.a.DAO_REGISTRY,adapterOrExtensionName:u.a.dao_registry,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,974,3))},web3Instance:e})}function X(e,t){return oe({actionType:T,adapterNameForRedux:b.a.RAGEQUIT,adapterOrExtensionName:u.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(25).then(n.t.bind(null,975,3))},web3Instance:e})}function $(e,t){return oe({actionType:y,adapterNameForRedux:b.a.GUILDKICK,adapterOrExtensionName:u.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,976,3))},web3Instance:e})}function Z(e,t){return oe({actionType:I,adapterNameForRedux:b.a.FINANCING,adapterOrExtensionName:u.a.financing,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,977,3))},web3Instance:e})}function ee(e,t){return oe({actionType:v,adapterNameForRedux:b.a.CONFIGURATION,adapterOrExtensionName:u.a.configuration,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,978,3))},web3Instance:e})}function te(e,t){return oe({actionType:R,adapterNameForRedux:b.a.TRIBUTE_NFT,adapterOrExtensionName:u.a.tribute_nft,contractAddress:t,lazyImport:function(){return n.e(27).then(n.t.bind(null,979,3))},web3Instance:e})}function ne(e,t){return oe({actionType:x,adapterNameForRedux:b.a.COUPON_ONBOARDING,adapterOrExtensionName:u.a.coupon_onboarding,contractAddress:t,lazyImport:function(){return n.e(12).then(n.t.bind(null,980,3))},web3Instance:e})}function re(e,t){return oe({actionType:D,adapterNameForRedux:b.b.NFT,adapterOrExtensionName:u.c.nft,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(23).then(n.t.bind(null,981,3))},web3Instance:e})}function ae(e,t){return oe({actionType:w,adapterNameForRedux:b.b.ERC20,adapterOrExtensionName:u.c.erc20,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(17).then(n.t.bind(null,982,3))},web3Instance:e})}function ce(e,t){return function(){var n=Object(i.a)(o.a.mark((function n(r,a){var c,s,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=29;break}if(a().contracts.DaoRegistryContract){n.next=6;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),n.abrupt("return");case 6:if(c="",!(s=t||"")){n.next=12;break}return n.next=11,Object(l.h)(s,e);case 11:c=n.sent;case 12:if(s||c){n.next=19;break}return n.next=15,Object(l.c)(u.a.voting,null===(i=a().contracts.DaoRegistryContract)||void 0===i?void 0:i.instance);case 15:return s=n.sent,n.next=18,Object(l.h)(s,e);case 18:c=n.sent;case 19:n.t0=c,n.next="VotingContract"===n.t0?22:"OffchainVotingContract"===n.t0?25:28;break;case 22:return n.next=24,U(e,s)(r,a);case 24:return n.abrupt("return",n.sent);case 25:return n.next=27,V(e,s)(r,a);case 27:return n.abrupt("return",n.sent);case 28:throw new Error("Voting contract name could not be found.");case 29:n.next=34;break;case 31:n.prev=31,n.t1=n.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 34:case"end":return n.stop()}}),n,null,[[0,31]])})));return function(e,t){return n.apply(this,arguments)}}()}function se(e){var t=e.type,n=Object(c.a)(e,f);return Object(a.a)({type:t},n)}function oe(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,s=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(o.a.mark((function e(c,i){var b,f,O,p,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(O=e.sent,p=O.default,h=p,e.t0=a,e.t0){e.next=18;break}if(!s){e.next=14;break}return e.next=11,Object(j.a)(r,null===(b=i().contracts.DaoRegistryContract)||void 0===b?void 0:b.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(l.c)(r,null===(f=i().contracts.DaoRegistryContract)||void 0===f?void 0:f.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(se({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new d.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}var ie=n(187)},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(76);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e||"undefined"===typeof e)return"---";if(Object(r.a)(e)){var n=e.substring(0,t),a=e.substring(e.length-3);return n+"..."+a}return e}},186:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n.n(r),c=n(8),s=n(63),o=n.n(s);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(o.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},187:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(3),a="SET_SUBGRAPH_NETWORK_STATUS";function c(e){return Object(r.a)({type:a},e)}},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(3),c=n(1),s=n(21),o=n(0),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.ariaLabel,n=e.intervalMs,l=void 0===n?1e3:n,b=e.fadeInProps,j=Object(a.a)(Object(a.a)({},b),{},{inline:!0}),f=Object(c.useState)(1),O=Object(r.a)(f,2),p=O[0],h=O[1];return Object(c.useEffect)((function(){var e=setInterval((function(){return h((function(e){return(e+1)%i.length}))}),l);return function(){clearInterval(e)}}),[l]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("span",{"aria-label":t,style:u,children:[Object(o.jsx)("span",{children:p>=0&&i[0]}),Object(o.jsx)("span",{children:p>=1&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{children:i[1]}))}),Object(o.jsx)("span",{children:p>=2&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{children:i[2]}))}),Object(o.jsx)("span",{children:p>=3&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{children:i[3]}))})]}),Object(o.jsx)("span",{style:d,children:"\xa0"})]})}},194:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n(4),a=n(1),c=n(63),s=n.n(c),o=n(126),i=n(9),u=n(10),d=n(0),l=Object(a.createContext)({});function b(e){var t,n=e.children,c=e.defaultChain,b=e.defaultTheme,j=void 0===b?o.a.DARK:b,f=e.onBeforeConnect,O=e.onBeforeDisconnect,p=e.providerOptions,h=Object(a.useRef)(new s.a(new s.a.providers.WebsocketProvider(u.n))),m=Object(a.useState)(),v=Object(r.a)(m,2),x=v[0],N=v[1],g={defaultChain:c,defaultTheme:j,onBeforeConnect:f,onBeforeDisconnect:O,providerOptions:p},E=Object(o.b)(g),A=E.account,w=E.connected,I=E.connectWeb3Modal,y=E.disconnectWeb3Modal,C=E.error,_=E.initialCachedConnectorCheckStatus,D=E.networkId,k=void 0===D?x:D,T=E.provider,S=void 0===T?null===(t=h.current)||void 0===t?void 0:t.currentProvider:T,R=E.web3Instance,P=void 0===R?h.current:R,L=E.web3Modal;Object(a.useEffect)((function(){var e;w||_!==i.a.FULFILLED||(null===(e=h.current)||void 0===e||e.eth.net.getId().then(N).catch((function(){return N(void 0)})))}),[w,_]);var F={account:A,connected:w,connectWeb3Modal:I,disconnectWeb3Modal:y,error:C,initialCachedConnectorCheckStatus:_,networkId:k,provider:S,providerOptions:p,web3Instance:P,web3Modal:L};return Object(d.jsx)(l.Provider,{value:F,children:n})}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=(n(1),n(940)),c=n(0),s=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},o={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(c.jsx)(a.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(c.jsx)("span",{style:Object(r.a)(Object(r.a)({},s(e)),o[n]),children:e.children}):Object(c.jsx)("div",{style:Object(r.a)(Object(r.a)({},s(e)),o[n]),children:e.children})}})}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),c=n(1),s=n(11),o=n(21),i=n(0);function u(e){var t=e.error,n=e.renderText,u=Object(c.useState)(!1),d=Object(a.a)(u,2),l=d[0],b=d[1],j="function"!==typeof t&&(4001===(null===t||void 0===t?void 0:t.code)||/^(the )?user rejected (the )?request$/g.test(Object(s.g)((null===t||void 0===t?void 0:t.message)||""))),f="string"===typeof n?n:n(),O="string"===typeof n&&"function"!==typeof t&&Object(s.g)(n)===Object(s.g)((null===t||void 0===t?void 0:t.message)||"");return!t||j?null:Object(i.jsx)(o.a,{children:Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("p",{className:"error-message",children:f}),t&&!O&&Object(i.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(i.jsx)("summary",{"aria-expanded":l,className:"error-message",onClick:function(){return b(!l)},style:{cursor:"pointer",outline:"none"},children:Object(i.jsx)("small",{children:"Details"})}),Object(i.jsx)("p",{className:"error-message",children:Object(i.jsx)("small",{children:"function"===typeof t?t():t.message})})]}))]})})}},30:function(e,t,n){"use strict";var r,a,c,s;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_EMAIL="The email address is invalid.",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(s||(s={}))},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return N})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return k}));var r=n(2),a=n.n(r),c=n(3),s=n(32),o=n(8),i=n(164),u=n.n(i);function d(e,t,n,r,a){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(a.a.mark((function e(t,n,r,i,d){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(o,l){var b,j,f,O;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b=u.a,j=n[t],e.next=5,j.apply(void 0,Object(s.a)(r)).estimateGas({from:i.from,value:i.value});case 5:return f=e.sent,O=new b(f).decimalPlaces(0,u.a.ROUND_DOWN).toNumber(),e.next=9,j.apply(void 0,Object(s.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:O})).on("transactionHash",(function(e){d&&d(e)})).on("receipt",(function(e){o(e)})).on("error",(function(e){l(e)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=n(63),j=n.n(b);function f(e,t){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(j.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var p=n(5);function h(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function m(e,t){try{switch(e){case p.a.configuration:return"";case p.a.distribute:return h(t.DistributeContract);case p.a.financing:case p.a.guildkick:return"";case p.a.managing:return h(t.ManagingContract);case p.a.onboarding:return h(t.OnboardingContract);case p.a.ragequit:return"";case p.a.tribute:return h(t.TributeContract);case p.a.tribute_nft:return h(t.TributeNFTContract);case p.a.voting:return h(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var v,x=n(11);function N(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(x.g)(t.contractAddress)===Object(x.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function g(e,t){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(j.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function A(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return n=t.methods,e.next=6,n.state().call();case 6:return r=e.sent,e.abrupt("return",0===Number(r)?v.CREATION:v.READY);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(v||(v={}));n(186);function I(e,t){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(t,r){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(0).then(n.t.bind(null,960,3));case 3:return c=e.sent,s=c.default,e.next=7,new r.eth.Contract(s,t).methods.getAdapterName().call();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function C(e,t){return e===Math.log2(Number(t)+1)-1}var _=n(4),D=n(10);function k(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(a.a.mark((function e(t){var r,c,s,o,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,s=t.calls,o=t.web3Instance,e.next=3,n.e(21).then(n.t.bind(null,961,3));case 3:if(i=e.sent,u=i.default,D.y){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new o.eth.Contract(u,D.y),l=d.methods,e.next=12,l.aggregate(s.map((function(e){var t=Object(_.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),o.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=s[t][1].outputs||[],r=o.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:o.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s}));var r,a,c,s;n(20),n(14);!function(e){e[e.EXISTS=0]="EXISTS",e[e.SPONSORED=1]="SPONSORED",e[e.PROCESSED=2]="PROCESSED"}(r||(r={})),function(e){e.Submit="Submit",e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.DONE=2]="DONE",e[e.FAILED=3]="FAILED"}(c||(c={})),function(e){e.Governance="Governance"}(s||(s={}))},428:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},43:function(e,t,n){"use strict";var r=n(4),a=n(62),c=n(3),s=n(1),o=n(0),i=["showAfterMs","text","textProps"];function u(e){return Object(o.jsx)("div",Object(c.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,d=e.textProps,l=Object(a.a)(e,i),b=Object(s.useState)(!1),j=Object(r.a)(b,2),f=j[0],O=j[1];return Object(s.useEffect)((function(){var e=t&&setTimeout((function(){return O(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&f)&&e.text?Object(o.jsxs)("div",{className:"loader-container",children:[Object(o.jsx)(u,Object(c.a)({},l)),Object(o.jsx)("span",Object(c.a)(Object(c.a)({className:"loader__text"},d),{},{children:n}))]}):(!t||t&&f)&&!e.text?Object(o.jsx)(u,Object(c.a)({},l)):null}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return y}));var r=n(4),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return s.current=!0,!n&&c(new AbortController),function(){s.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:s}}var s={count:0};function o(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(o,s),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}var u=n(958),d=n(15),l=n(83);function b(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(u.a)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(r.a)(t,2),c=n[0],s=n[1],o=s.called,i=s.loading,b=s.data,j=s.error,f=Object(a.useState)(),O=Object(r.a)(f,2),p=O[0],h=O[1],m=Object(a.useState)(),v=Object(r.a)(m,2),x=v[0],N=v[1],g=Object(a.useCallback)((function(){try{if(!i&&b){if(h(b.tributeDaos[0]),0===b.tributeDaos.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){N(j)}}),[null===e||void 0===e?void 0:e.contractAddress,b,j,i]);return Object(a.useEffect)((function(){o||c()}),[o,c]),Object(a.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&g()}),[null===e||void 0===e?void 0:e.contractAddress,g,i]),{dao:p,gqlError:x}}var j=n(2),f=n.n(j),O=n(8),p=n(9),h=n(90),m=n(10);function v(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(d.c)((function(e){return e.contracts.BankExtensionContract})),n=Object(d.c)((function(e){return e.subgraphNetworkStatus.status})),c=Object(u.a)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),s=Object(r.a)(c,2),o=s[0],i=s[1],b=i.called,j=i.loading,v=i.data,x=i.error,N=Object(a.useState)(),g=Object(r.a)(N,2),E=g[0],A=g[1],w=Object(a.useState)(p.a.STANDBY),I=Object(r.a)(w,2),y=I[0],C=I[1],_=Object(a.useState)(),D=Object(r.a)(_,2),k=D[0],T=D[1],S=Object(a.useCallback)((function(){return P.apply(this,arguments)}),[t]),R=Object(a.useCallback)((function(){try{if(C(p.a.PENDING),!j&&v){var e=v.tributeDaos[0].totalUnits;A(Number(e)),C(p.a.FULFILLED)}else if(x)throw new Error(x.message)}catch(x){console.log("subgraph query error: ".concat(x.message)),S()}}),[v,x,S,j]);function P(){return(P=Object(O.a)(f.a.mark((function e(){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,C(p.a.PENDING),e.next=6,t.instance.methods.balanceOf(m.F,m.I);case 6:n=e.sent,A(Number(n)),C(p.a.FULFILLED),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0),A(void 0),T(e.t0),C(p.a.REJECTED);case 17:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){b||o()}),[b,o]),Object(a.useEffect)((function(){n===h.a.OK?!j&&(null===e||void 0===e?void 0:e.contractAddress)&&R():S()}),[null===e||void 0===e?void 0:e.contractAddress,S,R,j,n]),{totalUnits:E,totalUnitsError:k,totalUnitsStatus:y}}function x(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var N=n(141),g=n.n(N),E=n(13),A=n(21),w=n(82),I=n(0);function y(e){var t=(e||{}).skipIsActiveMemberCheck,n=void 0!==t&&t,c=Object(a.useState)([]),s=Object(r.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)(!1),l=Object(r.a)(u,2),b=l[0],j=l[1],f=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),O=Object(E.e)().connected,p=o&&o.find((function(e){return e})),h=function(){if(!O)return"Your wallet is not connected.";if(!f&&!n)return"Either you are not a member, or your membership is not active.";return p||""}(),m=!!h||!!p,v=!(!m||!h),x=Object(a.useCallback)((function(e){if(!v)return null;var t=e.title;return Object(I.jsx)(g.a,{ariaHideApp:!1,className:"modal-container",isOpen:b,onRequestClose:function(){j(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(I.jsx)(A.a,{children:Object(I.jsxs)("div",{className:"modal",children:[Object(I.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){j(!1)},children:Object(I.jsx)(w.a,{})}),Object(I.jsxs)("div",{className:"card",children:[Object(I.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(I.jsx)("p",{children:h})]})]})})})}),[v,h,b]),N=Object(a.useCallback)((function(e){i(e.filter(Boolean))}),[]);return{disabledReason:h,isDisabled:m,openWhyDisabledModal:function(){j(!0)},setOtherDisabledReasons:N,WhyDisabledModal:x}}n(142)},464:function(e,t){},48:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(r||(r={}))},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return x}));var r=n(2),a=n.n(r),c=n(8),s=n(10);function o(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.D,"/api/").concat(s.E,"/offchain_proof/").concat(t));case 3:if(404!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:if(n.ok){e.next=8;break}throw new Error("Something went wrong while getting the off-chain vote proof.");case 8:return e.next=10,n.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var u=n(4),d=n(20),l=n(11),b=n(5);function j(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(u.a)(e,2),r=n[0];n[1];return Object(l.g)(r)===Object(l.g)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===d.VoteChoicesIndex.Yes?b.e.Yes:b.e.No}var f=n(14);function O(e){return p.apply(this,arguments)}function p(){return(p=Object(c.a)(a.a.mark((function e(t){var r,c,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===f.c.OffchainVotingContract?4:e.t0===f.c.VotingContract?9:14;break;case 4:return e.next=6,n.e(1).then(n.t.bind(null,966,3));case 6:return r=e.sent,c=r.default,e.abrupt("return",c);case 9:return e.next=11,n.e(2).then(n.t.bind(null,965,3));case 11:return s=e.sent,o=s.default,e.abrupt("return",o);case 14:throw new Error('No voting adapter name was found for "'.concat(t,'".'));case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(0),e.t1;case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function h(e,t){return e===Math.log2(Number(t)+1)-1}var m=n(48);function v(e,t){return m.a[t]===m.a[e]}function x(e){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.D,"/api/").concat(s.E,"/offchain_proofs"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Something went wrong while submitting the off-chain vote proof.");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},5:function(e,t,n){"use strict";var r,a,c,s,o,i;n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),function(e){e[e.EXISTS=0]="EXISTS"}(r||(r={})),function(e){e.bank="bank",e.configuration="configuration",e.coupon_onboarding="coupon-onboarding",e.dao_registry="daoRegistry",e.distribute="distribute",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.nft="nft",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.tribute_nft="tribute-nft",e.voting="voting"}(a||(a={})),function(e){e.bank="bank",e.erc20="erc20-ext",e.nft="nft"}(c||(c={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingUnitsPerChunk="onboarding.unitsPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(s||(s={})),function(e){e.Yes="Yes",e.No="No"}(o||(o={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(i||(i={}))},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return D})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return G}));var r=n(427),a=n(32),c=n(7),s=n(2),o=n.n(s),i=n(8),u=n(4),d=n(1),l=n(15),b=n(20),j=n(9),f=n(31),O=n(10),p=n(45),h=n(13),m=n(5);function v(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),s=Object(d.useState)([]),v=Object(u.a)(s,2),x=v[0],N=v[1],g=Object(d.useState)(j.a.STANDBY),E=Object(u.a)(g,2),A=E[0],w=E[1],I=Object(d.useState)(),y=Object(u.a)(I,2),C=y[0],_=y[1],D=Object(h.e)().web3Instance,k=Object(p.e)().isMountedRef,T=null===t||void 0===t?void 0:t.find((function(e){return"getPriorAmount"===e.name})),S=Object(d.useCallback)((function(e){return R.apply(this,arguments)}),[]);function R(){return(R=Object(i.a)(o.a.mark((function e(t){var n,s,i,d,l,j,p,h,v,x,N,g,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bankAddress,s=t.getPriorAmountABI,i=t.snapshot,d=t.voterAddressesAndChoices,l=t.web3Instance,e.prev=1,j={},Object(c.a)(j,m.e.Yes,{percentage:0,units:0}),Object(c.a)(j,m.e.No,{percentage:0,units:0}),Object(c.a)(j,"totalUnits",0),p=j,h=[n,s,[O.F,O.I,i.toString()]],v=d.map((function(e){var t=Object(u.a)(e,1)[0];return[n,s,[t,O.I,i.toString()]]})),x=[h].concat(Object(a.a)(v)),e.next=8,Object(f.j)({calls:x,web3Instance:l});case 8:return N=e.sent,g=Object(r.a)(N),E=g[0],g.slice(1).forEach((function(e,t){var n=b.VoteChoicesIndex[d[t][1]]===b.VoteChoicesIndex[b.VoteChoicesIndex.Yes]?m.e.Yes:m.e.No;p[n].units+=Number(e)})),p[m.e.Yes].percentage=p[m.e.Yes].units/Number(E)*100,p[m.e.No].percentage=p[m.e.No].units/Number(E)*100,p.totalUnits=Number(E),e.abrupt("return",p);case 19:throw e.prev=19,e.t0=e.catch(1),e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){var t=Array.isArray(e)?e:[e];if(n&&T&&t.length&&D){w(j.a.PENDING);var r=t.map(function(){var e=Object(i.a)(o.a.mark((function e(t){var r,a,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===t||void 0===t?void 0:t.msg.payload.snapshot,(c=null===t||void 0===t?void 0:t.idInSnapshot)&&a){e.next=4;break}return e.abrupt("return");case 4:if(s=null===t||void 0===t||null===(r=t.votes)||void 0===r?void 0:r.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}))){e.next=7;break}return e.abrupt("return");case 7:return i=Object.entries(Object.fromEntries(s)),e.prev=8,e.next=11,S({bankAddress:n,getPriorAmountABI:T,snapshot:a,voterAddressesAndChoices:i,web3Instance:D});case 11:return u=e.sent,e.abrupt("return",[c,u]);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}());Promise.all(r).then((function(e){return e.filter((function(e){return e}))})).then((function(e){k.current&&(w(j.a.FULFILLED),N(e),_(void 0))})).catch((function(e){k.current&&(w(j.a.REJECTED),N([]),_(e))}))}}),[n,T,S,k,e,D]),{offchainVotingResults:x,offchainVotingResultsError:C,offchainVotingResultsStatus:A}}var x=n(3),N=n(52),g=n(49);function E(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),a=Object(h.e)().web3Instance,c=Object(d.useState)([]),s=Object(u.a)(c,2),b=s[0],O=s[1],p=Object(d.useState)(),m=Object(u.a)(p,2),v=m[0],x=m[1],E=Object(d.useState)(j.a.STANDBY),A=Object(u.a)(E,2),w=A[0],I=A[1],y=Object(d.useCallback)((function(){return C.apply(this,arguments)}),[e,r,t,a]);function C(){return(C=Object(i.a)(o.a.mark((function c(){var s,u,d,l,b,p,h,m,v,E,A;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.length&&r&&t&&a){c.next=2;break}return c.abrupt("return");case 2:if((s=e.filter(a.utils.isHexStrict)).length){c.next=7;break}return I(j.a.FULFILLED),O([]),c.abrupt("return");case 7:if(c.prev=7,u=r.find((function(e){return"votingAdapter"===e.name}))){c.next=11;break}throw new Error('No "votingAdapter" ABI function was found in the DAO registry ABI.');case 11:return d=s.map((function(e){return[t,u,[e]]})),I(j.a.PENDING),c.next=15,Object(f.j)({calls:d,web3Instance:a});case 15:return l=c.sent,c.next=18,n.e(0).then(n.t.bind(null,960,3));case 18:if(b=c.sent,p=b.default,h=p.find((function(e){return"getAdapterName"===e.name}))){c.next=23;break}throw new Error('No "getAdapterName" ABI function was found in the IVoting ABI.');case 23:if(m=s.filter((function(e,t){return l[t]!==N.a})),(v=l.filter((function(e){return e!==N.a}))).length){c.next=29;break}return I(j.a.FULFILLED),O([]),c.abrupt("return");case 29:return E=v.map((function(e){return[e,h,[]]})),c.next=32,Object(f.j)({calls:E,web3Instance:a});case 32:return A=c.sent,I(j.a.FULFILLED),c.t0=O,c.next=37,Promise.all(m.map(function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(A[n]);case 2:return r=e.sent,c=v[n],e.abrupt("return",[t,{votingAdapterName:A[n],votingAdapterAddress:c,getVotingAdapterABI:function(){return r},getWeb3VotingAdapterContract:function(){return new a.eth.Contract(r,c)}}]);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 37:c.t1=c.sent,(0,c.t0)(c.t1),c.next=46;break;case 41:c.prev=41,c.t2=c.catch(7),I(j.a.REJECTED),O([]),x(c.t2);case 46:case"end":return c.stop()}}),c,null,[[7,41]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){y()}),[y]),{proposalsVotingAdapters:b,proposalsVotingAdaptersError:v,proposalsVotingAdaptersStatus:w}}var A="Something went wrong while getting the proposal.",w="Proposal was not found.";function I(e,t){var n,r=Object(d.useState)(),a=Object(u.a)(r,1)[0],c=Object(d.useState)(),s=Object(u.a)(c,2),l=s[0],f=s[1],h=Object(d.useState)(),m=Object(u.a)(h,2),v=m[0],N=m[1],g=Object(d.useState)(!1),I=Object(u.a)(g,2),y=I[0],C=I[1],_=Object(d.useState)(),D=Object(u.a)(_,2),k=D[0],T=D[1],S=Object(d.useState)(j.a.STANDBY),R=Object(u.a)(S,2),P=R[0],L=R[1],F=Object(d.useState)([e]),M=Object(u.a)(F,2),B=M[0],G=M[1],U=Object(d.useState)(j.a.STANDBY),V=Object(u.a)(U,2),W=V[0],Y=V[1],z=Object(d.useState)(),H=Object(u.a)(z,2),K=H[0],q=H[1],J=Object(p.a)(),Q=J.abortController,X=J.isMountedRef,$=Object(p.b)(),Z=Object(u.a)($,2),ee=Z[0],te=Z[1],ne=E(B),re=ne.proposalsVotingAdapters,ae=ne.proposalsVotingAdaptersError,ce=ne.proposalsVotingAdaptersStatus,se=Object(d.useCallback)((function(){return le.apply(this,arguments)}),[null===Q||void 0===Q?void 0:Q.signal,e,X]),oe=Object(d.useCallback)((function(){return be.apply(this,arguments)}),[null===Q||void 0===Q?void 0:Q.signal,e,X,t]),ie=Object(d.useCallback)((function(){return je.apply(this,arguments)}),[se,oe]),ue=v?b.SnapshotType.proposal:l?b.SnapshotType.draft:void 0,de=l||v?{daoProposal:a,daoProposalVotingAdapter:null===(n=re[0])||void 0===n?void 0:n[1],getCommonSnapshotProposalData:function(){switch(ue){case b.SnapshotType.draft:return l;case b.SnapshotType.proposal:return v;default:return}},refetchProposalOrDraft:function(){te({type:"increment"})},snapshotDraft:l,snapshotProposal:v,snapshotType:ue}:void 0;function le(){return(le=Object(i.a)(o.a.mark((function t(){var n,r,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,L(j.a.PENDING),t.next=4,fetch("".concat(O.D,"/api/").concat(O.E,"/draft/").concat(e),{signal:null===Q||void 0===Q?void 0:Q.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(A);case 7:return t.next=9,n.json();case 9:if(r=t.sent,X.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw C(!0),new Error(w);case 15:return a=Object.keys(r)[0],c=Object(x.a)({idInDAO:a,idInSnapshot:a},r[a]),L(j.a.FULFILLED),f(c),t.abrupt("return",c);case 22:if(t.prev=22,t.t0=t.catch(0),X.current){t.next=26;break}return t.abrupt("return");case 26:L(j.a.REJECTED),T(t.t0);case 28:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function be(){return(be=Object(i.a)(o.a.mark((function n(){var r,a,c,s,i,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,L(j.a.PENDING),n.next=4,fetch("".concat(O.D,"/api/").concat(O.E,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===Q||void 0===Q?void 0:Q.signal});case 4:if((a=n.sent).ok){n.next=9;break}if(t!==b.SnapshotType.proposal){n.next=8;break}throw new Error(A);case 8:return n.abrupt("return");case 9:return n.next=11,a.json();case 11:if(c=n.sent,X.current){n.next=14;break}return n.abrupt("return");case 14:if(c&&Object.keys(c).length){n.next=19;break}if(t!==b.SnapshotType.proposal){n.next=18;break}throw C(!0),new Error(w);case 18:return n.abrupt("return");case 19:return s=Object.keys(c)[0],i=(null===(r=c[s])||void 0===r?void 0:r.data.erc712DraftHash)||s,u=Object(x.a)({idInDAO:i,idInSnapshot:s},c[s]),L(j.a.FULFILLED),N(u),n.abrupt("return",u);case 27:if(n.prev=27,n.t0=n.catch(0),X.current){n.next=31;break}return n.abrupt("return");case 31:L(j.a.REJECTED),T(n.t0);case 33:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function je(){return(je=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:if(t=e.sent){e.next=9;break}return e.next=6,se();case 6:return n=e.sent,f(n),e.abrupt("return");case 9:N(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){if(null===Q||void 0===Q?void 0:Q.signal)switch(t){case b.SnapshotType.draft:se();break;case b.SnapshotType.proposal:oe();break;default:ie()}}),[null===Q||void 0===Q?void 0:Q.signal,se,oe,ie,ee,t]),Object(d.useEffect)((function(){0!==ee&&G([e])}),[e,ee]),Object(d.useEffect)((function(){var e=j.a.STANDBY,t=j.a.PENDING,n=j.a.FULFILLED,r=j.a.REJECTED,a=[P,ce];P!==e?a.some((function(e){return e===t}))&&0===ee?Y(t):a.every((function(e){return e===n}))?Y(n):P!==n||ce!==n||re.length?a.some((function(e){return e===r}))&&Y(r):Y(n):Y(e)}),[P,re.length,ce,ee]),Object(d.useEffect)((function(){q([k,ae].find((function(e){return e})))}),[k,ae]),{proposalData:de,proposalError:K,proposalNotFound:y,proposalStatus:W}}var y=n(11),C=n(14);function _(e){var t=e.adapterName,n=e.includeProposalsExistingOnlyOffchain,r=void 0!==n&&n,s=Object(d.useState)(),p=Object(u.a)(s,2),m=p[0],v=p[1],N=Object(d.useState)([]),g=Object(u.a)(N,2),A=g[0],w=g[1],I=Object(d.useState)([]),_=Object(u.a)(I,2),k=_[0],T=_[1],S=Object(d.useState)(),R=Object(u.a)(S,2),P=R[0],L=R[1],F=Object(d.useState)(j.a.STANDBY),M=Object(u.a)(F,2),B=M[0],G=M[1],U=Object(d.useState)(j.a.STANDBY),V=Object(u.a)(U,2),W=V[0],Y=V[1],z=Object(d.useState)(),H=Object(u.a)(z,2),K=H[0],q=H[1],J=Object(l.c)((function(e){return e.contracts})),Q=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),X=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),$=E(A),Z=$.proposalsVotingAdapters,ee=$.proposalsVotingAdaptersError,te=$.proposalsVotingAdaptersStatus,ne=D(Z),re=ne.proposalsVotingState,ae=ne.proposalsVotingStateError,ce=ne.proposalsVotingStateStatus,se=function(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),r=Object(h.e)().web3Instance,a=Object(d.useState)([]),s=Object(u.a)(a,2),b=s[0],O=s[1],p=Object(d.useState)(),m=Object(u.a)(p,2),v=m[0],x=m[1],N=Object(d.useState)(j.a.STANDBY),g=Object(u.a)(N,2),E=g[0],A=g[1],w=Object(d.useCallback)((function(){return I.apply(this,arguments)}),[e,n,t,r]);function I(){return(I=Object(i.a)(o.a.mark((function a(){var s,d,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e.length&&n&&t&&r){a.next=2;break}return a.abrupt("return");case 2:if((s=e.filter((function(e){var t=Object(u.a)(e,1)[0];return r.utils.isHexStrict(t)}))).length){a.next=7;break}return A(j.a.FULFILLED),O([]),a.abrupt("return");case 7:return a.prev=7,A(j.a.PENDING),a.next=11,Promise.all(s.map(function(){var e=Object(i.a)(o.a.mark((function e(n){var r,a,c,s,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(n,2),a=r[0],c=r[1],s=c.votingAdapterAddress,i=c.getVotingAdapterABI,d=c.votingAdapterName,e.t0=s,e.next=4,y(d,i());case 4:return e.t1=e.sent,e.t2=[t,a],e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return d=a.sent,a.next=14,Object(f.j)({calls:d,web3Instance:r});case 14:l=a.sent,A(j.a.FULFILLED),O(s.map((function(e,t){var n=Object(u.a)(e,2),r=n[0],a=n[1].votingAdapterName;return[r,Object(c.a)({},a,l[t])]}))),a.next=24;break;case 19:a.prev=19,a.t0=a.catch(7),A(j.a.REJECTED),O([]),x(a.t0);case 24:case"end":return a.stop()}}),a,null,[[7,19]])})))).apply(this,arguments)}function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===C.c.OffchainVotingContract?4:e.t0===C.c.VotingContract?8:12;break;case 4:if(r=n.find((function(e){return"votes"===e.name}))){e.next=7;break}throw new Error('No "votes" function ABI was found for "'.concat(t,'".'));case 7:return e.abrupt("return",r);case 8:if(a=n.find((function(e){return"votes"===e.name}))){e.next=11;break}throw new Error('No "votes" function ABI was found for "'.concat(t,'".'));case 11:return e.abrupt("return",a);case 12:throw new Error('No voting adapter name was found for "'.concat(t,'".'));case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(0),e.t1;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){w()}),[w]),{proposalsVotes:b,proposalsVotesError:v,proposalsVotesStatus:E}}(Z),oe=se.proposalsVotes,ie=se.proposalsVotesError,ue=se.proposalsVotesStatus,de=Object(h.e)().web3Instance,le=Object(d.useCallback)((function(e){return he.apply(this,arguments)}),[r]),be=Object(d.useCallback)((function(){return me.apply(this,arguments)}),[m,le,Q,X,de]);function je(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(i.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(O.D,"/api/").concat(O.E),e.next=4,fetch("".concat(n,"/drafts/").concat(t));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot drafts.");case 7:return e.next=9,r.json();case 9:return a=e.sent,c=Object.entries(a).filter((function(e){var t=Object(u.a)(e,2);t[0];return!1===t[1].data.sponsored})),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function Oe(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(i.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(O.D,"/api/").concat(O.E),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,c=Object.entries(a).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return[r.data.erc712DraftHash||n,r]})),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function he(){return(he=Object(i.a)(o.a.mark((function e(t){var n,a,c,s,i,d,l,b;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.proposalIds,a=t.registryAbi,c=t.registryAddress,s=t.web3Instance,e.prev=1,i=a.find((function(e){return"proposals"===e.name})),d=n.map((function(e){return[c,i,[e]]})),e.next=6,Object(f.j)({calls:d,web3Instance:s});case 6:if(l=e.sent,b=n.map((function(e,t){return[e,l[t]]})),!r){e.next=12;break}return e.abrupt("return",b);case 12:return e.abrupt("return",b.filter((function(e){var t=Object(u.a)(e,2);t[0];return"0"!==t[1].flags})));case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function me(){return(me=Object(i.a)(o.a.mark((function e(){var t,n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m&&Q&&X&&de){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,G(j.a.PENDING),e.next=6,je(m);case 6:return t=e.sent,e.next=9,Oe(m);case 9:if(n=e.sent,(r=[].concat(Object(a.a)(t),Object(a.a)(n)).map((function(e){return e[0]}))).length){e.next=14;break}return G(j.a.FULFILLED),e.abrupt("return");case 14:return e.next=16,le({proposalIds:r,registryAbi:Q,registryAddress:X,web3Instance:de});case 16:c=e.sent,w(c.map((function(e){return Object(u.a)(e,1)[0]}))),s=c.map((function(e){var r=Object(u.a)(e,2),a=r[0],c=r[1],s=t.find((function(e){return Object(u.a)(e,1)[0]===a})),o=n.find((function(e){return Object(u.a)(e,1)[0]===a})),i=s?Object(x.a)(Object(x.a)({},s[1]),{},{idInDAO:a,idInSnapshot:s[0]}):void 0,d=o?Object(x.a)(Object(x.a)({},o[1]),{},{idInDAO:a,idInSnapshot:o[0]}):void 0;return{idInDAO:a,daoProposal:c,daoProposalVotes:void 0,daoProposalVotingAdapter:void 0,daoProposalVotingState:void 0,snapshotDraft:i,getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotProposal:d,snapshotType:d?b.SnapshotType.proposal:b.SnapshotType.draft}})).filter((function(e){return e.snapshotDraft||e.snapshotProposal})),G(j.a.FULFILLED),T(s),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),G(j.a.REJECTED),T([]),L(e.t0);case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){var e,n,r=null===(e=Object.entries(J).find((function(e){var n=Object(u.a)(e,2),r=(n[0],n[1]);return(null===r||void 0===r?void 0:r.adapterOrExtensionName)===t})))||void 0===e||null===(n=e[1])||void 0===n?void 0:n.contractAddress;v(r)}),[m,t,J]),Object(d.useEffect)((function(){be()}),[be]),Object(d.useEffect)((function(){Z.length&&T((function(e){return e.map((function(e){var t;return Object(x.a)(Object(x.a)({},e),{},{daoProposalVotingAdapter:null===(t=Z.find((function(t){var n=Object(u.a)(t,1)[0];return Object(y.g)(n)===Object(y.g)(e.idInDAO||"")})))||void 0===t?void 0:t[1]})}))}))}),[Z]),Object(d.useEffect)((function(){re.length&&T((function(e){return e.map((function(e){var t;return Object(x.a)(Object(x.a)({},e),{},{daoProposalVotingState:null===(t=re.find((function(t){var n=Object(u.a)(t,1)[0];return Object(y.g)(n)===Object(y.g)(e.idInDAO||"")})))||void 0===t?void 0:t[1]})}))}))}),[re]),Object(d.useEffect)((function(){oe.length&&T((function(e){return e.map((function(e){var t;return Object(x.a)(Object(x.a)({},e),{},{daoProposalVotes:null===(t=oe.find((function(t){var n=Object(u.a)(t,1)[0];return Object(y.g)(n)===Object(y.g)(e.idInDAO||"")})))||void 0===t?void 0:t[1]})}))}))}),[oe]),Object(d.useEffect)((function(){var e=j.a.STANDBY,t=j.a.PENDING,n=j.a.FULFILLED,r=j.a.REJECTED,a=[B,te,ce,ue];B!==e?a.some((function(e){return e===t}))?Y(t):a.every((function(e){return e===n}))?Y(n):(B!==n||A.length)&&(B!==n||te!==n||!A.length||Z.length)?a.some((function(e){return e===r}))&&Y(r):Y(n):Y(e)}),[A.length,B,ue,Z.length,te,ce]),Object(d.useEffect)((function(){q([P,ee,ae,ie].find((function(e){return e})))}),[P,ie,ee,ae]),{proposals:k,proposalsError:K,proposalsStatus:W}}function D(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(h.e)().web3Instance,a=Object(d.useState)([]),c=Object(u.a)(a,2),s=c[0],b=c[1],O=Object(d.useState)(),p=Object(u.a)(O,2),m=p[0],v=p[1],x=Object(d.useState)(j.a.STANDBY),N=Object(u.a)(x,2),g=N[0],E=N[1],A=Object(d.useCallback)((function(){return w.apply(this,arguments)}),[e,t,r]);function w(){return(w=Object(i.a)(o.a.mark((function a(){var c,s,i,d,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&e.length&&r){a.next=2;break}return a.abrupt("return");case 2:if((c=e.filter((function(e){var t=Object(u.a)(e,1)[0];return r.utils.isHexStrict(t)}))).length){a.next=6;break}return E(j.a.FULFILLED),a.abrupt("return");case 6:return a.prev=6,a.next=9,n.e(0).then(n.t.bind(null,960,3));case 9:if(s=a.sent.default,i=s.find((function(e){return"voteResult"===e.name}))){a.next=13;break}throw new Error('No "voteResult" ABI function was found on the "IVoting" contract.');case 13:return d=c.map((function(e){var n=Object(u.a)(e,2),r=n[0];return[n[1].votingAdapterAddress,i,[t,r]]})),E(j.a.PENDING),a.next=17,Object(f.j)({calls:d,web3Instance:r});case 17:l=a.sent,E(j.a.FULFILLED),b(c.map((function(e,t){return[Object(u.a)(e,1)[0],l[t]]}))),a.next=27;break;case 22:a.prev=22,a.t0=a.catch(6),E(j.a.REJECTED),b([]),v(a.t0);case 27:case"end":return a.stop()}}),a,null,[[6,22]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){A()}),[A]),{proposalsVotingState:s,proposalsVotingStateError:m,proposalsVotingStateStatus:g}}var k=n(22),T=n(35),S=n(48),R="production"===O.m?15e3:5e3;function P(e,t){var n,r,a=e.daoProposalVotingAdapter,c=e.snapshotDraft,s=e.snapshotProposal,b=(s||{}).votes,j=(null===c||void 0===c?void 0:c.idInDAO)||(null===s||void 0===s?void 0:s.idInDAO),O=(t||{}).pollInterval,p=void 0===O?R:O,m=Object(h.e)().web3Instance,v=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),x=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),E=Object(d.useState)(),A=Object(u.a)(E,2),w=A[0],I=A[1],C=Object(d.useState)(),_=Object(u.a)(C,2),D=_[0],P=_[1],L=Object(d.useState)(),F=Object(u.a)(L,2),M=F[0],B=F[1],U=Object(d.useState)(),V=Object(u.a)(U,2),W=V[0],Y=V[1],z=Object(d.useRef)(),H=Object(d.useRef)(!1),K=G(null===(n=e.snapshotProposal)||void 0===n?void 0:n.msg.payload.start,null===(r=e.snapshotProposal)||void 0===r?void 0:r.msg.payload.end),q=K.hasVotingTimeStarted,J=K.hasVotingTimeEnded,Q=K.votingTimeStartEndInitReady,X=!!w&&Object(g.d)(T.b.EXISTS,w.flags),$=!!w&&Object(g.d)(T.b.SPONSORED,w.flags),Z=!!w&&Object(g.d)(T.b.PROCESSED,w.flags),ee=null===a||void 0===a?void 0:a.votingAdapterAddress,te=null===a||void 0===a?void 0:a.getVotingAdapterABI(),ne=void 0!==D&&Object(k.isAddress)(D.reporter)&&Object(y.g)(D.reporter)!==N.a,re=void 0!==M&&S.a[M]===S.a[S.a.GRACE_PERIOD],ae=Object(d.useCallback)((function(){return se.apply(this,arguments)}),[a,x,v,te,ee,j,m]);function ce(e){return{daoProposal:w,daoProposalVoteResult:M,daoProposalVotes:D,proposalFlowStatusError:W,status:e}}function se(){return(se=Object(i.a)(o.a.mark((function e(){var t,n,r,c,s,i,d,l,b,O,p,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x&&v&&j&&m){e.next=3;break}return e.abrupt("return");case 3:if(t=x.filter((function(e){return"proposals"===e.name}))[0],a){e.next=12;break}return e.next=7,Object(f.j)({calls:[[v,t,[j]]],web3Instance:m});case 7:return n=e.sent,r=Object(u.a)(n,1),c=r[0],I(c),e.abrupt("return");case 12:if(te&&ee){e.next=14;break}return e.abrupt("return");case 14:return s=te.filter((function(e){return"voteResult"===e.name}))[0],i=te.filter((function(e){return"votes"===e.name}))[0],d=[[v,t,[j]],[ee,i,[v,j]],[ee,s,[v,j]]],e.next=19,Object(f.j)({calls:d,web3Instance:m});case 19:l=e.sent,b=Object(u.a)(l,3),O=b[0],p=b[1],h=b[2],I(O),P(p),B(h),e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(0),e.t0;case 32:case"end":return e.stop()}}),e,null,[[0,29]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){ae().catch((function(e){Y(e)}))}),[ae]),Object(d.useEffect)((function(){Z&&(H.current=!0),z.current&&clearInterval(z.current);var e=setInterval(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.current&&z.current&&clearInterval(z.current),e.next=4,ae();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),z.current&&clearInterval(z.current),Y(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),p);z.current=e}),[Z,p,ae]),Object(d.useEffect)((function(){return Z&&z.current&&clearInterval(z.current),function(){z.current&&clearInterval(z.current)}}),[Z]),!Q||q||X?Q&&!q&&X?ce(T.c.Sponsor):Q&&q&&!J&&$?ce(T.c.OffchainVoting):Q&&J&&$&&!(null===b||void 0===b?void 0:b.length)&&!ne?ce(re?T.c.OffchainVotingGracePeriod:T.c.Process):Q&&J&&$&&!ne?ce(T.c.OffchainVotingSubmitResult):Q&&J&&$&&ne&&re?ce(T.c.OffchainVotingGracePeriod):$&&Q&&J&&ne&&!re?ce(T.c.Process):Z?ce(T.c.Completed):{daoProposal:w,daoProposalVoteResult:M,daoProposalVotes:D,proposalFlowStatusError:W,status:void 0}:ce(T.c.Submit)}var L=n(61),F=n(96);function M(){var e=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(l.c)((function(e){return e.contracts})),n=Object(l.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress})),r=Object(F.a)(),a=r.account,c=r.provider,s=r.web3Instance,j=Object(d.useState)(),p=Object(u.a)(j,2),h=p[0],v=p[1],g=Object(d.useState)(),E=Object(u.a)(g,2),A=E[0],w=E[1],I=Object(d.useState)(m.f.STANDBY),y=Object(u.a)(I,2),C=y[0],_=y[1];function D(){return(D=Object(i.a)(o.a.mark((function r(i){var u,d,l,j,p,h,g,E,A,I,y,C,D,k,T,S,R,P,F,M,B,G;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=i.partialVoteData,d=i.adapterName,l=i.proposalIdInDAO,j=i.proposalIdInSnapshot,r.prev=1,s){r.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(a){r.next=6;break}throw new Error("No account was found.");case 6:if(n){r.next=8;break}throw new Error("No member address was found.");case 8:if(e){r.next=10;break}throw new Error('No "DaoRegistry" address was found.');case 10:if(O.D){r.next=12;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 12:if(O.E){r.next=14;break}throw new Error('No Snapshot "SPACE" was found.');case 14:return _(m.f.AWAITING_CONFIRM),p=d?Object(f.d)(d,t):N.a,h=u.choice,g=u.metadata,E=void 0===g?{}:g,r.next=19,Object(b.getSpace)(O.D,O.E);case 19:return A=r.sent,I=A.data,y={chainId:O.k,choice:h,metadata:Object(x.a)(Object(x.a)({},E),{},{memberAddress:n})},C={proposalId:l,space:O.E,token:I.token},r.next=25,Object(b.buildVoteMessage)(y,C,O.D);case 25:return D=r.sent,k=Object(b.prepareVoteMessage)({timestamp:D.timestamp,payload:{proposalId:D.payload.proposalId,choice:b.VoteChoicesIndex[h]}}),T=Object(b.getDomainDefinition)(Object(x.a)(Object(x.a)({},k),{},{type:b.SnapshotType.vote}),e,p,O.k),S=T.domain,R=T.types,P=JSON.stringify({types:R,domain:S,primaryType:L.a,message:k}),r.next=31,Object(b.signMessage)(c,a,P);case 31:return F=r.sent,_(m.f.PENDING),r.next=35,Object(b.submitMessage)(O.D,a,Object(x.a)(Object(x.a)({},D),{},{payload:Object(x.a)(Object(x.a)({},D.payload),{},{proposalId:j})}),F,{actionId:S.actionId,chainId:S.chainId,verifyingContract:S.verifyingContract,message:k});case 35:return M=r.sent,B=M.data,G={data:D,signature:F,uniqueId:B.uniqueId},_(m.f.FULFILLED),v(G),r.abrupt("return",G);case 43:throw r.prev=43,r.t0=r.catch(1),_(m.f.REJECTED),w(r.t0),r.t0;case 48:case"end":return r.stop()}}),r,null,[[1,43]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return D.apply(this,arguments)},voteData:h,voteDataError:A,voteDataStatus:C}}function B(){var e=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(l.c)((function(e){return e.contracts})),r=Object(F.a)(),a=r.account,c=r.provider,s=r.web3Instance,j=Object(d.useState)(),p=Object(u.a)(j,2),h=p[0],v=p[1],g=Object(d.useState)(),E=Object(u.a)(g,2),A=E[0],w=E[1],I=Object(d.useState)(m.f.STANDBY),y=Object(u.a)(I,2),C=y[0],_=y[1];function D(e){return k.apply(this,arguments)}function k(){return(k=Object(i.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O.D){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:if(s){e.next=4;break}throw new Error("No Web3 instance was found.");case 4:return e.next=6,s.eth.getBlockNumber();case 6:return r=e.sent,e.t0=parseInt,e.next=10,Object(f.f)(m.b.offchainVotingVotingPeriod,t);case 10:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=14,Object(b.buildProposalMessage)(Object(x.a)(Object(x.a)({},n),{},{votingTimeSeconds:a,snapshot:r}),O.D);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(i.a)(o.a.mark((function t(r){var i,u,d,l,j,p,h,g,E,A,I,y,C,k,T,S,R,P,F,M,B,G;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.partialProposalData,u=r.adapterAddress,d=r.adapterName,l=r.type,t.prev=1,a){t.next=4;break}throw new Error("No account was found to send.");case 4:if(s){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(O.D){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(O.E){t.next=12;break}throw new Error('No Snapshot "SPACE" was found.');case 12:if(l===b.SnapshotType.draft||l===b.SnapshotType.proposal){t.next=14;break}throw new Error('Handling for type "vote" is not implemented.');case 14:return _(m.f.AWAITING_CONFIRM),j=u||(d?Object(f.d)(d,n):N.a),p=i.body,h=i.name,g=i.metadata,E=i.timestamp,t.next=19,Object(b.getSpace)(O.D,O.E);case 19:if(A=t.sent,I=A.data,y={name:h,body:p,metadata:g,token:I.token,space:O.E},l!==b.SnapshotType.draft){t.next=28;break}return t.next=25,Object(b.buildDraftMessage)(y,O.D);case 25:t.t0=t.sent,t.next=31;break;case 28:return t.next=30,D(Object(x.a)(Object(x.a)({},y),{},{timestamp:E}));case 30:t.t0=t.sent;case 31:return C=t.t0,k=l===b.SnapshotType.draft?Object(b.prepareDraftMessage)(C):Object(b.prepareProposalMessage)(C),T=Object(b.getDomainDefinition)(Object(x.a)(Object(x.a)({},k),{},{type:l}),e,j,O.k),S=T.domain,R=T.types,P=JSON.stringify({types:R,domain:S,primaryType:L.a,message:k}),t.next=37,Object(b.signMessage)(c,a,P);case 37:return F=t.sent,_(m.f.PENDING),t.next=41,Object(b.submitMessage)(O.D,a,C,F,{actionId:S.actionId,chainId:S.chainId,verifyingContract:S.verifyingContract,message:k});case 41:return M=t.sent,B=M.data,G={data:C,signature:F,uniqueId:B.uniqueId,uniqueIdDraft:B.uniqueIdDraft||""},_(m.f.FULFILLED),v(G),t.abrupt("return",G);case 49:throw t.prev=49,t.t1=t.catch(1),_(m.f.REJECTED),w(t.t1),t.t1;case 54:case"end":return t.stop()}}),t,null,[[1,49]])})))).apply(this,arguments)}return{proposalData:h,proposalSignAndSendError:A,proposalSignAndSendStatus:C,signAndSendProposal:function(e){return T.apply(this,arguments)}}}function G(e,t){var n=Object(d.useRef)({start:j.a.STANDBY,end:j.a.STANDBY}),r=Object(d.useState)(!1),a=Object(u.a)(r,2),c=a[0],s=a[1],o=Object(d.useState)(!1),i=Object(u.a)(o,2),l=i[0],b=i[1],f=Object(d.useState)(m(n.current)),O=Object(u.a)(f,2),p=O[0],h=O[1];function m(e){return Object.values(e).every((function(e){return e===j.a.FULFILLED}))}return Object(d.useEffect)((function(){if(!c&&void 0!==e&&void 0!==t){h((function(){return n.current.start=j.a.PENDING,m(n.current)}));var r=setInterval((function(){h((function(){return n.current.start=j.a.FULFILLED,m(n.current)}));var t=Math.floor(Date.now()/1e3)>e;t&&s(t)}),1e3);return function(){clearInterval(r)}}h((function(){return n.current.start=j.a.FULFILLED,m(n.current)}))}),[t,c,e]),Object(d.useEffect)((function(){if(!l&&void 0!==e&&void 0!==t){h((function(){return n.current.end=j.a.PENDING,m(n.current)}));var r=setInterval((function(){h((function(){return n.current.end=j.a.FULFILLED,m(n.current)}));var e=Math.ceil(Date.now()/1e3)>t;e&&b(e)}),1e3);return function(){clearInterval(r)}}h((function(){return n.current.end=j.a.FULFILLED,m(n.current)}))}),[t,l,e]),{hasVotingTimeStarted:c,hasVotingTimeEnded:l,votingTimeStartEndInitReady:p}}},514:function(e,t){},516:function(e,t){},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x0000000000000000000000000000000000000000"},526:function(e,t){},528:function(e,t){},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},554:function(e,t){},555:function(e,t){},561:function(e,t){},574:function(e,t){},59:function(e,t,n){"use strict";var r=n(188);n.d(t,"a",(function(){return r.a}))},61:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(5),a=(r.e.Yes,r.e.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},629:function(e,t){},631:function(e,t){},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(1),c=n(11);function s(e){var t=e.intervalMs,n=e.messages,s=e.useFirstItemStart?n[0]:Object(c.a)(n),o=Object(a.useState)(s),i=Object(r.a)(o,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(63),a=n.n(r),c=function(e){return a.a.utils.isAddress(e)}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},83:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return p}));var r,a,c,s,o=n(110),i=n(139),u=Object(i.a)(r||(r=Object(o.a)(["\n  query GetDao($id: ID) {\n    tributeDaos(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalUnits\n    }\n  }\n"]))),d=Object(i.a)(a||(a=Object(o.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    tributeDaos(where: {daoAddress: $daoAddress}) {\n      daoAddress\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]))),l=Object(i.a)(c||(c=Object(o.a)(["\n  query GetMembers($daoAddress: String) {\n    tributeDaos(where: {daoAddress: $daoAddress}) {\n      members(orderBy: createdAt, orderDirection: desc) {\n        createdAt\n        address: memberAddress\n        delegateKey\n        isDelegated\n        units\n        didFullyRagequit\n      }\n    }\n  }\n"]))),b=Object(i.a)(s||(s=Object(o.a)(["\n  query GetTokenHolderBalances($tokenAddress: String) {\n    tokens(where: {tokenAddress: $tokenAddress}) {\n      symbol\n      tokenAddress\n      holders {\n        balance\n        member {\n          id\n          delegateKey\n        }\n      }\n    }\n  }\n"]))),j=n(418),f=n(18),O=n(90);function p(e){return Object(j.a)((function(t){var n=t.networkError;n&&(e.getState().subgraphNetworkStatus.status!==O.a.ERR&&(e.dispatch(Object(f.T)({status:O.a.ERR})),console.error("[Subgraph network error]: ".concat(n))));n||e.getState().subgraphNetworkStatus.status!==O.a.OK&&e.dispatch(Object(f.T)({status:O.a.OK}))}))}},9:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},90:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.OK="OK",e.ERR="ERR"}(r||(r={}))},900:function(e,t){},903:function(e,t){},928:function(e,t,n){},931:function(e,t,n){"use strict";n.r(t),n.d(t,"getApolloClient",(function(){return Pr}));var r=n(32),a=n(99),c=n(15),s=n(42),o=n(956),i=n(255),u=n(140),d=n(957),l=n(933),b=n(413),j=n.n(b),f=n(18),O=n(126),p=n(11),h=n(10),m=n(83),v=n(128),x=n(421),N=n(422),g=n(3),E=n(62),A=n(159),w=["type"],I=null;function y(e,t){return Object(g.a)(Object(g.a)({},e),t)}function C(){return I}var _=["type"],D={BankAdapterContract:null,BankExtensionContract:null,BankFactoryContract:null,ConfigurationContract:null,CouponOnboardingContract:null,DaoFactoryContract:null,DaoRegistryAdapterContract:null,DaoRegistryContract:null,DistributeContract:null,ERC20ExtensionContract:null,FinancingContract:null,GuildBankContract:null,ManagingContract:null,NFTAdapterContract:null,NFTExtensionContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,TributeNFTContract:null,VotingContract:null};function k(e){return Object(g.a)(Object(g.a)({},e),D)}function T(e,t){return Object(g.a)(Object(g.a)({},e),{},{BankFactoryContract:Object(g.a)({},t)})}function S(e,t){return Object(g.a)(Object(g.a)({},e),{},{DaoFactoryContract:Object(g.a)({},t)})}function R(e,t){return Object(g.a)(Object(g.a)({},e),{},{DaoRegistryContract:Object(g.a)({},t)})}function P(e,t){return Object(g.a)(Object(g.a)({},e),{},{DaoRegistryAdapterContract:Object(g.a)({},t)})}function L(e,t){return Object(g.a)(Object(g.a)({},e),{},{BankExtensionContract:Object(g.a)({},t)})}function F(e,t){return Object(g.a)(Object(g.a)({},e),{},{ConfigurationContract:Object(g.a)({},t)})}function M(e,t){return Object(g.a)(Object(g.a)({},e),{},{DistributeContract:Object(g.a)({},t)})}function B(e,t){return Object(g.a)(Object(g.a)({},e),{},{FinancingContract:Object(g.a)({},t)})}function G(e,t){return Object(g.a)(Object(g.a)({},e),{},{GuildBankContract:Object(g.a)({},t)})}function U(e,t){return Object(g.a)(Object(g.a)({},e),{},{OnboardingContract:Object(g.a)({},t)})}function V(e,t){return Object(g.a)(Object(g.a)({},e),{},{RagequitContract:Object(g.a)({},t)})}function W(e,t){return Object(g.a)(Object(g.a)({},e),{},{TributeContract:Object(g.a)({},t)})}function Y(e,t){return Object(g.a)(Object(g.a)({},e),{},{VotingContract:Object(g.a)({},t)})}function z(e,t){return Object(g.a)(Object(g.a)({},e),{},{ManagingContract:Object(g.a)({},t)})}function H(e,t){return Object(g.a)(Object(g.a)({},e),{},{BankAdapterContract:Object(g.a)({},t)})}function K(e,t){return Object(g.a)(Object(g.a)({},e),{},{NFTAdapterContract:Object(g.a)({},t)})}function q(e,t){return Object(g.a)(Object(g.a)({},e),{},{TributeNFTContract:Object(g.a)({},t)})}function J(e,t){return Object(g.a)(Object(g.a)({},e),{},{CouponOnboardingContract:Object(g.a)({},t)})}function Q(e,t){return Object(g.a)(Object(g.a)({},e),{},{NFTExtensionContract:Object(g.a)({},t)})}function X(e,t){return Object(g.a)(Object(g.a)({},e),{},{ERC20ExtensionContract:Object(g.a)({},t)})}var $=n(187),Z=n(90),ee=["type"],te={status:Z.a.OK};function ne(e,t){return Object(g.a)(Object(g.a)({},e),t)}var re=Object(v.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(E.a)(t,w);switch(n){case A.b:return y(e,r);case A.a:return C();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(E.a)(t,_);switch(n){case f.a:return k(e);case f.b:return H(e,r);case f.c:return L(e,r);case f.d:return T(e,r);case f.e:return F(e,r);case f.f:return J(e,r);case f.g:return S(e,r);case f.h:return R(e,r);case f.i:return P(e,r);case f.j:return M(e,r);case f.k:return X(e,r);case f.l:return B(e,r);case f.m:return G(e,r);case f.n:return z(e,r);case f.o:return K(e,r);case f.p:return Q(e,r);case f.q:return U(e,r);case f.r:return V(e,r);case f.s:return W(e,r);case f.t:return q(e,r);case f.u:case f.v:return Y(e,r);default:return e}},subgraphNetworkStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(E.a)(t,ee);switch(n){case $.a:return ne(e,r);default:return e}}}),ae=Object(v.createStore)(re,Object(x.composeWithDevTools)(Object(v.applyMiddleware)(N.a))),ce=n(54),se=n(1),oe=n.n(se),ie=n(0);function ue(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 14"},e),{},{children:Object(ie.jsx)("g",{fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(ie.jsx)("g",{transform:"translate(-737 -124)",children:Object(ie.jsx)("g",{transform:"translate(596 124)",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M151.166.8h-8.679c-.733 0-1.344.611-1.344 1.345v8.8c0 .734.611 1.345 1.344 1.345h7.395l-.366-1.223.855.795.795.733 1.405 1.223V2.145c-.06-.734-.61-1.345-1.405-1.345zm-2.506 8.495s-.244-.306-.428-.55c.49-.122.917-.367 1.161-.795a2.065 2.065 0 01-.733.367c-.306.122-.611.245-.917.306a4.039 4.039 0 01-1.71 0 6.007 6.007 0 01-.979-.306 1.83 1.83 0 01-.489-.244s-.06 0-.06-.061c-.123-.062-.184-.123-.184-.123.305.367.672.673 1.161.795-.183.244-.428.55-.428.55a2.579 2.579 0 01-2.017-.978c0-1.344.367-2.628.917-3.79.55-.427 1.161-.671 1.834-.671l.06.06c-.61.184-1.222.429-1.71.856l.366-.183c.49-.183.978-.367 1.467-.428h.122a4.947 4.947 0 011.345 0c.672.061 1.344.306 1.955.611a5.299 5.299 0 00-1.65-.855l.061-.122c.673.06 1.284.244 1.834.672.611 1.161.917 2.506.917 3.789-.367.733-1.1 1.1-1.895 1.1zm-2.995-3.056c-.427-.06-.733.245-.794.673-.061.427.244.733.672.794.428.061.734-.244.795-.672v-.061c0-.367-.306-.734-.673-.734zm2.384 0c-.428-.06-.733.245-.795.673-.06.427.245.733.673.794.427.061.733-.244.794-.672v-.061c0-.367-.305-.734-.672-.734z"})})})})}))}var de,le=n(25),be=n(29),je=n(37),fe=n(36),Oe=function(e){Object(je.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(le.a)(this,n),t.apply(this,arguments)}return Object(be.a)(n,[{key:"render",value:function(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"github","data-prefix":"fab",viewBox:"0 0 496 512",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}}]),n}(oe.a.Component),pe=function(e){Object(je.a)(n,e);var t=Object(fe.a)(n);function n(){return Object(le.a)(this,n),t.apply(this,arguments)}return Object(be.a)(n,[{key:"render",value:function(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"medium","data-prefix":"fab",viewBox:"0 0 448 512",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"})})}}]),n}(oe.a.Component);function he(){return Object(ie.jsxs)("div",{className:"socialmedia",children:[Object(ie.jsx)("a",{href:de.MEDIUM,target:"_blank",rel:"noopener noreferrer",children:Object(ie.jsx)(pe,{})}),Object(ie.jsx)("a",{href:de.DISCORD,target:"_blank",rel:"noopener noreferrer",children:Object(ie.jsx)(ue,{})}),Object(ie.jsx)("a",{href:de.GITHUB,target:"_blank",rel:"noopener noreferrer",children:Object(ie.jsx)(Oe,{})})]})}function me(){return Object(ie.jsx)("div",{className:"footer",children:Object(ie.jsx)(he,{})})}!function(e){e.DISCORD="#",e.GITHUB="https://github.com/search?q=org%3Aopenlawteam+tribute-ui+OR+tribute-contracts+in%3Aname&type=repositories",e.MEDIUM="#"}(de||(de={}));var ve=n(423);function xe(){return Object(ie.jsxs)(ve.a,{children:[Object(ie.jsx)("title",{children:"Tribute"}),Object(ie.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}function Ne(e){return Object(ie.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"TRIBUTE"})}function ge(){return Object(ie.jsx)("div",{className:"logo-container logo-container--center",children:Object(ie.jsx)(Ne,{size:"small"})})}function Ee(){return Object(ie.jsx)("div",{className:"logo-container logo-container--header",children:Object(ie.jsx)(Ne,{size:"medium"})})}function Ae(){return Object(ie.jsx)("div",{className:"logo-container logo-container--center",children:Object(ie.jsx)(Ne,{size:"large"})})}var we=n(4),Ie=n(940),ye=n(433),Ce=n(141),_e=n.n(Ce),De=n(13);function ke(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var Te=n(82),Se=n(258),Re=n(9);function Pe(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(ie.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(ie.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(ie.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(ie.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(ie.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function Le(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(ie.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(ie.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(ie.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var Fe={injected:Object(ie.jsx)(Pe,{}),walletconnect:Object(ie.jsx)(Le,{})};function Me(e){var t=e.showAfterMs,n=Object(se.useState)(!1),r=Object(we.a)(n,2),a=r[0],c=r[1];return Object(se.useEffect)((function(){var e=t&&setTimeout((function(){return c(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&a?Object(ie.jsx)("div",{className:"loader--large","aria-label":"Loading content..."}):null}var Be=n(21);function Ge(e){var t=e.children,n=e.keyProp,r=e.isOpen,a=e.styleProps,c=e.modalClassNames,s=e.isOpenHandler;return Object(ie.jsx)(_e.a,{ariaHideApp:!1,className:"modal-container ".concat(c),isOpen:r,onRequestClose:function(){s(r)},overlayClassName:"modal-overlay",role:"dialog",style:Object(g.a)({overlay:{zIndex:"99"}},a),children:Object(ie.jsx)(Be.a,{children:Object(ie.jsx)("div",{className:"modal",children:t})})},n)}function Ue(e){var t=e.customWalletText,n=e.showWalletETHBadge,r=Object(De.e)(),a=r.account,c=r.connected,s=r.connectWeb3Modal,o=r.disconnectWeb3Modal,i=r.initialCachedConnectorCheckStatus,u=r.networkId,d=r.providerOptions,l=r.web3Modal,b=Object(De.d)(),j=b.defaultChainError,f=b.isDefaultChain,O=Object(ce.g)().pathname,m=Object(se.useState)(!1),v=Object(we.a)(m,2),x=v[0],N=v[1],g=!1===f,E=u===h.c.GANACHE,A=Se.isMobile?a?Object(p.j)(a):"Connect":n&&a?Object(p.j)(a):t||"";return Object(se.useEffect)((function(){i===Re.a.FULFILLED&&N(!f)}),[f,i,O]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(g&&c?"walletconnect__connect-button--error":""),onClick:function(){return N(!0)},children:[Object(ie.jsx)("span",{className:"connect-button-text ".concat(c?"connect-button-text--ethAddress":""),children:A||"Connect"}),n&&g&&c&&Object(ie.jsx)("span",{children:"Wrong Network"}),n&&Object(ie.jsx)(Ve,{providerName:null===l||void 0===l?void 0:l.cachedProvider})]}),x&&function(){var e=Object.entries(d).filter((function(e){return"injected"!==e[0]})),t=(Se.isMobile?e:Object.entries(d)).map((function(e){return Object(ie.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(c&&(null===l||void 0===l?void 0:l.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:function(){return s(e[0])},disabled:E&&"walletconnect"===e[0],children:[Object(ie.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(ie.jsx)(Ve,{providerName:e[0]})]},e[0])}));return Object(ie.jsxs)(Ge,{keyProp:"web3modal",isOpen:x,isOpenHandler:function(){N(!1)},children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){N(!1)},children:Object(ie.jsx)(Te.a,{})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),c&&g?null:Object(ie.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),a&&Object(ie.jsx)("div",{className:"walletconnect__connected-address-text",children:Object(p.j)(a,7)}),c&&g?Object(ie.jsx)(We,{defaultChainError:(null===j||void 0===j?void 0:j.message)||""}):Object(ie.jsx)("div",{className:"walletconnect__options",children:t}),c&&Object(ie.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:o,children:"Disconnect Wallet"})]})]})}()]})}function Ve(e){var t=e.providerName;return t?Object(ie.jsx)("span",{className:"walletconnect__wallet-icon",children:Fe[t]}):null}function We(e){var t=e.defaultChainError;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"error-message",children:Object(ie.jsx)("small",{children:t})}),Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("small",{children:"Switch networks from your wallet"})]})]})}var Ye=Object(se.memo)((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(ie.jsx)(Ue,{customWalletText:t,showWalletETHBadge:n})})),ze=n(2),He=n.n(ze),Ke=n(8);function qe(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(se.useState)(),n=Object(we.a)(t,2),r=n[0],a=n[1],s=Object(se.useState)(Re.a.STANDBY),o=Object(we.a)(s,2),i=o[0],u=o[1],d=Object(se.useState)(),l=Object(we.a)(d,2),b=l[0],j=l[1],f=Object(se.useCallback)((function(){return O.apply(this,arguments)}),[e]);function O(){return(O=Object(Ke.a)(He.a.mark((function t(){var n,r;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,u(Re.a.PENDING),t.next=6,e.instance.methods.symbol().call();case 6:return n=t.sent,t.next=9,e.instance.methods.decimals().call();case 9:r=t.sent,a({address:e.contractAddress,symbol:n,decimals:Number(r),image:"".concat(window.location.origin,"/favicon.ico")}),u(Re.a.FULFILLED),t.next=20;break;case 14:t.prev=14,t.t0=t.catch(2),console.log(t.t0),a(void 0),j(t.t0),u(Re.a.REJECTED);case 20:case"end":return t.stop()}}),t,null,[[2,14]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){f()}),[f]),{daoTokenDetails:r,daoTokenDetailsError:b,daoTokenDetailsStatus:i}}var Je=n(958);var Qe="".concat(window.location.origin,"/favicon.ico");function Xe(e){var t=Object(se.useState)(),n=Object(we.a)(t,2),r=n[0],a=n[1],s=Object(se.useState)(),o=Object(we.a)(s,2),i=o[0],u=o[1],d=Object(se.useState)(""),l=Object(we.a)(d,2),b=l[0],j=l[1],f=function(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(Je.a)(m.d,{variables:{tokenAddress:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(we.a)(t,2),r=n[0],a=n[1],s=a.called,o=a.loading,i=a.data,u=a.error,d=Object(se.useState)(),l=Object(we.a)(d,2),b=l[0],j=l[1],f=Object(se.useState)(),O=Object(we.a)(f,2),p=O[0],h=O[1],v=Object(se.useCallback)((function(){try{if(!o&&i){if(j(i.tokens[0]),0===i.tokens.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" erc20 address not found.'))}else if(u)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid erc20 address.'))}catch(u){h(u)}}),[null===e||void 0===e?void 0:e.contractAddress,i,u,o]);return Object(se.useEffect)((function(){s||r()}),[s,r]),Object(se.useEffect)((function(){!o&&(null===e||void 0===e?void 0:e.contractAddress)&&v()}),[null===e||void 0===e?void 0:e.contractAddress,v,o]),{tokenHolderBalances:b,gqlError:p}}().tokenHolderBalances,O=Object(De.e)(),v=O.account,x=O.networkId,N=Object(se.useCallback)((function(){try{(e=Qe,fetch(e).then((function(e){return e.blob()})).then((function(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){return t(r.result)},r.onerror=n,r.readAsDataURL(e)}))}))).then((function(e){e&&u(e)}))}catch(t){console.log(t)}var e}),[]);return Object(se.useEffect)((function(){if(a(void 0),v&&f){var e=f.holders,t=f.symbol,n=f.tokenAddress,r=null===e||void 0===e?void 0:e.find((function(e){var t;return(null===(t=e.member)||void 0===t?void 0:t.id.toLowerCase())===v.toLowerCase()}));r&&a({balance:r.balance,tokenAddress:n,symbol:t}),v&&x&&j("".concat(h.o[x],"/token/").concat(n,"?a=").concat(v)),N()}}),[v,x,f,N]),r?Object(ie.jsx)(Be.a,{children:Object(ie.jsxs)("a",{className:"daotokenholder__button",rel:"noopener noreferrer",target:"_blank",href:b,style:Object(g.a)({},e),children:[Object(ie.jsx)("span",{className:"daotokenholder__balance",children:Object(p.e)(r.balance)}),Object(ie.jsx)("span",{className:"daotokenholder__symbol",children:r.symbol}),i&&Object(ie.jsx)("img",{src:i,alt:"Token Icon"})]})}):Object(ie.jsx)(ie.Fragment,{})}var $e={transition:"0.1s"},Ze={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},et={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function tt(){return Object(ie.jsx)("nav",{role:"navigation",id:"navigation",children:Object(ie.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(s.c,{to:"/membership",children:Object(ie.jsx)("span",{children:"Membership"})})}),Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(s.c,{to:"/governance",children:Object(ie.jsx)("span",{children:"Governance"})})}),Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(s.c,{to:"/transfers",children:Object(ie.jsx)("span",{children:"Transfer"})})}),Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(s.c,{to:"/tributes",children:Object(ie.jsx)("span",{children:"Tribute"})})})]})})}function nt(){var e=Object(c.c)((function(e){return e.connectedMember})),t=Object(se.useState)(!1),n=Object(we.a)(t,2),r=n[0],a=n[1],o=Object(se.useState)(Ze),i=Object(we.a)(o,2),u=i[0],d=i[1],l=Object(De.e)().account,b=Object(se.useRef)();Object(se.useEffect)((function(){return function(){b.current&&clearTimeout(b.current)}}),[]);var j=!(!l||!(null===e||void 0===e?void 0:e.isActiveMember)),f=!(!l||!(null===e||void 0===e?void 0:e.isActiveMember)||l.toLowerCase()!==(null===e||void 0===e?void 0:e.memberAddress.toLowerCase()));function O(e){if(!e)return d(et),b.current=setTimeout((function(){return a(e)}),500),function(){return b.current&&clearTimeout(b.current)};a(e),d(Ze)}return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(ie.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),O(!0)},children:Object(ie.jsx)(ke,{})})}),Object(ie.jsx)(_e.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:r,onRequestClose:function(){O(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(ie.jsx)(Ie.a,{appear:!0,in:r,timeout:200,children:function(e){return Object(ie.jsx)("nav",{role:"navigation",id:"navigation",children:Object(ie.jsxs)("div",{style:Object(g.a)(Object(g.a)({},$e),u[e]),className:"nav-modal",children:[Object(ie.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),O(!1)},children:Object(ie.jsx)(Te.a,{})}),Object(ie.jsx)(ge,{}),Object(ie.jsx)("div",{className:"nav-modal__walletconnect-button-container",children:Object(ie.jsx)(Ye,{showWalletETHBadge:!0})}),Object(ie.jsxs)("ul",{className:"nav__list",children:[Object(ie.jsx)("li",{onClick:function(){O(!1)},children:Object(ie.jsx)(s.c,{to:"/membership",children:Object(ie.jsx)("span",{children:"Membership"})})}),Object(ie.jsx)("li",{onClick:function(){O(!1)},children:Object(ie.jsx)(s.c,{to:"/governance",children:Object(ie.jsx)("span",{children:"Governance"})})}),Object(ie.jsx)("li",{onClick:function(){O(!1)},children:Object(ie.jsx)(s.c,{to:"/transfers",children:Object(ie.jsx)("span",{children:"Transfer"})})}),Object(ie.jsx)("li",{onClick:function(){O(!1)},children:Object(ie.jsx)(s.c,{to:"/tributes",children:Object(ie.jsx)("span",{children:"Tribute"})})}),f&&Object(ie.jsx)("li",{onClick:function(){O(!1)},children:Object(ie.jsx)(s.c,{to:"/members/".concat(l),children:Object(ie.jsx)("span",{children:"Profile"})})}),j&&Object(ie.jsx)("li",{onClick:function(){O(!1)},children:Object(ie.jsx)(s.c,{to:"/dao-manager",children:Object(ie.jsx)("span",{children:"Manage DAO"})})})]})]})})}})})]})}function rt(){return Object(ie.jsx)(ye.a,{query:"(max-width: 62em)",children:function(e){return Object(ie.jsx)("div",{className:"nav-header",children:Object(ie.jsxs)("div",{className:"nav-header__menu-container",children:[Object(ie.jsx)(tt,{}),Object(ie.jsx)(Xe,{border:"1px solid #c3d6dc"}),Object(ie.jsx)(nt,{}),Object(ie.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(ie.jsx)(Ye,{showWalletETHBadge:!0})})]})})}})}function at(){function e(e){return Object(ie.jsx)(s.b,{to:"/",children:e.children})}return Object(ie.jsxs)("header",{className:"header",children:[Object(ie.jsx)(e,{children:Object(ie.jsx)(Ee,{})}),Object(ie.jsx)("div",{className:"header__nav-container",children:Object(ie.jsx)(rt,{})})]})}var ct=n(7),st=n(14),ot=n(63),it=n.n(ot);function ut(e){return t=e,it.a.utils.sha3(t);var t}function dt(e){var t;return{acl:lt((t={},Object(ct.a)(t,st.b.BANK,{}),Object(ct.a)(t,st.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object(ct.a)(t,st.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object(ct.a)(t,st.a.EXECUTION,{}),Object(ct.a)(t,st.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object(ct.a)(t,st.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object(ct.a)(t,st.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(ct.a)(t,st.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object(ct.a)(t,st.a.OFFCHAINVOTING,{}),Object(ct.a)(t,st.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object(ct.a)(t,st.a.NONVOTING_ONBOARDING,{}),Object(ct.a)(t,st.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(ct.a)(t,st.a.VOTING,{}),Object(ct.a)(t,st.a.BANK,{WITHDRAW:!0,SUB_FROM_BALANCE:!0,UPDATE_TOKEN:!0}),Object(ct.a)(t,st.a.NFT,{COLLECT_NFT:!0}),Object(ct.a)(t,st.a.COUPON_ONBOARDING,{SUBMIT_PROPOSAL:!1,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!1,NEW_MEMBER:!0}),Object(ct.a)(t,st.a.TRIBUTE_NFT,{SUBMIT_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,COLLECT_NFT:!0}),Object(ct.a)(t,st.b.NFT,{WITHDRAW_NFT:!0,COLLECT_NFT:!0,INTERNAL_TRANSFER:!0}),Object(ct.a)(t,st.a.DAO_REGISTRY,{UPDATE_DELEGATE_KEY:!0}),t)[e])}}function lt(e){var t=[e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER],n=[e.TRANSFER_NFT];return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([].concat(t,n))}var bt=[{name:st.a.CONFIGURATION,adapterId:ut(st.a.CONFIGURATION),contractAddress:h.e[h.k],abiFunctionName:"submitConfigurationProposal",description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:st.a.DISTRIBUTE,adapterId:ut(st.a.DISTRIBUTE),contractAddress:h.l[h.k],abiFunctionName:"submitProposal",description:"Allows the members to distribute funds to one or all members of the DAO."},{name:st.a.FINANCING,adapterId:ut(st.a.FINANCING),contractAddress:h.q[h.k],abiFunctionName:"createFinancingRequest",description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:st.a.GUILDKICK,adapterId:ut(st.a.GUILDKICK),contractAddress:h.t[h.k],abiFunctionName:"submitKickProposal",description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:st.a.MANAGING,adapterId:ut(st.a.MANAGING),contractAddress:h.w[h.k],abiFunctionName:"submitProposal",description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:st.a.ONBOARDING,adapterId:ut(st.a.ONBOARDING),contractAddress:h.B[h.k],abiFunctionName:"configureDao",description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:st.a.RAGEQUIT,adapterId:ut(st.a.RAGEQUIT),contractAddress:h.C[h.k],abiFunctionName:"ragequit",description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:st.a.TRIBUTE,adapterId:ut(st.a.TRIBUTE),contractAddress:h.G[h.k],abiFunctionName:"configureDao",description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{name:st.a.TRIBUTE_NFT,adapterId:ut(st.a.TRIBUTE_NFT),contractAddress:h.H[h.k],abiFunctionName:"provideTributeNFT",description:"Allows potential DAO members to contribute a registered ERC-721 asset to the DAO in exchange for any amount of DAO units."},{options:[{name:st.a.VOTING,displayName:st.a.OFFCHAINVOTING,adapterId:ut(st.a.VOTING),contractAddress:h.A[h.k],abiFunctionName:"configureDao",description:"Adds the offchain voting governance process to the DAO to support gasless voting.",setAclToExtensionForAdapter:!0},{name:st.a.VOTING,displayName:st.a.VOTING,adapterId:ut(st.a.VOTING),contractAddress:h.J[h.k],abiFunctionName:"configureDao",description:"Adds the simple on chain voting governance process to the DAO.",setAclToExtensionForAdapter:!0}],optionDefaultTarget:st.a.VOTING},{name:st.a.BANK,adapterId:ut(st.a.BANK),contractAddress:h.a[h.k],abiFunctionName:"withdraw",description:"Allows the members to withdraw their funds from the DAO bank."},{name:st.a.NFT,adapterId:ut(st.a.NFT),contractAddress:h.z[h.k],abiFunctionName:"collect",description:"Transfers ownership of an NFT to the DAO collection."},{name:st.a.COUPON_ONBOARDING,adapterId:ut(st.a.COUPON_ONBOARDING),contractAddress:h.f[h.k],abiFunctionName:"configureDao",description:"Provides a way to onboard an initial group of members quickly without requiring multiple proposals."},{name:st.a.DAO_REGISTRY,adapterId:ut(st.a.DAO_REGISTRY),contractAddress:h.i[h.k],abiFunctionName:"updateDelegateKey",description:"Allows the member to update delegate key."}],jt=n(31),ft=["DaoRegistryContract"];function Ot(){var e=Object(c.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(E.a)(e,ft),r=Object(Je.a)(m.a,{pollInterval:h.r,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(we.a)(r,2),s=a[0],o=a[1],i=o.called,u=o.data,d=o.error,l=Object(se.useState)(),b=Object(we.a)(l,2),j=b[0],f=b[1],O=Object(se.useState)(),p=Object(we.a)(O,2),v=p[0],x=p[1],N=Object(se.useState)(Re.a.STANDBY),A=Object(we.a)(N,2),w=A[0],I=A[1],y=Object(se.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return bt.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(g.a)(Object(g.a)(Object(g.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var s=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),o=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(s||o){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(g.a)(Object(g.a)(Object(g.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}else{var s=a(e.adapterId);if(s)return n.push(Object(g.a)(Object(g.a)(Object(g.a)({},s),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(g.a)(Object(g.a)(Object(g.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(se.useEffect)((function(){i||s()}),[i,s]),Object(se.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(I(Re.a.PENDING),u){var e=u.tributeDaos[0],n=e.adapters,r=e.extensions,a=y(n,r),c=a.registeredList,s=a.unRegisteredList;f(c),x(s),I(Re.a.FULFILLED)}else if(d)throw new Error(d.message)}catch(d){f(void 0),x(void 0),I(Re.a.REJECTED)}}),[t,u,d,y]),{adapterExtensionStatus:w,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:j,unRegisteredAdaptersOrExtensions:v}}var pt,ht=n(30);function mt(){var e=Object(De.d)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString();return n===pt.ADDRESS?function(t){try{return!!t&&(it.a.utils.checkAddressChecksum(t,e)||it.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===pt.BYTES32?function(e){try{return!!e&&(66===e.length&&it.a.utils.isHex(e))}catch(t){return!1}}(r):n===pt.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&it.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===pt.UINT256?function(e){return!isNaN(Number(e))}(r):n!==pt.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r)},getFormFieldError:function(e){return e===pt.ADDRESS?ht.a.INVALID_ETHEREUM_ADDRESS:e===pt.BYTES32?ht.a.INVALID_BYTES32:e===pt.BYTES32_ARRAY?ht.a.INVALID_BYTES32_ARRAY:e===pt.UINT256?ht.a.INVALID_NUMBER:e===pt.UINT256_ARRAY?ht.a.INVALID_NUMBER_ARRAY:ht.a.REQUIRED},formatInputByType:function(e,t){return t===pt.BYTES32_ARRAY?Array.from(e.split(",")):t===pt.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===pt.UINT256?Number(e):e}}}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(pt||(pt={}));var vt=n(45);function xt(e){var t=e.adapterOrExtension,n=e.defaultTarget,r=e.renderActions,a=e.renderCheckboxAction,c=Object(se.useState)(n||null),s=Object(we.a)(c,2),o=s[0],i=s[1],u=Object(se.useState)({}),d=Object(we.a)(u,2),l=d[0],b=d[1];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[a({selectedTargetOption:o}),Object(ie.jsxs)("div",{className:"adapter-extension__info",children:[Object(ie.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(ie.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;i(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));b(r)},children:[Object(ie.jsxs)("option",{value:"",disabled:null!==o,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(ie.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(ie.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(r){console.warn(r)}}(o)]})]}),r({selectedTargetOption:o,selectedTargetOptionProps:l})]})}var Nt=n(84),gt=n(5),Et=n(52),At=n(28),wt=["error"];function It(e){var t=e.error,n=Object(E.a)(e,wt);return Object(ie.jsx)(ie.Fragment,{children:t&&Object(ie.jsx)(Be.a,{children:Object(ie.jsx)("p",Object(g.a)(Object(g.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var yt=n(43);function Ct(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,r=e.adapterOrExtension,a=e.closeHandler,s=Object(c.c)((function(e){return e.contracts})).DaoRegistryContract,o=Object(se.useState)(),i=Object(we.a)(o,2),u=i[0],d=i[1],l=Object(se.useState)(gt.f.STANDBY),b=Object(we.a)(l,2),j=b[0],f=b[1],O=Object(se.useState)(gt.f.STANDBY),h=Object(we.a)(O,2),m=h[0],v=h[1],x=Object(De.a)(),N=x.txError,E=x.txIsPromptOpen,A=x.txSend,w=x.txStatus,I=Object(De.b)().fast,y=Object(De.e)(),C=y.connected,_=y.account,D=mt(),k=D.isParamInputValid,T=D.getFormFieldError,S=D.formatInputByType,R=Ot().getAdapterOrExtensionFromRedux,P=Object(Nt.a)({mode:"onBlur",reValidateMode:"onChange"}),L=P.errors,F=P.formState,M=P.getValues,B=P.setValue,G=P.register,U=P.trigger,V=u||N,W=C&&_,Y=(null===r||void 0===r?void 0:r.isExtension)?"extension":"adapter",z=F.isValid,H=(w===gt.f.AWAITING_CONFIRM||w===gt.f.PENDING)&&(j===gt.f.AWAITING_CONFIRM||j===gt.f.PENDING),K=(w===gt.f.AWAITING_CONFIRM||w===gt.f.PENDING)&&(m===gt.f.AWAITING_CONFIRM||m===gt.f.PENDING),q=w===gt.f.FULFILLED&&j===gt.f.FULFILLED,J=w===gt.f.FULFILLED&&m===gt.f.FULFILLED,Q=(H||q)&&E,X=(K||J)&&E;function $(){return($=Object(Ke.a)(He.a.mark((function e(){var t,n,c;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(gt.f.AWAITING_CONFIRM),t=[null===r||void 0===r?void 0:r.extensionId],n=[null===r||void 0===r?void 0:r.adapterId,Et.a,0,[],[]],c=Object(g.a)({from:_||""},I?{gasPrice:I}:null),e.next=9,A((null===r||void 0===r?void 0:r.isExtension)?"removeExtension":"replaceAdapter",s.instance.methods,(null===r||void 0===r?void 0:r.isExtension)?t:n,c);case 9:v(gt.f.FULFILLED),a&&setTimeout((function(){a()}),3e3),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),d(e.t0),v(gt.f.REJECTED);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function Z(){return(Z=Object(Ke.a)(He.a.mark((function e(a){var c,s,o,i,u;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f(gt.f.PENDING),c=R(null===r||void 0===r?void 0:r.name),s=c.contractAddress,o=c.instance.methods,W){e.next=5;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 5:if(s){e.next=7;break}throw new Error("No ".concat(null===r||void 0===r?void 0:r.name," contract found."));case 7:if(_){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(a).find((function(t){return t[0]===e.name}));if(t){var n=S(t[1],e.type);i.push(n)}})),u=Object(g.a)({from:_||""},I?{gasPrice:I}:null),f(gt.f.AWAITING_CONFIRM),e.next=15,A(n,o,i,u);case 15:f(gt.f.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),d(e.t0),f(gt.f.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":L[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return B(e.name[0],M()[e.name])},ref:G({validate:function(t){return""===t?ht.a.REQUIRED:!!k(t,e.type)||T(e.type)}}),disabled:Q}),Object(ie.jsx)(It,{error:Object(p.f)(e.name,L),id:"error-".concat(e.name)})]})]},e.name)})),Object(ie.jsx)("button",{className:"button",disabled:Q||X,onClick:function(){Q||(z?function(e){Z.apply(this,arguments)}(M()):U())},type:"submit",children:H?Object(ie.jsx)(yt.a,{}):q?"Done":"Submit"}),V&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:V})}),Object(ie.jsxs)("div",{className:"adapter-extension__remove",children:[Object(ie.jsxs)("p",{children:["Delete this ",Y,". Once you delete this"," ",Y,", it can be re-added if the DAO isn't finalized."]}),Object(ie.jsx)("button",{className:"button--secondary",disabled:X||Q,onClick:function(){return J?{}:function(){return $.apply(this,arguments)}()},children:K?Object(ie.jsx)(yt.a,{}):J?"Done":"Remove"})]})]})}function _t(e){var t=e.abiMethodName,n=e.adapterOrExtension,r=e.configurationInputs,a=e.isOpen,c=e.closeHandler;return Object(ie.jsx)(Ge,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:a,isOpenHandler:function(){c()},children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){c()},children:Object(ie.jsx)(Te.a,{})}),Object(ie.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(ie.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(ie.jsx)(Ct,{abiConfigurationInputs:r,abiMethodName:t,adapterOrExtension:n,closeHandler:c})]})})}var Dt,kt=["size"];function Tt(e){var t=e.size,n=Object(E.a)(e,kt);return Object(ie.jsxs)(se.Fragment,{children:[Object(ie.jsx)("input",Object(g.a)(Object(g.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(ie.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(ie.jsx)("span",{className:"checkbox-box ".concat(t||Dt.SMALL)}),Object(ie.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}!function(e){e.LARGE="large",e.SMALL="small"}(Dt||(Dt={}));var St=n(61),Rt=n(59),Pt=n(70),Lt=n(55);function Ft(e){var t=e.isOpen,n=e.closeHandler,r=Object(se.useState)(),a=Object(we.a)(r,2),s=a[0],o=a[1],i=Object(c.c)((function(e){return e.contracts})).DaoRegistryContract,u=Object(De.a)(),d=u.txError,l=u.txEtherscanURL,b=u.txIsPromptOpen,j=u.txSend,f=u.txStatus,O=Object(De.b)().fast,h=Object(vt.c)().dao,m=Object(De.e)(),v=m.connected,x=m.account,N=v&&x,E=f===gt.f.AWAITING_CONFIRM||f===gt.f.PENDING,A=f===gt.f.FULFILLED,w=E||A||b,I=s||d;function y(){return(y=Object(Ke.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(i){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:return t=Object(g.a)({from:x||""},O?{gasPrice:O}:null),e.next=9,j("finalizeDao",i.instance.methods,[],t);case 9:n&&setTimeout((function(){n()}),3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(ie.jsx)(Ge,{keyProp:"adapter-extension-finalize",isOpen:t,isOpenHandler:function(){n()},children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){n()},children:Object(ie.jsx)(Te.a,{})}),Object(ie.jsx)("h1",{children:"Finalize"}),Object(ie.jsxs)("h2",{children:[h&&h.name," ",Object(ie.jsx)("small",{children:h&&Object(p.j)(h.daoAddress,7)})]}),Object(ie.jsx)("p",{children:"After your DAO is finalized you will need to submit a proposal to make changes."}),Object(ie.jsx)("button",{className:"button",disabled:w,onClick:function(){w||function(){y.apply(this,arguments)}()},type:"submit",children:E?Object(ie.jsx)(yt.a,{}):A?"Done":"Submit"}),w&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(f){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(Rt.a,{})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:l,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Finalized!"}),Object(ie.jsx)(Lt.a,{url:l})]});default:return null}}()}),I&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while trying to finalize the DAO.",error:I})})]})})}var Mt,Bt=["children"],Gt=function(e){var t=e.children,n=Object(E.a)(e,Bt);return Object(ie.jsx)("div",Object(g.a)(Object(g.a)({style:{position:"relative"}},n),{},{children:t}))};function Ut(){var e=Object(c.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,r=Object(c.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),a=Object(se.useState)(""),s=Object(we.a)(a,2),o=s[0],i=s[1],u=Object(se.useState)(),d=Object(we.a)(u,2),l=d[0],b=d[1],j=Object(se.useState)(),O=Object(we.a)(j,2),h=O[0],m=O[1],v=Object(se.useState)(),x=Object(we.a)(v,2),N=x[0],E=x[1],A=Object(se.useState)(),w=Object(we.a)(A,2),I=w[0],y=w[1],C=Object(se.useState)(!1),_=Object(we.a)(C,2),D=_[0],k=_[1],T=Object(se.useState)(!1),S=Object(we.a)(T,2),R=S[0],P=S[1],L=Object(se.useState)(!1),F=Object(we.a)(L,2),M=F[0],B=F[1],G=Object(se.useState)(0),U=Object(we.a)(G,2),V=U[0],W=U[1],Y=Object(se.useState)(),z=Object(we.a)(Y,2),H=z[0],K=z[1],q=Object(se.useState)(),J=Object(we.a)(q,2),Q=J[0],X=J[1],$=Object(se.useState)(),Z=Object(we.a)($,2),ee=Z[0],te=Z[1],ne=Object(se.useState)(),re=Object(we.a)(ne,2),ae=re[0],ce=re[1],oe=Object(De.d)().defaultChainError,ue=Object(De.e)(),de=ue.connected,le=ue.account,be=ue.web3Instance,je=Object(vt.c)(),fe=je.dao,Oe=je.gqlError,pe=Ot(),he=pe.adapterExtensionStatus,me=pe.getAdapterOrExtensionFromRedux,ve=pe.registeredAdaptersOrExtensions,xe=pe.unRegisteredAdaptersOrExtensions,Ne=function(){var e=Object(c.b)();function t(){return(t=Object(Ke.a)(He.a.mark((function t(n,r){return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===st.a.CONFIGURATION?3:t.t0===st.a.FINANCING?6:t.t0===st.a.GUILDKICK?9:t.t0===st.a.MANAGING?12:t.t0===st.a.RAGEQUIT?15:t.t0===st.a.BANK?18:t.t0===st.b.NFT?21:t.t0===st.a.ONBOARDING?24:t.t0===st.a.TRIBUTE?27:t.t0===st.a.DISTRIBUTE?30:t.t0===st.a.VOTING?33:t.t0===st.a.COUPON_ONBOARDING?36:t.t0===st.a.TRIBUTE_NFT?39:t.t0===st.a.NFT?42:t.t0===st.a.DAO_REGISTRY?45:t.t0===st.b.ERC20?48:51;break;case 3:return t.next=5,e(Object(f.C)(r));case 5:return t.abrupt("break",51);case 6:return t.next=8,e(Object(f.J)(r));case 8:return t.abrupt("break",51);case 9:return t.next=11,e(Object(f.K)(r));case 11:return t.abrupt("break",51);case 12:return t.next=14,e(Object(f.L)(r));case 14:return t.abrupt("break",51);case 15:return t.next=17,e(Object(f.P)(r));case 17:return t.abrupt("break",51);case 18:return t.next=20,e(Object(f.z)(r));case 20:return t.abrupt("break",51);case 21:return t.next=23,e(Object(f.N)(r));case 23:return t.abrupt("break",51);case 24:return t.next=26,e(Object(f.O)(r));case 26:return t.abrupt("break",51);case 27:return t.next=29,e(Object(f.Q)(r));case 29:return t.abrupt("break",51);case 30:return t.next=32,e(Object(f.H)(r));case 32:return t.abrupt("break",51);case 33:return t.next=35,e(Object(f.S)(r));case 35:return t.abrupt("break",51);case 36:return t.next=38,e(Object(f.D)(r));case 38:return t.abrupt("break",51);case 39:return t.next=41,e(Object(f.R)(r));case 41:return t.abrupt("break",51);case 42:return t.next=44,e(Object(f.M)(r));case 44:return t.abrupt("break",51);case 45:return t.next=47,e(Object(f.G)(r));case 47:return t.abrupt("break",51);case 48:return t.next=50,e(Object(f.I)(r));case 50:return t.abrupt("break",51);case 51:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{initAdapterExtensionContract:function(e,n){return t.apply(this,arguments)}}}().initAdapterExtensionContract,ge=Object(De.a)().txSend,Ee=Object(De.b)().fast,Ae=Object(vt.f)(),Ie=Ae.isDisabled,ye=Ae.openWhyDisabledModal,Ce=Ae.setOtherDisabledReasons,_e=Ae.WhyDisabledModal,ke=de&&le,Te=fe,Se=l===jt.a.READY,Pe=he===Re.a.REJECTED&&void 0===ve&&void 0===xe,Le=he===Re.a.PENDING,Fe=0===(null===xe||void 0===xe?void 0:xe.length),Me=Object(se.useCallback)((function(){return Be.apply(this,arguments)}),[t,null===fe||void 0===fe?void 0:fe.name,Ce]);function Be(){return(Be=Object(Ke.a)(He.a.mark((function e(){var n,r;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===fe||void 0===fe?void 0:fe.name," is already finalized"),e.next=6,Object(jt.g)(t.instance);case 6:r=e.sent,b(r),r===jt.a.READY&&Ce([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),b(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Ge(e){new Promise((function(t,n){try{t(me(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ve(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function Ue(e){new Promise((function(t,n){try{t(me(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ve(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function Ve(e,t,n){return We.apply(this,arguments)}function We(){return(We=Object(Ke.a)(He.a.mark((function e(n,r,a){var c,s,o,i,u,d,l;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(void 0),t){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(be){e.next=5;break}throw new Error("No Web3 instance was found.");case 5:if(e.prev=5,te((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(ct.a)({},r,!0))})),n){e.next=9;break}throw new Error("".concat(a," address must not be empty"));case 9:return c=ut(r),s=dt(r),o=s.acl,i="ADAPTER"===a?[c,n,o,[],[]]:[c,n,le],u=Object(g.a)({from:le||""},Ee?{gasPrice:Ee}:null),d="ADAPTER"===a?"replaceAdapter":"addExtension",e.next=16,ge(d,t.instance.methods,i,u);case 16:te((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(ct.a)({},r,!1))})),m((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(ct.a)({},r,!0))})),Ne(r,be),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),te((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(ct.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),y(l);case 26:case"end":return e.stop()}}),e,null,[[5,21]])})))).apply(this,arguments)}function Ye(){return(Ye=Object(Ke.a)(He.a.mark((function e(){var t,r,a,c,s,o,i,u,d;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:if(be){e.next=5;break}throw new Error("No Web3 instance was found.");case 5:for(a in e.prev=5,t=[],r=function(e){if(H[e]){var n=bt.filter((function(t){return t.name===e}))[0],r=n.adapterId,a=n.contractAddress;if(!a){var c=me(e);a=null===c||void 0===c?void 0:c.contractAddress}var s=dt(e).acl;r&&a&&(t.push([r,a,s]),te((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(ct.a)({},e,!0))})))}},H)r(a);return c=[null===fe||void 0===fe?void 0:fe.daoAddress,t],s=Object(g.a)({from:le||""},Ee?{gasPrice:Ee}:null),e.next=13,ge("addAdapters",n.instance.methods,c,s);case 13:for(o in H)H[o]&&o&&Ne(o,be);e.next=23;break;case 16:for(d in e.prev=16,e.t0=e.catch(5),i=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),y(i),qe(!1),u=function(e){te((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(ct.a)({},e,!1))}))},H)u(d);case 23:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}function ze(){return(ze=Object(Ke.a)(He.a.mark((function e(t){var n,r,a,c,s,o;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(void 0),e.prev=1,n=t.abiFunctionName,r=t.name,n){e.next=5;break}throw new Error("ABI function not found for ".concat(r));case 5:a=me(r),c=a.abi,s=c.filter((function(e){return e.name===n}))[0].inputs,i(n),X(t),E(s),k(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"".concat(t.name," contract not found")),y(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function qe(e){B(e);var t=function(t){K((function(n){return Object(g.a)(Object(g.a)({},n),{},Object(ct.a)({},t,e))}))};for(var n in H)t(n)}return Object(se.useEffect)((function(){Me()}),[Me,t]),Object(se.useEffect)((function(){B(!1),xe&&xe&&(null===xe||void 0===xe||xe.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&!e.isExtension&&K((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(ct.a)({},e.name,!1))}))})))}),[Ie,xe]),Object(se.useEffect)((function(){H&&W(Object.values(H).filter((function(e){return!0===e})).length)}),[H]),ke&&r&&!oe?Object(ie.jsx)(Vt,{children:Object(ie.jsxs)("div",{className:"adaptermanager",children:[!fe&&Oe?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(ie.jsx)(At.a,{error:Oe,renderText:"Something went wrong"})):fe?Object(ie.jsxs)("h3",{children:[fe.name," ",Object(ie.jsx)("small",{children:Object(p.j)(fe.daoAddress,7)})]}):void 0,I?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(ie.jsx)(At.a,{error:I,renderText:"Something went wrong"})):Object(ie.jsx)(ie.Fragment,{}),Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(ie.jsxs)("div",{className:"adapter-extension__selection",children:[Object(ie.jsx)("div",{children:Object(ie.jsx)(Tt,{"data-testid":"selectall",role:"checkbox",id:"selectall",label:"".concat(V," selected"),checked:!0===M,disabled:Ie||Pe||Fe||!Te,name:"selectall",size:Dt.LARGE,onChange:function(e){qe(e.target.checked)}})}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--secondary",disabled:0===V||Ie,onClick:function(){return Ye.apply(this,arguments)},children:"Add selected"})})]}),Le&&Object(ie.jsx)("div",{className:"adapter-extension__loader",children:Object(ie.jsx)(yt.a,{text:"Loading data from subgraph..."})}),Pe&&Object(ie.jsx)("p",{children:"No adapters/extensions available"}),Te&&xe&&(null===xe||void 0===xe?void 0:xe.length)>0&&xe.map((function(e,t){return Object(ie.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(ie.jsx)(xt,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:"adapter-extension__checkbox",children:Object(ie.jsx)(Tt,{id:n||"empty",label:"",checked:n&&H&&!0===H[n]||!1,disabled:Ie||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:Dt.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;K((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(ct.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:"adapter-extension__add",children:Object(ie.jsx)("button",{className:"button--secondary",disabled:null===t||ee&&ee[n.name]||Ie,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?Ue(n):Ge(n)},children:ee&&ee[n.name]?Object(ie.jsx)(yt.a,{}):h&&h[n.name]?"Done":"Add"})})})}}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[Object(ie.jsx)("div",{className:"adapter-extension__checkbox",children:!(null===e||void 0===e?void 0:e.isExtension)&&Object(ie.jsx)(Tt,{id:e.name,label:"",checked:H&&!0===H[e.name]||!1,disabled:Ie,name:e.name,size:Dt.LARGE,onChange:function(t){K((function(n){return Object(g.a)(Object(g.a)({},n),{},Object(ct.a)({},e.name,t.target.checked))}))}})}),Object(ie.jsxs)("div",{className:"adapter-extension__info",children:[Object(ie.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(ie.jsx)("span",{className:"adapter-extension__desc",children:e.description})]})]}),Object(ie.jsx)("div",{className:"adapter-extension__add",children:Object(ie.jsx)("button",{className:"button--secondary",disabled:ee&&ee[e.name]||h&&h[e.name]||Ie,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?Ue(e):Ge(e)},children:ee&&ee[e.name]?Object(ie.jsx)(yt.a,{}):h&&h[e.name]?"Done":"Add"})})]})},t)})),Te&&ve&&(null===ve||void 0===ve?void 0:ve.length)>0&&ve.map((function(e,t){return Object(ie.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(ie.jsxs)("div",{className:"adapter-extension__info",children:[Object(ie.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(ie.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(ie.jsx)("div",{className:"adapter-extension__configure",children:Object(ie.jsx)("button",{className:"button--secondary",disabled:Ie||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return ze.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),Ie&&Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--help",onClick:function(){ye(),ce(Mt.CONFIGURATION_REASON)},children:Mt.CONFIGURATION_REASON})}),Object(ie.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(ie.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{"data-testid":"finalizedao",className:"button--secondary finalize",disabled:Pe||!Te||Se,onClick:function(){return P(!0)},children:"Finalize Dao"})}),Ie&&Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--help",onClick:function(){ye(),ce(Mt.FINALIZED_REASON)},children:Mt.FINALIZED_REASON})}),Object(ie.jsx)(_e,{title:ae})]}),D&&Object(ie.jsx)(_t,{abiMethodName:o,adapterOrExtension:Q,configurationInputs:N,isOpen:D,closeHandler:function(){k(!1)}}),R&&Object(ie.jsx)(Ft,{isOpen:R,closeHandler:function(){P(!1),Me()}})]})}):Object(ie.jsx)(Vt,{children:Object(ie.jsx)("div",{className:"adapter-extension__unauthorized-message",children:Object(ie.jsx)("p",{children:ke?oe?oe.message:r?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to manage the DAO adapters and extensions."})})})}function Vt(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Adapter/Extension Manager"})}),e.children]})})}!function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(Mt||(Mt={}));var Wt,Yt=n(20),zt=n(35),Ht=n(50),Kt=n(195);function qt(e){var t=e.value;return t?Object(ie.jsxs)("details",{children:[Object(ie.jsx)("summary",{style:{cursor:"pointer",outline:"none"},children:Object(ie.jsx)("small",{children:"Preview Markdown"})}),Object(ie.jsx)("div",{style:{marginTop:"1em"},children:Object(ie.jsx)(Kt.a,{children:t})})]}):null}function Jt(){var e=Object(c.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),t=Object(se.useState)(),n=Object(we.a)(t,2),r=n[0],a=n[1],s=Object(De.e)(),o=s.connected,i=s.account,u=Object(Ht.g)(),d=u.proposalSignAndSendStatus,l=u.signAndSendProposal,b=Object(De.d)().defaultChainError,j=Object(Nt.a)({mode:"onBlur",reValidateMode:"onChange"}),f=Object(ce.f)(),O=j.errors,h=j.getValues,m=j.register,v=j.trigger,x=j.watch,N=o&&i,g=d===gt.f.AWAITING_CONFIRM||d===gt.f.PENDING,E=d===gt.f.FULFILLED,A=g||E;function w(e){return I.apply(this,arguments)}function I(){return(I=Object(Ke.a)(He.a.mark((function e(t){var n,r;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({partialProposalData:{name:t.title,body:t.description,metadata:{type:zt.d.Governance}},type:Yt.SnapshotType.proposal});case 3:n=e.sent,r=n.uniqueId,f.push("/governance/".concat(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return N&&e&&!b?Object(ie.jsx)(Qt,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:Wt.title,children:"Title"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(Wt.title),"aria-invalid":O.title?"true":"false",id:Wt.title,name:Wt.title,ref:m({required:ht.a.REQUIRED}),type:"text",disabled:A}),Object(ie.jsx)(It,{error:Object(p.f)(Wt.title,O),id:"error-".concat(Wt.title)})]})]}),Object(ie.jsxs)("div",{className:"form__textarea-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:Wt.description,children:"Description"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("textarea",{"aria-describedby":"error-".concat(Wt.description),"aria-invalid":O.description?"true":"false",id:Wt.description,name:Wt.description,placeholder:"Say something about your governance proposal...",ref:m({required:ht.a.REQUIRED}),disabled:A}),Object(ie.jsx)(It,{error:Object(p.f)(Wt.description,O),id:"error-".concat(Wt.description)}),Object(ie.jsx)(qt,{value:x(Wt.description)})]})]}),Object(ie.jsx)("button",{"aria-label":g?"Submitting your proposal...":"",className:"button",disabled:A,onClick:Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:w(h());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:g?Object(ie.jsx)(yt.a,{}):E?"Done":"Submit"}),A&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(d){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(Rt.a,{intervalMs:500})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:["Submitting",Object(ie.jsx)(Rt.a,{intervalMs:500})]});case gt.f.FULFILLED:return"Done!";default:return""}}()}),r&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while submitting the proposal.",error:r})})]})}):Object(ie.jsx)(Qt,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:N?b?b.message:e?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a governance proposal."})})})}function Qt(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.title="title",e.description="description"}(Wt||(Wt={}));var Xt,$t=n(22),Zt=n(76);function en(){var e=Object(De.d)().defaultChainError,t=Object(De.e)(),n=t.connected,r=t.account,a=t.web3Instance,c=Object(Ht.g)(),s=c.proposalData,o=c.proposalSignAndSendError,i=c.proposalSignAndSendStatus,u=c.signAndSendProposal,d=Object(Nt.a)({mode:"onBlur",reValidateMode:"onChange"}),l=Object(ce.f)(),b=Object(se.useState)(),j=Object(we.a)(b,2),f=j[0],O=j[1],m=Object(se.useState)(),v=Object(we.a)(m,2),x=v[0],N=v[1],g=d.errors,E=d.getValues,A=d.setValue,w=d.register,I=d.trigger,y=f||o,C=n&&r,_=i===gt.f.AWAITING_CONFIRM||i===gt.f.PENDING,D=i===gt.f.FULFILLED,k=_||D,T=Object(se.useCallback)((function(){return S.apply(this,arguments)}),[r,a]);function S(){return(S=Object(Ke.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&r){e.next=3;break}return N(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.eth.getBalance(r);case 6:t=e.sent,N(a.utils.fromWei(t,"ether")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),N(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function R(e){return P.apply(this,arguments)}function P(){return(P=Object(Ke.a)(He.a.mark((function e(t){var n,a,c,o,i,d,b,j,f,m,v;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(r){e.next=5;break}throw new Error("No account found.");case 5:if(n=(null===s||void 0===s?void 0:s.uniqueId)||"",a=t.ethAddress,c=t.ethAmount,o=Object($t.toChecksumAddress)(a),i=Object($t.toWei)(Object(p.i)(c),"ether"),d=Object($t.toChecksumAddress)(r),b={tributeAmount:c,tributeAmountUnit:"ETH"},j=[o,h.I,i],n){e.next=19;break}return f=Object(p.g)(a)===Object(p.g)(r)?"Membership for ".concat(Object(p.j)(o,7),"."):"Membership proposal from ".concat(Object(p.j)(d,7)," for applicant ").concat(Object(p.j)(o,7),"."),e.next=16,u({partialProposalData:{name:o,body:f,metadata:{proposalAmountValues:b,submitActionArgs:j,accountAuthorizedToProcessPassedProposal:d}},adapterName:gt.a.onboarding,type:Yt.SnapshotType.draft});case 16:m=e.sent,v=m.uniqueId,n=v;case 19:l.push("/membership/".concat(n)),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),O(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){T()}),[T]),Object(se.useEffect)((function(){A(Xt.ethAddress,r)}),[r,A]),!C||e?Object(ie.jsx)(tn,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:C?e?e.message:void 0:"Connect your wallet to submit a membership proposal."})})}):Object(ie.jsx)(tn,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:Xt.ethAddress,children:"Applicant Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(Xt.ethAddress),"aria-invalid":g.ethAddress?"true":"false",id:Xt.ethAddress,name:Xt.ethAddress,ref:w({validate:function(e){return e?!!Object(Zt.a)(e)||ht.a.INVALID_ETHEREUM_ADDRESS:ht.a.REQUIRED}}),type:"text",disabled:k}),Object(ie.jsx)(It,{error:Object(p.f)(Xt.ethAddress,g),id:"error-".concat(Xt.ethAddress)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:Xt.ethAmount,children:"Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsxs)("div",{className:"input__suffix-wrap",children:[Object(ie.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Xt.ethAmount),"aria-invalid":g.ethAmount?"true":"false",id:Xt.ethAmount,name:Xt.ethAmount,onChange:function(){return A(Xt.ethAmount,Object(p.e)(E().ethAmount))},ref:w({validate:function(e){var t=Number(Object(p.i)(e));return""===e?ht.a.REQUIRED:isNaN(t)?ht.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(x))||"Insufficient funds."}}),type:"text",disabled:k}),Object(ie.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(ie.jsx)(It,{error:Object(p.f)(Xt.ethAmount,g),id:"error-".concat(Xt.ethAmount)})]}),Object(ie.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(ie.jsx)("span",{children:x?Number.isInteger(Number(x))?x:Object(p.d)(Number(x)):"---"})]})]}),Object(ie.jsx)("button",{"aria-label":_?"Submitting your proposal.":"",className:"button",disabled:k,onClick:Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:R(E());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:_?Object(ie.jsx)(yt.a,{}):D?"Done":"Submit"}),k&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(i){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(Rt.a,{intervalMs:500})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:["Submitting",Object(ie.jsx)(Rt.a,{intervalMs:500})]});case gt.f.FULFILLED:return"Done!";default:return""}}()}),y&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while submitting the proposal.",error:y})})]})})}function tn(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(Xt||(Xt={}));var nn,rn,an=n(428);function cn(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),t=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),a=Object(c.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),s=Object(De.d)().defaultChainError,o=Object(De.e)(),i=o.connected,u=o.account,d=o.web3Instance,l=Object(De.b)().fast,b=Object(De.a)(),j=b.txError,f=b.txEtherscanURL,O=b.txIsPromptOpen,m=b.txSend,v=b.txStatus,x=Object(Ht.g)(),N=x.proposalData,E=x.proposalSignAndSendStatus,A=x.signAndSendProposal,w=Object(Nt.a)({mode:"onBlur",reValidateMode:"onChange"}),I=Object(ce.f)(),y=Object(se.useState)(),C=Object(we.a)(y,2),_=C[0],D=C[1],k=Object(se.useState)(),T=Object(we.a)(k,2),S=T[0],R=T[1],P=Object(se.useState)(),L=Object(we.a)(P,2),F=L[0],M=L[1],B=w.errors,G=w.getValues,U=w.setValue,V=w.register,W=w.trigger,Y=w.watch,z="all members"===Y("type"),H=Y("selectedToken"),K=_||j,q=i&&u,J=an,Q=v===gt.f.AWAITING_CONFIRM||v===gt.f.PENDING||E===gt.f.AWAITING_CONFIRM||E===gt.f.PENDING,X=v===gt.f.FULFILLED&&E===gt.f.FULFILLED,$=Q||X||O,Z=Object(se.useCallback)((function(){return te.apply(this,arguments)}),[n,u,J,d]),ee=Object(se.useCallback)((function(){return ne.apply(this,arguments)}),[u,H]);function te(){return(te=Object(Ke.a)(He.a.mark((function e(){var t,a,c,s,o,i,l,b,j,f,O,p,m,v,x,N,E,A,w,I,y,C,_,D,k,T,S;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&n&&d){e.next=3;break}return R(void 0),e.abrupt("return");case 3:return e.prev=3,t=n.abi,a=n.contractAddress,c=n.instance.methods,e.next=7,c.nbTokens().call();case 7:if(s=e.sent,!(Number(s)<1)){e.next=12;break}R([]),e.next=44;break;case 12:return o=[],i=t.find((function(e){return"getToken"===e.name})),l=Object(r.a)(Array(Number(s)).keys()).map((function(e){return[a,i,[e.toString()]]})),e.next=17,Object(jt.j)({calls:l,web3Instance:d});case 17:return b=e.sent,j=t.find((function(e){return"balanceOf"===e.name})),f=b.map((function(e){return[a,j,[h.u,e]]})),e.next=22,Object(jt.j)({calls:f,web3Instance:d});case 22:if(O=e.sent,p=b.map((function(e,t){return{address:e,daoBalance:O[t]}})).filter((function(e){return Object($t.toBN)(e.daoBalance).gt(Object($t.toBN)(0))})),(m=p.find((function(e){return e.address===h.p})))&&o.push(Object(g.a)(Object(g.a)({},m),{},{name:"Ether",symbol:"ETH",decimals:18})),!((v=p.filter((function(e){return e.address!==h.p}))).length>0)){e.next=43;break}return x=J.find((function(e){return"name"===e.name})),N=v.map((function(e){return[e.address,x,[]]})),E=J.find((function(e){return"symbol"===e.name})),A=v.map((function(e){return[e.address,E,[]]})),w=J.find((function(e){return"decimals"===e.name})),I=v.map((function(e){return[e.address,w,[]]})),y=[].concat(Object(r.a)(N),Object(r.a)(A),Object(r.a)(I)),e.next=37,Object(jt.j)({calls:y,web3Instance:d});case 37:for(C=e.sent,_=[];C.length;)_.push(C.splice(0,v.length));D=_[0],k=_[1],T=_[2],S=v.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{name:D[t],symbol:k[t],decimals:T[t]})})).sort((function(e,t){return e.name.localeCompare(t.name)})),o=[].concat(Object(r.a)(o),Object(r.a)(S));case 43:R(o);case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),console.error(e.t0),R(void 0);case 50:case"end":return e.stop()}}),e,null,[[3,46]])})))).apply(this,arguments)}function ne(){return(ne=Object(Ke.a)(He.a.mark((function e(){var t,n,r,a,c,s,o,i;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&H){e.next=3;break}return M(void 0),e.abrupt("return");case 3:try{t=JSON.parse(H),n=t.daoBalance,r=Object($t.toBN)(n),a=t.decimals,c=Object($t.toBN)(10).pow(Object($t.toBN)(a)),s=r.div(c),o=r.mod(c),i=o.eq(Object($t.toBN)(0))?s.toString():"".concat(s.toString(),".").concat(o.toString()),M(i)}catch(d){console.error(d),M(void 0)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(Ke.a)(He.a.mark((function n(r){var a,c,s,o,i,b,j,f,O,v,x,E,w,y,C,_,k,T,S,R,P,L,F,M,B,G,U,V;return He.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,q){n.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No DistributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(u){n.next=9;break}throw new Error("No account found.");case 9:if(d){n.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(a=r.selectedToken,c=r.memberAddress,s=r.amount,o=r.notes,i=Object($t.toChecksumAddress)(c),b=JSON.parse(a),j=b.symbol,f=b.decimals,(O=b.address)===h.p?v=Object($t.toWei)(Object(p.i)(s),"ether"):(x=Object($t.toBN)(10).pow(Object($t.toBN)(f)),E=Object($t.toBN)(Object(p.i)(s)).mul(x),v=E.toString()),w=(null===N||void 0===N?void 0:N.uniqueId)||"",y=null===N||void 0===N?void 0:N.data,C=(null===N||void 0===N?void 0:N.signature)||"",_=z?"Transfer to all members pro rata.":"Transfer to ".concat(Object(p.j)(i,7),"."),k={transferAmount:s,transferAmountUnit:j},w){n.next=34;break}return T=o?"".concat(_,"\n").concat(o):_,S=z?"All members":i,R=Math.floor(Date.now()/1e3),n.next=27,A({partialProposalData:{name:S,body:T,metadata:{proposalAmountValues:k,isTypeAllMembers:z},timestamp:R.toString()},adapterName:gt.a.distribute,type:Yt.SnapshotType.proposal});case 27:P=n.sent,L=P.uniqueId,F=P.data,M=P.signature,w=L,y=F,C=M;case 34:return B=z?Et.a:i,G=y?Object(Yt.prepareVoteProposalData)({payload:{name:y.payload.name,body:y.payload.body,choices:y.payload.choices,snapshot:y.payload.snapshot.toString(),start:y.payload.start,end:y.payload.end},sig:C,space:y.space,timestamp:parseInt(y.timestamp)},d):"",U=[t.contractAddress,w,B,O,v,G],V=Object(g.a)({from:u||""},l?{gasPrice:l}:null),n.next=40,m("submitProposal",e.instance.methods,U,V);case 40:I.push("/transfers/".concat(w)),n.next=46;break;case 43:n.prev=43,n.t0=n.catch(0),D(n.t0);case 46:case"end":return n.stop()}}),n,null,[[0,43]])})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(Ke.a)(He.a.mark((function e(t){var r;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("No BankExtensionContract found."),e.abrupt("return",!1);case 3:return e.next=5,n.instance.methods.balanceOf(t,h.I).call();case 5:return r=e.sent,e.abrupt("return",Object($t.toBN)(r).gt(Object($t.toBN)(0)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(se.useEffect)((function(){Z()}),[Z]),Object(se.useEffect)((function(){ee()}),[ee]),q&&!s&&a?Object(ie.jsx)(sn,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Type"}),Object(ie.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(ie.jsxs)("select",{name:nn.type,ref:V,disabled:$,children:[Object(ie.jsx)("option",{value:"single member",children:"Single member"}),Object(ie.jsx)("option",{value:"all members",children:"All members"})]})})]}),!z&&Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Member Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(nn.memberAddress),"aria-invalid":B.memberAddress?"true":"false",name:nn.memberAddress,ref:V({validate:function(){var e=Object(Ke.a)(He.a.mark((function e(t){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}e.t0=ht.a.REQUIRED,e.next=17;break;case 4:if(Object(Zt.a)(t)){e.next=8;break}e.t1=ht.a.INVALID_ETHEREUM_ADDRESS,e.next=16;break;case 8:return e.next=10,oe(t);case 10:if(e.sent){e.next=14;break}e.t2="The address is not an active member with membership tokens.",e.next=15;break;case 14:e.t2=!0;case 15:e.t1=e.t2;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:$}),Object(ie.jsx)(It,{error:Object(p.f)(nn.memberAddress,B),id:"error-".concat(nn.memberAddress)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Asset"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsxs)("select",{"aria-describedby":"error-".concat(nn.selectedToken),"aria-invalid":B.selectedToken?"true":"false",name:nn.selectedToken,ref:V({validate:function(e){return!S||S.length<1?"No tokens available for distribution.":!!e||ht.a.REQUIRED}}),disabled:$,children:[Object(ie.jsx)("option",{value:"",children:"Select from DAO assets"}),null===S||void 0===S?void 0:S.map((function(e){return Object(ie.jsx)("option",{value:JSON.stringify(e),children:"".concat(e.name," (").concat(e.symbol,")")},e.address)}))]}),Object(ie.jsx)(It,{error:Object(p.f)(nn.selectedToken,B),id:"error-".concat(nn.selectedToken)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsxs)("div",{className:"input__suffix-wrap",children:[Object(ie.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(nn.amount),"aria-invalid":B.amount?"true":"false",name:nn.amount,onChange:function(){return U(nn.amount,Object(p.e)(G().amount))},ref:V({validate:function(e){var t=Number(Object(p.i)(e)),n=H&&JSON.parse(H),r=(null===n||void 0===n?void 0:n.address)===h.p;return""===e?ht.a.REQUIRED:isNaN(t)?ht.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(F)?"Insufficient funds.":!!r||(!!Number.isInteger(t)||"The value must be an integer for an ERC20 token.")}}),type:"text",disabled:$}),Object(ie.jsx)("div",{className:"input__suffix-item",children:H&&JSON.parse(H).symbol||"___"})]}),Object(ie.jsx)(It,{error:Object(p.f)(nn.amount,B),id:"error-".concat(nn.amount)}),Object(ie.jsx)("div",{className:"form__input-description",children:z?"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of membership tokens held by each member.":"If the proposal passes, this amount will be distributed to the member's internal account."})]}),Object(ie.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(ie.jsx)("span",{children:F?Number.isInteger(Number(F))?F:Object(p.d)(Number(F)):"---"})]})]}),Object(ie.jsxs)("div",{className:"form__textarea-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Notes"}),Object(ie.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(ie.jsx)("textarea",{name:nn.notes,placeholder:"Transactions purpose...",ref:V,disabled:$})})]}),Object(ie.jsx)("button",{className:"button",disabled:$,onClick:Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,W();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:re(G());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:Q?Object(ie.jsx)(yt.a,{}):X?"Done":"Submit"}),$&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){if(v===gt.f.AWAITING_CONFIRM||E===gt.f.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(v){case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:f,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Proposal submitted!"}),Object(ie.jsx)(Lt.a,{url:f})]});default:return null}}()}),K&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while submitting the proposal.",error:K})})]})}):Object(ie.jsx)(sn,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:q?s?s.message:a?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a transfer proposal."})})})}function sn(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function on(){var e=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(De.d)().defaultChainError,r=Object(De.e)(),a=r.connected,s=r.account,o=r.web3Instance,i=Object(Ht.g)(),u=i.proposalData,d=i.proposalSignAndSendError,l=i.proposalSignAndSendStatus,b=i.signAndSendProposal,j=Object(Nt.a)({mode:"onBlur",reValidateMode:"onChange"}),f=Object(ce.f)(),O=Object(se.useState)(),m=Object(we.a)(O,2),v=m[0],x=m[1],N=Object(se.useState)(),g=Object(we.a)(N,2),E=g[0],A=g[1],w=Object(se.useState)(),I=Object(we.a)(w,2),y=I[0],C=I[1],_=Object(se.useState)(),D=Object(we.a)(_,2),k=D[0],T=D[1],S=j.errors,R=j.getValues,P=j.setValue,L=j.register,F=j.trigger,M=(0,j.watch)("erc20Address"),B=v||d,G=a&&s,U=l===gt.f.AWAITING_CONFIRM||l===gt.f.PENDING,V=l===gt.f.FULFILLED,W=U||V,Y=Object(se.useCallback)((function(){return K.apply(this,arguments)}),[M,o]),z=Object(se.useCallback)((function(){return q.apply(this,arguments)}),[s,k]),H=Object(se.useCallback)((function(){return J.apply(this,arguments)}),[s,k]);function K(){return(K=Object(Ke.a)(He.a.mark((function e(){var t,r,a,c;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&M){e.next=3;break}return T(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.resolve().then(n.t.bind(null,428,3));case 6:t=e.sent,r=t.default,a=r,c=new o.eth.Contract(a,M),T(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),T(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function q(){return(q=Object(Ke.a)(He.a.mark((function e(){var t,n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&k){e.next=3;break}return C(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,k.methods.symbol().call();case 6:return t=e.sent,e.next=9,k.methods.decimals().call();case 9:n=e.sent,C({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),C(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function J(){return(J=Object(Ke.a)(He.a.mark((function e(){var t,n,r,a,c,o,i;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s&&k){e.next=3;break}return A(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,k.methods.balanceOf(s).call();case 6:return t=e.sent,n=Object($t.toBN)(t),e.next=10,k.methods.decimals().call();case 10:r=e.sent,a=Object($t.toBN)(10).pow(Object($t.toBN)(r)),c=n.div(a),o=n.mod(a),i=o.eq(Object($t.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(o.toString()),A(i),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),A(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(Ke.a)(He.a.mark((function t(){return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.abrupt("return","UNITS");case 4:return t.prev=4,t.next=7,e.instance.methods.symbol().call();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return","UNITS");case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))).apply(this,arguments)}function $(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(Ke.a)(He.a.mark((function e(t){var n,r,a,c,o,i,d,l,j,O,m,v,N,g,E,A,w;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,G){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(s){e.next=5;break}throw new Error("No account found.");case 5:if(k){e.next=7;break}throw new Error("No ERC20Contract found.");case 7:if(y){e.next=9;break}throw new Error("No ERC20 details found.");case 9:if(n=t.applicantAddress,r=t.erc20Address,a=t.tributeAmount,c=t.requestAmount,o=t.description,i=Object($t.toBN)(10).pow(Object($t.toBN)(y.decimals)),d=Object($t.toBN)(Object(p.i)(a)).mul(i),l=Object(p.i)(c),j=Object($t.toChecksumAddress)(n),O=Object($t.toChecksumAddress)(s),m=(null===u||void 0===u?void 0:u.uniqueId)||""){e.next=32;break}return v=Object(p.g)(n)===Object(p.g)(s)?"Tribute from ".concat(Object(p.j)(j,7),"."):"Tribute from ".concat(Object(p.j)(O,7)," for applicant ").concat(Object(p.j)(j,7),"."),N=o?"".concat(v,"\n").concat(o):v,e.t0=c,e.next=22,Q();case 22:return e.t1=e.sent,e.t2=a,e.t3=y.symbol,g={requestAmount:e.t0,requestAmountUnit:e.t1,tributeAmount:e.t2,tributeAmountUnit:e.t3},E=[j,h.I,l,Object($t.toChecksumAddress)(r),d.toString(),O],e.next=29,b({partialProposalData:{name:j,body:N,metadata:{proposalAmountValues:g,submitActionArgs:E,accountAuthorizedToProcessPassedProposal:O}},adapterName:gt.a.tribute,type:Yt.SnapshotType.draft});case 29:A=e.sent,w=A.uniqueId,m=w;case 32:f.push("/tributes/".concat(m)),e.next=38;break;case 35:e.prev=35,e.t4=e.catch(0),x(e.t4);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){Y()}),[Y]),Object(se.useEffect)((function(){z()}),[z]),Object(se.useEffect)((function(){H()}),[H]),Object(se.useEffect)((function(){P(rn.applicantAddress,s)}),[s,P]),!G||t?Object(ie.jsx)(un,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:G?t?t.message:void 0:"Connect your wallet to submit a tribute proposal."})})}):Object(ie.jsx)(un,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(rn.applicantAddress),"aria-invalid":S.applicantAddress?"true":"false",name:rn.applicantAddress,ref:L({validate:function(e){return e?!!Object(Zt.a)(e)||ht.a.INVALID_ETHEREUM_ADDRESS:ht.a.REQUIRED}}),type:"text",disabled:W}),Object(ie.jsx)(It,{error:Object(p.f)(rn.applicantAddress,S),id:"error-".concat(rn.applicantAddress)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(rn.erc20Address),"aria-invalid":S.erc20Address?"true":"false",name:rn.erc20Address,ref:L({validate:function(e){return e?!!Object(Zt.a)(e)||ht.a.INVALID_ETHEREUM_ADDRESS:ht.a.REQUIRED}}),type:"text",disabled:W}),Object(ie.jsx)(It,{error:Object(p.f)(rn.erc20Address,S),id:"error-".concat(rn.erc20Address)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsxs)("div",{className:"input__suffix-wrap",children:[Object(ie.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(rn.tributeAmount),"aria-invalid":S.tributeAmount?"true":"false",name:rn.tributeAmount,onChange:function(){return P(rn.tributeAmount,Object(p.e)(R().tributeAmount))},ref:L({validate:function(e){var t=Number(Object(p.i)(e));return""===e?ht.a.REQUIRED:isNaN(t)?ht.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(E)?"Insufficient funds.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:W}),Object(ie.jsx)("div",{className:"input__suffix-item",children:(null===y||void 0===y?void 0:y.symbol)||"___"})]}),Object(ie.jsx)(It,{error:Object(p.f)(rn.tributeAmount,S),id:"error-".concat(rn.tributeAmount)}),Object(ie.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(ie.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(ie.jsx)("span",{children:E?Number.isInteger(Number(E))?E:Object(p.d)(Number(E)):"---"})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(rn.requestAmount),"aria-invalid":S.requestAmount?"true":"false",name:rn.requestAmount,onChange:function(){return P(rn.requestAmount,Object(p.e)(R().requestAmount))},ref:L({validate:function(e){var t=Number(Object(p.i)(e));return""===e?ht.a.REQUIRED:isNaN(t)?ht.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:W}),Object(ie.jsx)(It,{error:Object(p.f)(rn.requestAmount,S),id:"error-".concat(rn.requestAmount)}),Object(ie.jsx)("div",{className:"form__input-description",children:"This is the amount of DAO membership tokens you are requesting be sent to the Applicant Address in exchange for your tribute."})]})]}),Object(ie.jsxs)("div",{className:"form__textarea-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(ie.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(ie.jsx)("textarea",{name:rn.description,placeholder:"Say something about your tribute...",ref:L,disabled:W})})]}),Object(ie.jsx)("button",{className:"button",disabled:W,onClick:Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:$(R());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:U?Object(ie.jsx)(yt.a,{}):V?"Done":"Submit"}),W&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(l){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(Rt.a,{intervalMs:500})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:["Submitting",Object(ie.jsx)(Rt.a,{intervalMs:500})]});case gt.f.FULFILLED:return"Done!";default:return""}}()}),B&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while submitting the proposal.",error:B})})]})})}function un(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.type="type",e.selectedToken="selectedToken",e.memberAddress="memberAddress",e.amount="amount",e.notes="notes"}(nn||(nn={})),function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(rn||(rn={}));var dn=n(429),ln=n.n(dn),bn=(n(927),Object(se.memo)((function(){return Object(ie.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(ie.jsx)("div",{className:"cube__segment--top"}),Object(ie.jsx)("div",{className:"cube__segment--left"}),Object(ie.jsx)("div",{className:"cube__segment--right"})]})})));function jn(){return Object(ie.jsxs)("div",{"data-testid":"get-started-header",className:"landing__header",children:[Object(ie.jsx)(he,{}),Object(ie.jsx)(nt,{})]})}function fn(){var e=Object(ce.f)();return Object(se.useEffect)((function(){ln.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(jn,{}),Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)(Ae,{}),Object(ie.jsxs)("div",{className:"landing",children:[Object(ie.jsx)("div",{className:"landing__subtitle",children:"A next generation DAO framework"}),Object(ie.jsx)("div",{className:"landing__img",children:Object(ie.jsx)(bn,{})}),Object(ie.jsx)("div",{className:"landing__button",children:Object(ie.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})})]})]})})]})}var On=n(127);function pn(e){var t,n,r=e.proposal,a=Object(Ht.h)(null===(t=r.snapshotProposal)||void 0===t?void 0:t.msg.payload.start,null===(n=r.snapshotProposal)||void 0===n?void 0:n.msg.payload.end),c=a.hasVotingTimeEnded,s=a.hasVotingTimeStarted,o=a.votingTimeStartEndInitReady;return Object(ie.jsxs)(ie.Fragment,{children:[o&&s&&Object(ie.jsx)(On.c,{proposal:r}),o&&s&&!c&&Object(ie.jsx)(On.b,{proposal:r})]})}function hn(){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsx)(Be.a,{children:Object(ie.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(ie.jsxs)("h3",{children:["4",Object(ie.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}function mn(e){var t=e.proposal,n=e.renderAmountBadge,r=e.renderActions,a=t.getCommonSnapshotProposalData();return a?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(ie.jsxs)("div",{className:"proposaldetails",children:[Object(ie.jsxs)("div",{className:"proposaldetails__content",children:[Object(ie.jsx)("h3",{children:Object(p.j)(a.msg.payload.name||"",7)}),Object(ie.jsx)(Kt.a,{children:a.msg.payload.body})]}),Object(ie.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),r()]})]})]}):null}function vn(){var e=Object(ce.h)().proposalId,t=Object(Ht.b)(e,Yt.SnapshotType.proposal),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,s=Object(De.d)().defaultChainError,o=r||s;return c===Re.a.PENDING&&!o?Object(ie.jsx)(xn,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})})}):a?Object(ie.jsx)(xn,{children:Object(ie.jsx)(hn,{})}):o?Object(ie.jsx)(xn,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:o,renderText:"Something went wrong while getting the proposal."})})}):n?Object(ie.jsx)(xn,{children:Object(ie.jsx)(mn,{proposal:n,renderActions:function(){return Object(ie.jsx)(pn,{proposal:n})}})}):Object(ie.jsx)(ie.Fragment,{})}function xn(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance")},children:"View all"})]}),e.children]})})}var Nn=n(430),gn=n(431),En="View Proposal",An=n.n(gn)()()(Nn.a);function wn(e){var t=e.buttonText,n=void 0===t?En:t,r=e.proposalOnClickId,a=e.onClick,c=e.name,s=e.renderStatus;return Object(ie.jsxs)("div",{className:"proposalcard",onClick:function(){a(r)},children:[Object(ie.jsx)("h3",{className:"proposalcard__title",children:function(e){return Object(Zt.a)(e)?Object(p.j)(e,7):Object(ie.jsx)(An,{text:e,maxLine:1,ellipsis:"...",trimRight:!0,basedOn:"letters"})}(c)}),s&&s(),Object(ie.jsx)("button",{className:"proposalcard__button",children:n||En})]})}function In(e){var t=e.actionId,n=void 0===t?Et.a:t,r=e.onProposalClick,a=void 0===r?function(){}:r,c=e.renderProposalCard,s=Object(se.useState)([]),o=Object(we.a)(s,2),i=o[0],u=o[1],d=Object(se.useState)({failedProposals:[],passedProposals:[],votingProposals:[]}),l=Object(we.a)(d,2),b=l[0],j=l[1],f=function(e){var t=e.actionId,n=void 0===t?Et.a:t,r=Object(se.useState)([]),a=Object(we.a)(r,2),c=a[0],s=a[1],o=Object(se.useState)(),i=Object(we.a)(o,2),u=i[0],d=i[1],l=Object(se.useState)(Re.a.STANDBY),b=Object(we.a)(l,2),j=b[0],f=b[1],O=Object(vt.e)().isMountedRef,p=Object(se.useCallback)((function(){return x.apply(this,arguments)}),[n,O]);function m(e){return v.apply(this,arguments)}function v(){return(v=Object(Ke.a)(He.a.mark((function e(t){var n,r,a;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(h.D,"/api/").concat(h.E),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,e.abrupt("return",Object.entries(a).map((function(e){var t=Object(we.a)(e,2),n=t[0],r=t[1];return{daoProposal:void 0,snapshotDraft:void 0,snapshotProposal:Object(g.a)(Object(g.a)({},r),{},{idInSnapshot:n,idInDAO:""}),getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotType:Yt.SnapshotType.proposal}})));case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function x(){return(x=Object(Ke.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(Re.a.PENDING),e.next=4,m(n);case 4:if(t=e.sent,O.current){e.next=7;break}return e.abrupt("return");case 7:f(Re.a.FULFILLED),s(t),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),O.current){e.next=15;break}return e.abrupt("return");case 15:f(Re.a.REJECTED),s([]),d(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){p()}),[p]),{governanceProposals:c,governanceProposalsError:u,governanceProposalsStatus:j}}({actionId:n}),O=f.governanceProposals,m=f.governanceProposalsError,v=f.governanceProposalsStatus,x=Object(Ht.a)(i),N=x.offchainVotingResults,E=x.offchainVotingResultsError,A=x.offchainVotingResultsStatus,w=Object(De.d)().defaultChainError,I=b.failedProposals,y=b.passedProposals,C=b.votingProposals,_=v===Re.a.STANDBY||v===Re.a.PENDING||A===Re.a.STANDBY&&i.length>0||A===Re.a.PENDING,D=m||E||w;function k(e){return e.map((function(e){var t,n,r,s=null===(t=e.snapshotProposal)||void 0===t?void 0:t.idInSnapshot,o=(null===(n=e.snapshotProposal)||void 0===n?void 0:n.msg.payload.name)||"";if(!s)return null;var i=null===(r=N.find((function(e){var t=Object(we.a)(e,2),n=t[0];t[1];return Object(p.g)(n)===Object(p.g)(s)})))||void 0===r?void 0:r[1];return c?Object(ie.jsx)(se.Fragment,{children:c({proposalData:e,votingResult:i})},s):Object(ie.jsx)(wn,{name:o,onClick:a,proposalOnClickId:s,renderStatus:function(){return Object(ie.jsx)(On.c,{proposal:e,votingResult:i})}},s)}))}return Object(se.useEffect)((function(){u(O.map((function(e){return e.snapshotProposal})))}),[O]),Object(se.useEffect)((function(){if(v===Re.a.FULFILLED){var e={failedProposals:[],passedProposals:[],votingProposals:[]};O.forEach((function(t){var n,r;if(((null===(n=t.snapshotProposal)||void 0===n?void 0:n.msg.payload.end)||0)<Math.ceil(Date.now()/1e3)){var a=null===(r=N.find((function(e){var n,r=Object(we.a)(e,2),a=r[0];r[1];return Object(p.g)(a)===Object(p.g)((null===(n=t.snapshotProposal)||void 0===n?void 0:n.idInSnapshot)||"")})))||void 0===r?void 0:r[1];if(a){var c,s=(c=a).Yes.units>c.No.units;s?e.passedProposals.push(t):s||e.failedProposals.push(t)}}else e.votingProposals.push(t)})),j((function(t){return Object(g.a)(Object(g.a)({},t),e)}))}}),[O,v,N]),_&&!D?Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})}):O.length||Object.values(b).flatMap((function(e){return e})).length||v!==Re.a.FULFILLED?D?Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:D,renderText:"Something went wrong while getting the proposals."})}):Object(ie.jsxs)("div",{className:"grid--fluid grid-container",children:[C.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.VOTING}),Object(ie.jsx)("div",{className:"grid__cards",children:k(C)})]}),y.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.PASSED}),Object(ie.jsx)("div",{className:"grid__cards",children:k(y)})]}),I.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.FAILED}),Object(ie.jsx)("div",{className:"grid__cards",children:k(I)})]})]}):Object(ie.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function yn(){var e=Object(ce.f)();return Object(ie.jsx)(Cn,{children:Object(ie.jsx)(In,{actionId:Et.a,onProposalClick:function(t){t&&e.push("/governance/".concat(t))}})})}function Cn(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}var _n=["createdAt","didFullyRagequit"];function Dn(){var e=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(c.c)((function(e){return e.contracts.BankExtensionContract})),n=Object(c.c)((function(e){return e.subgraphNetworkStatus.status})),a=Object(De.e)().web3Instance,s=Object(Je.a)(m.c,{pollInterval:h.r,variables:{daoAddress:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),o=Object(we.a)(s,2),i=o[0],u=o[1],d=u.called,l=u.loading,b=u.data,j=u.error,f=u.stopPolling,O=Object(se.useState)([]),v=Object(we.a)(O,2),x=v[0],N=v[1],A=Object(se.useState)(Re.a.STANDBY),w=Object(we.a)(A,2),I=w[0],y=w[1],C=Object(se.useState)(),_=Object(we.a)(C,2),D=_[0],k=_[1],T=Object(se.useCallback)((function(){return R.apply(this,arguments)}),[t,e,a]),S=Object(se.useCallback)((function(){try{if(y(Re.a.PENDING),!l&&b){var e=b.tributeDaos[0].members.filter((function(e){return!e.didFullyRagequit})).map((function(e){e.createdAt,e.didFullyRagequit;var t=Object(E.a)(e,_n);return Object(g.a)(Object(g.a)({},t),{},{address:Object($t.toChecksumAddress)(e.address),delegateKey:Object($t.toChecksumAddress)(e.delegateKey)})}));y(Re.a.FULFILLED),N(e)}else if(j)throw new Error(j.message)}catch(j){console.log("subgraph query error: ".concat(j.message)),f&&f(),T()}}),[b,j,T,l,f]);function R(){return(R=Object(Ke.a)(He.a.mark((function n(){var c,s,o,i,u,d,l,b,j,f,O,m,v,x,g,E,A;return He.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t&&a){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,y(Re.a.PENDING),c=e.abi,s=e.contractAddress,o=e.instance.methods,n.next=7,o.getNbMembers().call();case 7:if(i=n.sent,!(Number(i)>0)){n.next=28;break}return u=c.find((function(e){return"getMemberAddress"===e.name})),d=Object(r.a)(Array(Number(i)).keys()).map((function(e){return[s,u,[e.toString()]]})),n.next=13,Object(jt.j)({calls:d,web3Instance:a});case 13:return l=n.sent,b=c.find((function(e){return"memberAddressesByDelegatedKey"===e.name})),j=l.map((function(e){return[s,b,[e]]})),n.next=18,Object(jt.j)({calls:j,web3Instance:a});case 18:return f=n.sent,O=t.abi,m=t.contractAddress,v=O.find((function(e){return"balanceOf"===e.name})),x=f.map((function(e){return[m,v,[e,h.I]]})),n.next=24,Object(jt.j)({calls:x,web3Instance:a});case 24:g=n.sent,E=l.map((function(e,t){return{address:e,delegateKey:f[t],isDelegated:Object(p.g)(e)!==Object(p.g)(f[t]),units:g[t]}})),A=E.filter((function(e){return Object($t.toBN)(e.units).gt(Object($t.toBN)(0))})).reverse(),N(A);case 28:y(Re.a.FULFILLED),n.next=36;break;case 31:n.prev=31,n.t0=n.catch(2),y(Re.a.REJECTED),N([]),k(n.t0);case 36:case"end":return n.stop()}}),n,null,[[2,31]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){d||i()}),[d,i]),Object(se.useEffect)((function(){n===Z.a.OK?!l&&(null===e||void 0===e?void 0:e.contractAddress)&&S():(f&&f(),T())}),[null===e||void 0===e?void 0:e.contractAddress,T,S,l,f,n]),{members:x,membersError:D,membersStatus:I}}var kn,Tn,Sn,Rn=n(185);function Pn(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({"aria-hidden":"true",focusable:"false","data-icon":"copy",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),{},{children:Object(ie.jsx)("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"})}))}function Ln(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({"aria-hidden":"true",focusable:"false","data-icon":"wallet",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),{},{children:Object(ie.jsx)("path",{fill:"currentColor",d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"})}))}function Fn(e){var t=e.daoTokenDetails;function n(){return(n=Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return t?Object(ie.jsxs)("div",{children:["Token: ",Object(ie.jsx)("span",{children:Object(Rn.a)(t.address,7)}),Object(ie.jsx)("div",{className:"daotoken__tooltip",children:Object(ie.jsxs)("button",{className:"daotoken__button",onClick:function(){if(t){var e=document.createElement("input");document.body.appendChild(e),e.setAttribute("value",t.address),e.select(),document.execCommand("copy"),document.body.removeChild(e),document.getElementById("copyTooltip").innerHTML="copied!"}},onMouseLeave:function(){document.getElementById("copyTooltip").innerHTML="copy address"},children:[Object(ie.jsx)("span",{className:"daotoken__tooltiptext",id:"copyTooltip",children:"copy address"}),Object(ie.jsx)(Pn,{})]})}),Object(ie.jsx)("div",{className:"daotoken__tooltip",children:Object(ie.jsxs)("button",{className:"daotoken__button",onClick:function(){return n.apply(this,arguments)},children:[Object(ie.jsx)("span",{className:"daotoken__tooltiptext",children:"add to wallet"}),Object(ie.jsx)(Ln,{})]})})]}):Object(ie.jsx)(ie.Fragment,{})}function Mn(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({"aria-hidden":"true",focusable:"false","data-icon":"user",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),{},{children:Object(ie.jsx)("path",{fill:"currentColor",d:"M313.6 304c-28.7 0-42.5 16-89.6 16-47.1 0-60.8-16-89.6-16C60.2 304 0 364.2 0 438.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-25.6c0-74.2-60.2-134.4-134.4-134.4zM400 464H48v-25.6c0-47.6 38.8-86.4 86.4-86.4 14.6 0 38.3 16 89.6 16 51.7 0 74.9-16 89.6-16 47.6 0 86.4 38.8 86.4 86.4V464zM224 288c79.5 0 144-64.5 144-144S303.5 0 224 0 80 64.5 80 144s64.5 144 144 144zm0-240c52.9 0 96 43.1 96 96s-43.1 96-96 96-96-43.1-96-96 43.1-96 96-96z"})}))}function Bn(e){var t=e.isOpen,n=e.closeHandler,r=e.currentStep,a=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),s=Object(c.c)((function(e){return e.contracts.DaoRegistryAdapterContract})),o=Object(c.c)((function(e){return e.connectedMember})),i=Object(De.e)(),u=i.account,d=i.web3Instance,l=Object(De.b)().fast,b=Object(De.a)(),j=b.txError,O=b.txEtherscanURL,h=b.txIsPromptOpen,m=b.txSend,v=b.txStatus,x=Object(Nt.a)({mode:"onBlur",reValidateMode:"onChange"}),N=Object(c.b)(),E=Object(se.useState)(),A=Object(we.a)(E,2),w=A[0],I=A[1],y=x.errors,C=x.getValues,_=x.register,D=x.trigger,k=x.watch,T=v===gt.f.AWAITING_CONFIRM||v===gt.f.PENDING,S=v===gt.f.FULFILLED,R=T||S||h,P=w||j,L=k(Sn.delegateAddress),F=k(Sn.confirmDelegation),M=!L||!F,B={setDelegation:function(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"modal__title",children:"Delegate"}),Object(ie.jsx)("p",{children:"Transfer your voting rights"}),Object(ie.jsx)("div",{className:"delegation-modal__arrow-down",children:"\u2193"}),Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsx)("div",{className:"form__input-row",children:Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(Sn.delegateAddress),"aria-invalid":y.delegateAddress?"true":"false",name:Sn.delegateAddress,ref:_({validate:function(e){return e?!(!Object(Zt.a)(e)||e===Et.a)||ht.a.INVALID_ETHEREUM_ADDRESS:ht.a.REQUIRED}}),type:"text",disabled:R,placeholder:"Enter delegate address"}),Object(p.f)(Sn.delegateAddress,y).includes("invalid")&&Object(ie.jsx)(It,{error:Object(p.f)(Sn.delegateAddress,y),id:"error-".concat(Sn.delegateAddress)})]})}),Object(ie.jsx)("div",{className:"form__input-row",style:{marginTop:0},children:Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{className:"checkbox-input","aria-describedby":"error-".concat(Sn.confirmDelegation),"aria-invalid":y.confirmDelegation?"true":"false",id:Sn.confirmDelegation,name:Sn.confirmDelegation,ref:_({required:ht.a.REQUIRED}),type:"checkbox",disabled:R}),Object(ie.jsxs)("label",{className:"checkbox-label",htmlFor:Sn.confirmDelegation,children:[Object(ie.jsx)("span",{className:"checkbox-box ".concat(Dt.SMALL)}),Object(ie.jsx)("span",{className:"checkbox-text",children:"Confirm delegation to the above address. You can revoke this at any time from your profile."})]})]})}),Object(ie.jsx)("button",{"aria-label":T?"Updating your delegate key...":"",className:"button",disabled:R||M,onClick:Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!R){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,D();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:G(C());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:T?Object(ie.jsx)(yt.a,{}):S?"Done":"Confirm"}),R&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:Y()}),P&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong with your delegation.",error:P})})]})]})},revokeDelegation:function(){if(o)return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"modal__title",children:"Revoke Delegation"}),Object(ie.jsx)("p",{children:Object(p.j)(o.delegateKey,7)}),Object(ie.jsx)("div",{className:"delegation-modal__arrow-down",children:"\u2193"}),Object(ie.jsxs)("p",{children:[Object(ie.jsx)(Mn,{}),"Back to you"]}),Object(ie.jsx)("div",{className:"delegation-modal__text",children:"You'll be able to resume voting from your account. You can delegate again at any time from your profile."}),Object(ie.jsx)("button",{"aria-label":T?"Updating your delegate key...":"",className:"button",disabled:R,onClick:V,children:T?Object(ie.jsx)(yt.a,{}):S?"Done":"Confirm"}),R&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:Y()}),P&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong with your revocation.",error:P})})]});return Object(ie.jsx)(ie.Fragment,{})}};function G(e){return U.apply(this,arguments)}function U(){return(U=Object(Ke.a)(He.a.mark((function e(t){var r,c,o,i;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(s){e.next=5;break}throw new Error("No DAO Registry Adapter contract was found.");case 5:if(u){e.next=7;break}throw new Error("No account found.");case 7:if(d){e.next=9;break}throw new Error("No Web3 instance was found.");case 9:return r=t.delegateAddress,c=[a.contractAddress,Object($t.toChecksumAddress)(r)],o=Object(g.a)({from:u||""},l?{gasPrice:l}:null),e.next=14,m("updateDelegateKey",s.instance.methods,c,o);case 14:e.sent&&setTimeout(Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(f.y)({account:u,daoRegistryContract:a,web3Instance:d}));case 2:n();case 3:case"end":return e.stop()}}),e)}))),2e3),e.next=24;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),i=e.t0,(e.t0.message.includes("cannot overwrite existing delegated keys")||e.t0.message.includes("address already taken as delegated key"))&&(i=new Error("The provided address cannot be another member or already in use as a delegate.")),I(i);case 24:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function V(){return W.apply(this,arguments)}function W(){return(W=Object(Ke.a)(He.a.mark((function e(){var t,r;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(s){e.next=5;break}throw new Error("No DAO Registry Adapter contract was found.");case 5:if(u){e.next=7;break}throw new Error("No account found.");case 7:if(d){e.next=9;break}throw new Error("No Web3 instance was found.");case 9:return t=[a.contractAddress,Object($t.toChecksumAddress)(u)],r=Object(g.a)({from:u||""},l?{gasPrice:l}:null),e.next=13,m("updateDelegateKey",s.instance.methods,t,r);case 13:e.sent&&setTimeout(Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Object(f.y)({account:u,daoRegistryContract:a,web3Instance:d}));case 2:n();case 3:case"end":return e.stop()}}),e)}))),2e3),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log(e.t0),I(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function Y(){switch(v){case gt.f.AWAITING_CONFIRM:return"Awaiting your confirmation\u2026";case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:O,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Submitted!"}),Object(ie.jsx)(Lt.a,{url:O})]});default:return null}}return Object(ie.jsxs)(Ge,{keyProp:"delegation",isOpen:t,isOpenHandler:function(){},modalClassNames:"delegation-modal",children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){n()},children:Object(ie.jsx)(Te.a,{})}),B[r]()]})}function Gn(){var e=Object(c.c)((function(e){return e.connectedMember})),t=Object(se.useState)(Tn.SET_DELEGATION),n=Object(we.a)(t,2),r=n[0],a=n[1],s=Object(se.useState)(""),o=Object(we.a)(s,2),i=o[0],u=o[1],d=Object(se.useState)(!1),l=Object(we.a)(d,2),b=l[0],j=l[1],f=Object(se.useCallback)((function(){return O.apply(this,arguments)}),[e]);function O(){return(O=Object(Ke.a)(He.a.mark((function t(){var n,r;return He.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}throw new Error("No connected account found.");case 3:n=e.isAddressDelegated?Tn.REVOKE_DELEGATION:Tn.SET_DELEGATION,a(n),r=e.isAddressDelegated?kn.REVOKE_DELEGATION:kn.DELEGATE_VOTES,u(r),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){f()}),[f]),e?Object(ie.jsxs)(ie.Fragment,{children:[""!==i&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"memberprofile__action-description",children:e.isAddressDelegated?Object(ie.jsxs)(ie.Fragment,{children:["Your voting rights have been delegated to"," ",Object(ie.jsx)("span",{className:"delegation__delegate-address-text",children:Object(p.j)(e.delegateKey,7)}),". You can revoke this at any time."]}):Object(ie.jsx)(ie.Fragment,{children:"You can delegate your voting rights to a different ETH address. The address cannot be another member or already in use as a delegate."})}),Object(ie.jsx)("button",{className:"memberprofile__action-button",onClick:function(){return j(!0)},children:i})]}),b&&Object(ie.jsx)(Bn,{isOpen:b,closeHandler:function(){j(!1)},currentStep:r})]}):Object(ie.jsx)(ie.Fragment,{})}function Un(){var e=Dn(),t=e.members,n=e.membersError,r=e.membersStatus,a=Object(De.d)().defaultChainError,c=Object(De.e)().account,s=qe(),o=s.daoTokenDetails,i=s.daoTokenDetailsStatus,u=Object(vt.d)(),d=u.totalUnits,l=u.totalUnitsStatus,b=Object(ce.h)().ethereumAddress,j=Object(se.useState)(),f=Object(we.a)(j,2),O=f[0],h=f[1],m=Object(se.useState)(!1),v=Object(we.a)(m,2),x=v[0],N=v[1];Object(se.useEffect)((function(){if(r===Re.a.FULFILLED){var e=t.find((function(e){return Object(p.g)(e.address)===Object(p.g)(b)}));h(e),e||N(!0)}}),[b,t,r]);var g=r===Re.a.STANDBY||r===Re.a.PENDING||i===Re.a.STANDBY||i===Re.a.PENDING||l===Re.a.STANDBY||l===Re.a.PENDING,E=r===Re.a.FULFILLED,A=n||a,w=!(!c||!O||Object(p.g)(c)!==Object(p.g)(O.address)),I=O&&"number"===typeof d?(Number(O.units)/d*100).toFixed(2):"";return g&&!A?Object(ie.jsx)(Vn,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})})}):A?Object(ie.jsx)(Vn,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:A,renderText:"Something went wrong while getting the member."})})}):x&&E?Object(ie.jsx)(Vn,{children:Object(ie.jsx)("div",{className:"text-center error-message",children:Object(ie.jsx)("p",{children:"Member not found."})})}):Object(ie.jsx)(Vn,{children:O?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(ie.jsxs)("div",{className:"proposaldetails",children:[Object(ie.jsxs)("div",{className:"memberprofile__left-column",children:[Object(ie.jsx)("h3",{children:Object(p.j)(O.address,7)}),function(){if(O)return Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"memberprofile__info-item",children:o?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"DAO Tokens"}),Object(ie.jsx)("div",{children:"".concat(Object(p.e)(O.units)," ").concat(o.symbol||"tokens")}),w&&Object(ie.jsx)("small",{children:Object(ie.jsx)(Fn,{daoTokenDetails:o})})]}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Membership Units"}),Object(ie.jsx)("div",{children:Object(p.e)(O.units)})]})}),Object(ie.jsxs)("div",{className:"memberprofile__info-item",children:[Object(ie.jsx)("div",{children:"Voting Weight"}),Object(ie.jsx)("div",{children:"".concat(I,"%")})]})]})}()]}),Object(ie.jsx)("div",{className:"memberprofile__right-column",children:w?Object(ie.jsx)("div",{children:Object(ie.jsxs)("div",{className:"memberprofile__action",children:[Object(ie.jsx)("div",{className:"memberprofile__action-header",children:"Delegation"}),Object(ie.jsx)(Gn,{})]})}):Object(ie.jsx)("div",{className:"memberprofile__actions-unavailable",children:"Connect your wallet with this member address to view available actions."})})]})]}):Object(ie.jsx)(ie.Fragment,{})})}function Vn(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function Wn(e){var t=e.member,n=e.onClick,r=Object(De.e)().account;return Object(ie.jsx)("div",{className:"membercard ".concat(r&&r.toLowerCase()===t.address.toLowerCase()?"membercard--connected-account":""),onClick:function(){var e=t.address;n(e)},children:Object(ie.jsx)("h3",{className:"membercard__title",children:Object(p.j)(t.address,7)})})}function Yn(){var e=Dn(),t=e.members,n=e.membersError,r=e.membersStatus,a=Object(De.d)().defaultChainError,c=Object(ce.f)(),s=r===Re.a.STANDBY||r===Re.a.PENDING,o=r===Re.a.FULFILLED,i=n||a;return s&&!i?Object(ie.jsx)(zn,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})})}):i?Object(ie.jsx)(zn,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:i,renderText:"Something went wrong while getting the members."})})}):!Object.values(t).length&&o?Object(ie.jsx)(zn,{children:Object(ie.jsx)("p",{className:"text-center",children:"No members, yet!"})}):Object(ie.jsx)(zn,{children:Object(ie.jsx)("div",{className:"grid--fluid grid-container",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(ie.jsx)("div",{className:"grid__cards",children:function(e){return e.map((function(e){return Object(ie.jsx)(Wn,{onClick:(t=e.address,function(){t&&c.push("/members/".concat(t))}),member:e},e.address);var t}))}(t)})]})})})}function zn(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}!function(e){e.DELEGATE_VOTES="Delegate Votes",e.REVOKE_DELEGATION="Revoke Delegation"}(kn||(kn={})),function(e){e.SET_DELEGATION="setDelegation",e.REVOKE_DELEGATION="revokeDelegation"}(Tn||(Tn={})),function(e){e.delegateAddress="delegateAddress",e.confirmDelegation="confirmDelegation"}(Sn||(Sn={}));var Hn=n(49),Kn=n(48);function qn(e){var t=e.adapterName,n=e.onProposalClick,r=void 0===n?function(){}:n,a=e.renderProposalCard,c=e.includeProposalsExistingOnlyOffchain,s=void 0!==c&&c,o=Object(se.useState)({failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]}),i=Object(we.a)(o,2),u=i[0],d=i[1],l=Object(Ht.d)({adapterName:t,includeProposalsExistingOnlyOffchain:s}),b=l.proposals,j=l.proposalsError,f=l.proposalsStatus,O=Object(De.d)().defaultChainError,p=u.failedProposals,h=u.nonsponsoredProposals,m=u.passedProposals,v=u.votingProposals,x=f===Re.a.STANDBY||f===Re.a.PENDING,N=j||O;function E(e){return e.map((function(e){var t,n,c,s,o=(null===(t=e.snapshotDraft)||void 0===t?void 0:t.idInDAO)||(null===(n=e.snapshotProposal)||void 0===n?void 0:n.idInDAO),i=(null===(c=e.snapshotDraft)||void 0===c?void 0:c.msg.payload.name)||(null===(s=e.snapshotProposal)||void 0===s?void 0:s.msg.payload.name)||"";return o?a?Object(ie.jsx)(se.Fragment,{children:a({proposalData:e})},o):Object(ie.jsx)(wn,{onClick:r,proposalOnClickId:o,name:i,renderStatus:function(){var t;switch(null===(t=e.daoProposalVotingAdapter)||void 0===t?void 0:t.votingAdapterName){case st.c.OffchainVotingContract:return Object(ie.jsx)(On.c,{proposal:e});default:return Object(ie.jsx)(ie.Fragment,{})}}},o):null}))}return Object(se.useEffect)((function(){if(f===Re.a.FULFILLED){var e={failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]};b.forEach((function(t){var n,r,a,c=t.daoProposal,o=t.daoProposalVotingState,i=t.daoProposalVotes;if(c){var u=0===(null===(n=t.snapshotProposal)||void 0===n||null===(r=n.votes)||void 0===r?void 0:r.length),d=void 0!==o&&Object(Hn.e)(Kn.a.TIE,o)&&Object(Hn.d)(zt.b.SPONSORED,c.flags)&&(null===i||void 0===i||null===(a=i.OffchainVotingContract)||void 0===a?void 0:a.reporter)===Et.a;void 0!==o?void 0!==o&&Object(Hn.e)(Kn.a.PASS,o)&&(Object(Hn.d)(zt.b.SPONSORED,c.flags)||Object(Hn.d)(zt.b.PROCESSED,c.flags))?e.passedProposals.push(t):d&&!1===u?e.votingProposals.push(t):void 0===o||!Object(Hn.e)(Kn.a.NOT_PASS,o)&&!Object(Hn.e)(Kn.a.TIE,o)||!Object(Hn.d)(zt.b.SPONSORED,c.flags)&&!Object(Hn.d)(zt.b.PROCESSED,c.flags)?void 0!==o&&(Object(Hn.e)(Kn.a.GRACE_PERIOD,o)||Object(Hn.e)(Kn.a.TIE,o))&&Object(Hn.d)(zt.b.SPONSORED,c.flags)&&d&&u?e.failedProposals.push(t):void 0!==o&&(Object(Hn.e)(Kn.a.GRACE_PERIOD,o)||Object(Hn.e)(Kn.a.IN_PROGRESS,o))&&Object(Hn.d)(zt.b.SPONSORED,c.flags)&&e.votingProposals.push(t):e.failedProposals.push(t):(s||Object(Hn.d)(zt.b.EXISTS,c.flags))&&e.nonsponsoredProposals.push(t)}})),d((function(t){return Object(g.a)(Object(g.a)({},t),e)}))}}),[s,b,f]),x&&!N?Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})}):N?Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:N,renderText:"Something went wrong while getting the proposals."})}):Object.values(u).flatMap((function(e){return e})).length||f!==Re.a.FULFILLED?Object(ie.jsxs)("div",{className:"grid--fluid grid-container",children:[v.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.VOTING}),Object(ie.jsx)("div",{className:"grid__cards",children:E(v)})]}),h.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.REQUESTS}),Object(ie.jsx)("div",{className:"grid__cards",children:E(h)})]}),m.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.PASSED}),Object(ie.jsx)("div",{className:"grid__cards",children:E(m)})]}),p.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:ht.d.FAILED}),Object(ie.jsx)("div",{className:"grid__cards",children:E(p)})]})]}):Object(ie.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function Jn(){var e=Object(ce.f)();return Object(ie.jsx)(Qn,{children:Object(ie.jsx)(qn,{adapterName:st.a.ONBOARDING,onProposalClick:function(t){t&&e.push("/membership/".concat(t))},includeProposalsExistingOnlyOffchain:!0})})}function Qn(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var Xn={skipIsActiveMemberCheck:!0};function $n(e){var t=e.disabled,n=e.proposal.snapshotProposal,r=Object(se.useState)(),a=Object(we.a)(r,2),s=a[0],o=a[1],i=Object(se.useState)(),u=Object(we.a)(i,2),d=u[0],l=u[1],b=Object(se.useRef)({notProposerMessage:""}),j=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),O=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),p=Object(De.e)(),h=p.account,m=p.web3Instance,v=Object(De.a)(),x=v.txEtherscanURL,N=v.txIsPromptOpen,E=v.txSend,A=v.txStatus,w=Object(vt.f)(Xn),I=w.isDisabled,y=w.openWhyDisabledModal,C=w.WhyDisabledModal,_=w.setOtherDisabledReasons,D=Object(De.b)().fast,k=qe().daoTokenDetails,T=Object(c.b)(),S=A===gt.f.AWAITING_CONFIRM||A===gt.f.PENDING,R=A===gt.f.FULFILLED,P=S||R||N,L=I||P||t,F=Object(se.useCallback)((function(){return M.apply(this,arguments)}),[j,null===O||void 0===O?void 0:O.contractAddress,n]);function M(){return(M=Object(Ke.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&j){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.instance.methods.proposals(null===O||void 0===O?void 0:O.contractAddress,n.idInDAO).call();case 5:t=e.sent,l(t.amount),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),l(void 0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function B(){return(B=Object(Ke.a)(He.a.mark((function e(){var t,r;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(j){e.next=7;break}throw new Error("No OnboardingContract found.");case 7:if(h){e.next=9;break}throw new Error("No account found.");case 9:if(m){e.next=11;break}throw new Error("No Web3 instance was found.");case 11:return t=[O.contractAddress,n.idInDAO],r=Object(g.a)({from:h||"",value:d},D?{gasPrice:D}:null),e.next=15,E("processProposal",j.instance.methods,t,r);case 15:if(!e.sent){e.next=21;break}return e.next=19,G();case 19:return e.next=21,T(Object(f.y)({account:h,daoRegistryContract:O,web3Instance:m}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),o(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}function G(){return U.apply(this,arguments)}function U(){return(U=Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:k}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){F()}),[F]),Object(se.useEffect)((function(){var e=n.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&h&&(b.current=Object(g.a)(Object(g.a)({},b.current),{},{notProposerMessage:e.toLowerCase()!==h.toLowerCase()?"Only the original proposer can process the proposal.":""})),_(Object.values(b.current))}),[h,_,n]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"proposaldetails__button",disabled:L,onClick:L?function(){}:function(){return B.apply(this,arguments)},children:S?Object(ie.jsx)(yt.a,{}):R?"Done":"Process"}),Object(ie.jsx)(At.a,{error:s,renderText:"Something went wrong"}),P&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(A){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to process the proposal",Object(ie.jsx)(Rt.a,{})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:x,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Proposal submitted!"}),Object(ie.jsx)(Lt.a,{url:x})]});default:return null}}()}),I&&Object(ie.jsx)("button",{className:"button--help-centered",onClick:y,children:"Why is processing disabled?"})]}),Object(ie.jsx)(C,{title:"Why is processing disabled?"})]})}var Zn=Object(se.lazy)((function(){return n.e(6).then(n.bind(null,984))})),er={duration:150},tr={display:"inline-block",width:"100%",fontSize:"1.5rem"};function nr(e){var t,n=e.adapterName,r=e.proposal,a=e.renderAction,s=Object(c.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName})),o=(null===(t=r.daoProposalVotingAdapter)||void 0===t?void 0:t.votingAdapterName)||s;return Object(ie.jsx)(se.Suspense,{fallback:Object(ie.jsx)("span",{className:"text-center",style:tr,children:Object(ie.jsx)(Rt.a,{intervalMs:200,fadeInProps:er})}),children:function(){if(!o)return Object(ie.jsx)(ie.Fragment,{});switch(o){case st.c.OffchainVotingContract:return Object(ie.jsx)(Zn,{adapterName:n,proposal:r,renderAction:a});case st.c.VotingContract:return Object(ie.jsx)(ie.Fragment,{});default:return Object(ie.jsx)(At.a,{error:new Error('"'.concat(o,'" is not a valid voting adapter name.')),renderText:"Something went wrong"})}}()})}function rr(e){var t=e.amount,n=e.amountUnit,r=e.amount2,a=e.amount2Unit;return Object(ie.jsx)("div",{className:"proposaldetails__amount",children:Object(ie.jsxs)("span",{children:["".concat(t," ").concat(n),r&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("br",{}),Object(ie.jsx)("small",{children:"for"}),Object(ie.jsx)("br",{}),"".concat(r," ").concat(a)]})]})})}function ar(){var e=Object(ce.h)().proposalId,t=Object(Ht.b)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,s=Object(De.d)().defaultChainError,o=r||s;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal,a=t.status;return a===zt.c.Process||a===zt.c.OffchainVotingGracePeriod?n&&Kn.a[n]!==Kn.a[Kn.a.PASS]?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsx)($n,{disabled:a===zt.c.OffchainVotingGracePeriod,proposal:r}):null}if(c===Re.a.PENDING&&!o)return Object(ie.jsx)(cr,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})})});if(a)return Object(ie.jsx)(cr,{children:Object(ie.jsx)(hn,{})});if(o)return Object(ie.jsx)(cr,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:o,renderText:"Something went wrong while getting the proposal."})})});if(n){var u=n.getCommonSnapshotProposalData(),d="\u2014",l="";try{var b=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=b.tributeAmount,l=b.tributeAmountUnit}catch(o){d="\u2014",l=""}return Object(ie.jsx)(cr,{children:Object(ie.jsx)(mn,{proposal:n,renderAmountBadge:function(){return Object(ie.jsx)(rr,{amount:d,amountUnit:l})},renderActions:function(){return Object(ie.jsx)(nr,{adapterName:gt.a.onboarding,proposal:n,renderAction:i})}})})}return Object(ie.jsx)(ie.Fragment,{})}function cr(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function sr(e){var t=e.showAfterMs,n=Object(se.useState)(!1),r=Object(we.a)(n,2),a=r[0],c=r[1];return Object(se.useEffect)((function(){var e=t&&setTimeout((function(){return c(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&a?Object(ie.jsx)("div",{className:"loader--emoji",children:Object(ie.jsx)("span",{role:"img","aria-label":"Loading content...",children:e.emoji})}):null}var or=n(188),ir=n(142);function ur(e){var t=e.redeemables,n=e.daoTokenDetails;return Object(ie.jsx)(lr,{children:Object(ie.jsx)(dr,{redeemable:t[0],daoTokenDetails:n})})}function dr(e){var t=e.redeemable,n=e.daoTokenDetails,r=Object(ir.b)(),a=r.redeemCoupon,c=r.submitStatus,s=r.submitError,o=r.txStatus,i=r.txEtherscanURL,u=r.txIsPromptOpen,d=c===ir.a.PENDING||o===gt.f.AWAITING_CONFIRM||o===gt.f.PENDING,l=c===ir.a.FULFILLED||o===gt.f.FULFILLED||t.isRedeemd,b=d||l||u;return Object(ie.jsxs)("div",{className:"redeemcard redeemcard__content ".concat(l?"fireworks":""," "),children:[Object(ie.jsxs)("p",{className:"redeemcard__recipient",children:["Recipient:"," ",Object(p.j)(Object($t.toChecksumAddress)(t.recipient),7)]}),Object(ie.jsxs)("p",{className:"redeemcard__unit",children:[Object(p.e)(t.amount),Object(ie.jsx)("sup",{children:Object(ie.jsx)("small",{children:(null===n||void 0===n?void 0:n.symbol)||"tokens"})})]}),Object(ie.jsx)(Fn,{daoTokenDetails:n}),l&&Object(ie.jsx)("p",{className:"redeemcard__redeemed",children:Object(ie.jsx)("span",{className:"pulse",role:"img","aria-label":"Redeemed!",style:{display:"inline-block"},children:"\ud83e\udd73"})}),Object(ie.jsx)("button",{className:"button",style:{marginTop:l?"1rem":"1.5rem"},onClick:Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,n);case 2:case"end":return e.stop()}}),e)}))),disabled:b,children:d?Object(ie.jsx)(yt.a,{}):l?"Redeemed!":"Redeem"}),b&&!t.isRedeemd&&Object(ie.jsx)("div",{className:"form__submit-status-container",style:{marginTop:"1rem"},children:function(){switch(o){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(or.a,{})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:i,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Finalized!"}),Object(ie.jsx)(Lt.a,{url:i})]});default:return null}}()}),s&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(At.a,{renderText:"Something went wrong while redeeming the coupon.",error:s})})]})}function lr(e){return Object(ie.jsx)(Be.a,{children:Object(ie.jsx)("div",{className:"grid--fluid grid-container",children:e.children})})}function br(){var e=Object(se.useState)([]),t=Object(we.a)(e,2),n=t[0],r=t[1],a=Object(se.useState)(Re.a.STANDBY),c=Object(we.a)(a,2),s=c[0],o=c[1],i=Object(De.e)(),u=i.connected,d=i.account,l=Object(De.d)().defaultChainError,b=Object(vt.a)(),j=b.abortController,f=b.isMountedRef,O=qe(),p=O.daoTokenDetails,m=O.daoTokenDetailsStatus,v=Object(ce.g)(),x=new URLSearchParams(v.search).get("coupon"),N=s===Re.a.STANDBY||s===Re.a.PENDING||m===Re.a.STANDBY||m===Re.a.PENDING,g=Object(se.useCallback)((function(){return E.apply(this,arguments)}),[null===j||void 0===j?void 0:j.signal,x,f]);function E(){return(E=Object(Ke.a)(He.a.mark((function e(){var t,n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===j||void 0===j?void 0:j.signal){e.next=3;break}return e.abrupt("return");case 3:return o(Re.a.PENDING),e.next=6,fetch("".concat(h.g,"/api/coupon/redeem"),{method:"POST",body:JSON.stringify({signature:x}),headers:{"Content-Type":"application/json"},signal:j.signal});case 6:if(t=e.sent,f.current){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,t.json();case 11:n=e.sent,r(n),o(Re.a.FULFILLED),e.next=21;break;case 16:if(e.prev=16,e.t0=e.catch(0),f.current){e.next=20;break}return e.abrupt("return");case 20:o(Re.a.REJECTED);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){d&&u&&!l&&g()}),[d,u,g,l]),u?l?Object(ie.jsx)(jr,{children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:l.message})}):u&&N?Object(ie.jsxs)(jr,{children:[Object(ie.jsx)(sr,{emoji:"\ud83c\udf9f"}),Object(ie.jsx)("p",{children:"Checking\u2026 please wait."})]}):void 0!==x&&x?n&&n.length?Object(ie.jsx)(jr,{children:Object(ie.jsx)(ur,{daoTokenDetails:p,redeemables:n})}):Object(ie.jsx)(jr,{children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:"Coupon not found."})}):Object(ie.jsx)(jr,{children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:"Coupon signature missing."})}):Object(ie.jsx)(jr,{children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:"Connect your wallet to view the coupon."})})}function jr(e){return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Redeem Coupon"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Redeem coupon to issue the membership tokens."})}),e.children]})]})})}function fr(e){var t=e.proposal.snapshotProposal,n=Object(se.useState)(),r=Object(we.a)(n,2),a=r[0],s=r[1],o=Object(se.useRef)({alreadyCompletedMessage:""}),i=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),u=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),d=Object(De.e)(),l=d.account,b=d.web3Instance,j=Object(De.a)(),O=j.txEtherscanURL,p=j.txIsPromptOpen,h=j.txSend,m=j.txStatus,v=Object(vt.f)(),x=v.isDisabled,N=v.openWhyDisabledModal,E=v.WhyDisabledModal,A=v.setOtherDisabledReasons,w=Object(De.b)().fast,I=Object(c.b)(),y=m===gt.f.AWAITING_CONFIRM||m===gt.f.PENDING,C=m===gt.f.FULFILLED,_=y||C||p,D=x||_;function k(){return(k=Object(Ke.a)(He.a.mark((function e(){var n,r,a,c;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(t){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(i){e.next=7;break}throw new Error("No DistributeContract found.");case 7:if(l){e.next=9;break}throw new Error("No account found.");case 9:if(b){e.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(n="0",!(null===t||void 0===t?void 0:t.msg.payload.metadata.isTypeAllMembers)){e.next=24;break}return e.prev=14,e.next=17,u.instance.methods.getNbMembers().call();case 17:r=e.sent,n=r.toString(),e.next=24;break;case 21:throw e.prev=21,e.t0=e.catch(14),new Error("Error while retrieving number of DAO members");case 24:return a=[u.contractAddress,n],c=Object(g.a)({from:l||""},w?{gasPrice:w}:null),e.next=28,h("distribute",i.instance.methods,a,c);case 28:if(!e.sent){e.next=32;break}return e.next=32,I(Object(f.y)({account:l,daoRegistryContract:u,web3Instance:b}));case 32:e.next=37;break;case 34:e.prev=34,e.t1=e.catch(0),s(e.t1);case 37:case"end":return e.stop()}}),e,null,[[0,34],[14,21]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){function e(){return(e=Object(Ke.a)(He.a.mark((function e(){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No Snapshot proposal was found.");case 3:if(u){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:if(i){e.next=7;break}throw new Error("No DistributeContract found.");case 7:return e.next=9,i.instance.methods.distributions(u.contractAddress,t.idInDAO).call();case 9:n=e.sent,o.current=Object(g.a)(Object(g.a)({},o.current),{},{alreadyCompletedMessage:zt.a[n.status]!==zt.a[zt.a.IN_PROGRESS]?"The transfer has already been completed.":""}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:A(Object.values(o.current));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,u,A,t]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"proposaldetails__button",disabled:D,onClick:D?function(){}:function(){return k.apply(this,arguments)},children:y?Object(ie.jsx)(yt.a,{}):C?"Transfer done":"Transfer assets"}),Object(ie.jsx)(At.a,{error:a,renderText:"Something went wrong"}),_&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(m){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to transfer assets",Object(ie.jsx)(Rt.a,{})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:O,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Assets transferred!"}),Object(ie.jsx)(Lt.a,{url:O})]});default:return null}}()}),x&&Object(ie.jsx)("button",{className:"button--help-centered",onClick:N,children:"Why is action disabled?"})]}),Object(ie.jsx)(E,{title:"Why is transfer disabled?"})]})}function Or(){var e=Object(ce.h)().proposalId,t=Object(Ht.b)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,s=Object(De.d)().defaultChainError,o=r||s;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal;return t.status===zt.c.Completed&&n&&Kn.a[n]===Kn.a[Kn.a.PASS]?Object(ie.jsx)(fr,{proposal:r}):null}if(c===Re.a.PENDING&&!o)return Object(ie.jsx)(pr,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})})});if(a)return Object(ie.jsx)(pr,{children:Object(ie.jsx)(hn,{})});if(o)return Object(ie.jsx)(pr,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:o,renderText:"Something went wrong."})})});if(n){var u=n.getCommonSnapshotProposalData(),d="\u2014",l="";try{var b=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=b.transferAmount,l=b.transferAmountUnit}catch(o){d="\u2014",l=""}return Object(ie.jsx)(pr,{children:Object(ie.jsx)(mn,{proposal:n,renderAmountBadge:function(){return Object(ie.jsx)(rr,{amount:d,amountUnit:l})},renderActions:function(){return Object(ie.jsx)(nr,{adapterName:gt.a.distribute,proposal:n,renderAction:i})}})})}return Object(ie.jsx)(ie.Fragment,{})}function pr(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}function hr(){var e=Object(ce.f)();return Object(ie.jsx)(mr,{children:Object(ie.jsx)(qn,{adapterName:st.a.DISTRIBUTE,onProposalClick:function(t){t&&e.push("/transfers/".concat(t))}})})}function mr(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}var vr={skipIsActiveMemberCheck:!0};function xr(e){var t=e.disabled,r=e.proposal.snapshotProposal,a=Object(se.useState)(),s=Object(we.a)(a,2),o=s[0],i=s[1],u=Object(se.useState)(),d=Object(we.a)(u,2),l=d[0],b=d[1],j=Object(se.useRef)({notProposerMessage:""}),O=Object(c.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),p=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),h=Object(De.e)(),m=h.account,v=h.web3Instance,x=Object(De.a)(),N=x.txEtherscanURL,E=x.txIsPromptOpen,A=x.txSend,w=x.txStatus,I=Object(De.a)(),y=I.txEtherscanURL,C=I.txIsPromptOpen,_=I.txSend,D=I.txStatus,k=Object(vt.f)(vr),T=k.isDisabled,S=k.openWhyDisabledModal,R=k.WhyDisabledModal,P=k.setOtherDisabledReasons,L=Object(De.b)().fast,F=qe().daoTokenDetails,M=Object(c.b)(),B=w===gt.f.AWAITING_CONFIRM||w===gt.f.PENDING||D===gt.f.AWAITING_CONFIRM||D===gt.f.PENDING,G=w===gt.f.FULFILLED,U=B||G||E||C,V=T||U||t,W=Object(se.useCallback)((function(){return Y.apply(this,arguments)}),[O,null===p||void 0===p?void 0:p.contractAddress,r]);function Y(){return(Y=Object(Ke.a)(He.a.mark((function e(){var t,n,a;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r&&O){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,O.instance.methods.proposals(null===p||void 0===p?void 0:p.contractAddress,r.idInDAO).call();case 5:t=e.sent,n=t.token,a=t.tributeAmount,b({tokenAddress:n,tributeAmount:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),b(void 0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function z(){return H.apply(this,arguments)}function H(){return(H=Object(Ke.a)(He.a.mark((function e(){var t,r,a,c,s,o,i,u,d,b,j,f,p;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}throw new Error("No Tribute proposal details found.");case 3:if(O){e.next=5;break}throw new Error("No TributeContract found.");case 5:if(m){e.next=7;break}throw new Error("No account found.");case 7:if(v){e.next=9;break}throw new Error("No Web3 instance was found.");case 9:return t=l.tokenAddress,r=l.tributeAmount,e.next=12,Promise.resolve().then(n.t.bind(null,428,3));case 12:return a=e.sent,c=a.default,s=c,o=new v.eth.Contract(s,t),e.next=18,o.methods.allowance(m,O.contractAddress).call();case 18:if(i=e.sent,u=Object($t.toBN)(r),d=Object($t.toBN)(i),!u.gt(d)){e.next=34;break}return e.prev=22,b=u.sub(d),j=d.add(b),f=[O.contractAddress,j.toString()],p=Object(g.a)({from:m||""},L?{gasPrice:L}:null),e.next=29,_("approve",o.methods,f,p);case 29:e.next=34;break;case 31:throw e.prev=31,e.t0=e.catch(22),e.t0;case 34:e.next=39;break;case 36:throw e.prev=36,e.t1=e.catch(0),e.t1;case 39:case"end":return e.stop()}}),e,null,[[0,36],[22,31]])})))).apply(this,arguments)}function K(){return(K=Object(Ke.a)(He.a.mark((function e(){var t,n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(r){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(O){e.next=7;break}throw new Error("No TributeContract found.");case 7:if(m){e.next=9;break}throw new Error("No account found.");case 9:if(v){e.next=11;break}throw new Error("No Web3 instance was found.");case 11:return e.next=13,z();case 13:return t=[p.contractAddress,r.idInDAO],n=Object(g.a)({from:m||""},L?{gasPrice:L}:null),e.next=17,A("processProposal",O.instance.methods,t,n);case 17:if(!e.sent){e.next=23;break}return e.next=21,q();case 21:return e.next=23,M(Object(f.y)({account:m,daoRegistryContract:p,web3Instance:v}));case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(0),i(e.t0);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function q(){return J.apply(this,arguments)}function J(){return(J=Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:F}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){W()}),[W]),Object(se.useEffect)((function(){var e=r.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&m&&(j.current=Object(g.a)(Object(g.a)({},j.current),{},{notProposerMessage:e.toLowerCase()!==m.toLowerCase()?"Only the original proposer can process the proposal.":""})),P(Object.values(j.current))}),[m,P,r]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"proposaldetails__button",disabled:V,onClick:V?function(){}:function(){return K.apply(this,arguments)},children:B?Object(ie.jsx)(yt.a,{}):G?"Done":"Process"}),Object(ie.jsx)(At.a,{error:o,renderText:"Something went wrong"}),U&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){if(D===gt.f.AWAITING_CONFIRM)return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to transfer your tokens",Object(ie.jsx)(Rt.a,{})]});if(D===gt.f.PENDING)return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:["Approving your tokens for transfer",Object(ie.jsx)(Rt.a,{})]}),Object(ie.jsx)(Lt.a,{url:y,isPending:!0})]});switch(w){case gt.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to process the proposal",Object(ie.jsx)(Rt.a,{})]});case gt.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Pt.a,{intervalMs:2e3,messages:St.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Be.a,{children:e},e)}}),Object(ie.jsx)(Lt.a,{url:N,isPending:!0})]});case gt.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Proposal submitted!"}),Object(ie.jsx)(Lt.a,{url:N})]});default:return null}}()}),T&&Object(ie.jsx)("button",{className:"button--help-centered",onClick:S,children:"Why is processing disabled?"})]}),Object(ie.jsx)(R,{title:"Why is processing disabled?"})]})}var Nr="\u2014";function gr(){var e=Object(ce.h)().proposalId,t=Object(Ht.b)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus,s=Object(De.d)().defaultChainError,o=r||s;function i(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal,a=t.status;return a===zt.c.Process||a===zt.c.OffchainVotingGracePeriod?n&&Kn.a[n]!==Kn.a[Kn.a.PASS]?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsx)(xr,{disabled:a===zt.c.OffchainVotingGracePeriod,proposal:r}):null}if(c===Re.a.PENDING&&!o)return Object(ie.jsx)(Er,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Me,{})})});if(a)return Object(ie.jsx)(Er,{children:Object(ie.jsx)(hn,{})});if(o)return Object(ie.jsx)(Er,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(At.a,{error:o,renderText:"Something went wrong."})})});if(n){var u=n.getCommonSnapshotProposalData(),d=Nr,l="",b=Nr,j="";try{var f=null===u||void 0===u?void 0:u.msg.payload.metadata.proposalAmountValues;d=f.tributeAmount,l=f.tributeAmountUnit,b=f.requestAmount,j=f.requestAmountUnit}catch(o){d=Nr,l="",b=Nr,j=""}return Object(ie.jsx)(Er,{children:Object(ie.jsx)(mn,{proposal:n,renderAmountBadge:function(){return Object(ie.jsx)(rr,{amount:d,amountUnit:l,amount2:b,amount2Unit:j})},renderActions:function(){return Object(ie.jsx)(nr,{adapterName:gt.a.tribute,proposal:n,renderAction:i})}})})}return Object(ie.jsx)(ie.Fragment,{})}function Er(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function Ar(){var e=Object(ce.f)();return Object(ie.jsx)(wr,{children:Object(ie.jsx)(qn,{adapterName:st.a.TRIBUTE,onProposalClick:function(t){t&&e.push("/tributes/".concat(t))},includeProposalsExistingOnlyOffchain:!0})})}function wr(e){var t=Object(ce.f)();return Object(ie.jsx)(Gt,{className:"section-wrapper",children:Object(ie.jsxs)(Be.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}var Ir,yr=":proposalId";function Cr(){return Object(ie.jsx)(ce.c,{children:[Object(ie.jsx)(ce.a,{exact:!0,path:"/",render:function(){return Object(ie.jsx)(fn,{})}},"splash"),Object(ie.jsx)(ce.a,{exact:!0,path:"/join",render:function(){return Object(ie.jsx)(en,{})}},"join"),Object(ie.jsx)(ce.a,{exact:!0,path:"/membership",render:function(){return Object(ie.jsx)(Jn,{})}},"membership"),Object(ie.jsx)(ce.a,{exact:!0,path:"/membership/".concat(yr),render:function(){return Object(ie.jsx)(ar,{})}},"membership-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/transfer",render:function(){return Object(ie.jsx)(cn,{})}},"transfer"),Object(ie.jsx)(ce.a,{exact:!0,path:"/transfers",render:function(){return Object(ie.jsx)(hr,{})}},"transfers"),Object(ie.jsx)(ce.a,{exact:!0,path:"/transfers/".concat(yr),render:function(){return Object(ie.jsx)(Or,{})}},"transfer-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/tribute",render:function(){return Object(ie.jsx)(on,{})}},"tribute"),Object(ie.jsx)(ce.a,{exact:!0,path:"/tributes",render:function(){return Object(ie.jsx)(Ar,{})}},"tributes"),Object(ie.jsx)(ce.a,{exact:!0,path:"/tributes/".concat(yr),render:function(){return Object(ie.jsx)(gr,{})}},"tribute-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(ie.jsx)(Jt,{})}},"governance-proposal"),Object(ie.jsx)(ce.a,{exact:!0,path:"/governance",render:function(){return Object(ie.jsx)(yn,{})}},"governance-proposals"),Object(ie.jsx)(ce.a,{exact:!0,path:"/governance/".concat(yr),render:function(){return Object(ie.jsx)(vn,{})}},"governance-proposal-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/members",render:function(){return Object(ie.jsx)(Yn,{})}},"members"),Object(ie.jsx)(ce.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(ie.jsx)(Un,{})}},"member-profile"),Object(ie.jsx)(ce.a,{exact:!0,path:"/dao-manager",render:function(){return Object(ie.jsx)(Ut,{})}},"dao-manager"),Object(ie.jsx)(ce.a,{exact:!0,path:"/redeem",render:function(){return Object(ie.jsx)(br,{})}},"redeem"),Object(ie.jsx)(ce.a,{component:hn},"no-match")]})}function _r(e){var t=Object(ce.g)().pathname,n=(e||{}).renderMainContent,r=Object(ie.jsx)("main",{children:n?n():Object(ie.jsx)(Cr,{})});return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(xe,{}),"/"===t?Object(ie.jsx)(ie.Fragment,{children:r}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(at,{}),r,Object(ie.jsx)(me,{})]})]})}function Dr(e){var t=e.render,n=Object(c.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(se.useState)(),a=Object(we.a)(r,2),s=a[0],o=a[1],i=Object(se.useState)(!1),u=Object(we.a)(i,2),d=u[0],l=u[1],b=Object(se.useState)(Object(ct.a)({},Ir.initSnapshotAPI,Re.a.STANDBY)),j=Object(we.a)(b,2),O=j[0],p=j[1],m=Object(De.e)(),v=m.account,x=m.web3Instance,N=Object(De.d)().isDefaultChain,E=Object(vt.e)().isMountedRef,A=Object(De.c)(),w=Object(c.b)(),I=Object(se.useCallback)((function(){return D.apply(this,arguments)}),[A,N,x]),y=Object(se.useCallback)((function(){return k.apply(this,arguments)}),[v,n,w,N,x]),C=Object(se.useCallback)((function(){return _.apply(this,arguments)}),[E]);function _(){return(_=Object(Ke.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h.D){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(Yt.getApiStatus)(h.D);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(E.current){e.next=11;break}return e.abrupt("return");case 11:p((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(ct.a)({},Ir.initSnapshotAPI,Re.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),E.current){e.next=18;break}return e.abrupt("return");case 18:o(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function D(){return(D=Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N&&x){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,A({web3Instance:x});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function k(){return(k=Object(Ke.a)(He.a.mark((function e(){return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v&&n&&N&&x){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,w(Object(f.y)({account:v,daoRegistryContract:n,web3Instance:x}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){l(Object.values(O).every((function(e){return e===Re.a.FULFILLED})))}),[O]),Object(se.useEffect)((function(){I()}),[I,x]),Object(se.useEffect)((function(){y()}),[y]),Object(se.useEffect)((function(){C()}),[C]),t({error:s,isInitComplete:d})}function kr(e){var t=e.error;return Object(ie.jsxs)(Be.a,{children:[Object(ie.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(ie.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(ie.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(ie.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(ie.jsx)(At.a,{error:t,renderText:""})})]})}!function(e){e.initSnapshotAPI="initSnapshotAPI"}(Ir||(Ir={}));var Tr=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,983)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Sr=n(194),Rr=(n(928),document.getElementById("root"));"production"===h.m&&Object(p.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var Pr=function(e){return new i.a({link:Object(u.concat)(Object(m.e)(e),new d.a({uri:function(e){var t=e.operationName;return"".concat(h.s,"?").concat(t)}})),cache:new l.a({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(r.a)(e),Object(r.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(r.a)(e),Object(r.a)(t))}}}}}})})};null!==Rr&&Object(a.render)(Object(ie.jsx)(c.a,{store:ae,children:Object(ie.jsx)(s.a,{children:Object(ie.jsx)(Sr.b,{onBeforeDisconnect:function(){ae.dispatch(Object(f.w)()),ae.dispatch(Object(f.x)())},onBeforeConnect:function(){ae.dispatch(Object(f.x)())},providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:j.a,options:{infuraId:h.v,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:O.a.LIGHT,children:Object(ie.jsx)(o.a,{client:Pr(ae),children:Object(ie.jsx)(Dr,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(ie.jsx)(_r,{renderMainContent:function(){return Object(ie.jsx)(kr,{error:t})}}):n?Object(ie.jsx)(_r,{}):null}})})})})}),Rr),Tr()},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(194);function c(){return Object(r.useContext)(a.a)}}},[[931,4,5]]]);
//# sourceMappingURL=main.ea8fb08e.chunk.js.map