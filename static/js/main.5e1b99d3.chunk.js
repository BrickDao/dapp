(this["webpackJsonpmolochv3-ui"]=this["webpackJsonpmolochv3-ui"]||[]).push([[0],{105:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(54),a=n.n(r),c=function(e){return a.a.utils.isAddress(e)}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return v}));var r=n(10),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return o.current=!0,!n&&c(new AbortController),function(){o.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:o}}var o={count:0};function s(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(s,o),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}var u=n(953),d=n(23),l=n(207);function b(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(u.useLazyQuery)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(r.a)(t,2),c=n[0],o=n[1],s=o.called,i=o.loading,b=o.data,j=o.error,O=Object(a.useState)(),f=Object(r.a)(O,2),p=f[0],h=f[1],m=Object(a.useState)(),x=Object(r.a)(m,2),v=x[0],N=x[1],A=Object(a.useCallback)((function(){try{if(!i&&b){if(h(b.molochv3S[0]),0===b.molochv3S.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){N(j)}}),[null===e||void 0===e?void 0:e.contractAddress,b,j,i]);return Object(a.useEffect)((function(){s||c()}),[s,c]),Object(a.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&A()}),[null===e||void 0===e?void 0:e.contractAddress,A,i]),{dao:p,gqlError:v}}function j(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var O=n(0),f=n(149),p=n.n(f),h=n(25),m=n(21),x=n(118);function v(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(r.a)(o,2),i=s[0],u=s[1],l=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),b=Object(h.f)().connected,j=n&&n.find((function(e){return e})),f=!b||!l||!!j,v=function(){if(!b)return"Your wallet is not connected.";if(!l)return"Either you are not a member, or your membership is not active.";return j||""}(),N=!(!f||!v),A=Object(a.useCallback)((function(e){if(!N)return null;var t=e.title;return Object(O.jsx)(p.a,{ariaHideApp:!1,className:"modal-container",isOpen:i,onRequestClose:function(){u(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(O.jsx)(m.a,{children:Object(O.jsxs)("div",{className:"modal",children:[Object(O.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){u(!1)},children:Object(O.jsx)(x.a,{})}),Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(O.jsx)("p",{children:v})]})]})})})}),[N,v,i]),E=Object(a.useCallback)((function(e){c(e.filter(Boolean))}),[]);return{disabledReason:v,isDisabled:f,openWhyDisabledModal:function(){u(!0)},setOtherDisabledReasons:E,WhyDisabledModal:A}}},118:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},13:function(e,t,n){"use strict";n.d(t,"i",(function(){return T})),n.d(t,"x",(function(){return C})),n.d(t,"q",(function(){return D})),n.d(t,"n",(function(){return S})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"j",(function(){return L})),n.d(t,"f",(function(){return M})),n.d(t,"e",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"B",(function(){return G})),n.d(t,"d",(function(){return U})),n.d(t,"v",(function(){return V})),n.d(t,"h",(function(){return W})),n.d(t,"l",(function(){return H})),n.d(t,"o",(function(){return z})),n.d(t,"r",(function(){return Y})),n.d(t,"t",(function(){return K})),n.d(t,"u",(function(){return q})),n.d(t,"A",(function(){return J})),n.d(t,"C",(function(){return Q})),n.d(t,"s",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"p",(function(){return Z})),n.d(t,"z",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"k",(function(){return ne})),n.d(t,"y",(function(){return re})),n.d(t,"m",(function(){return ae}));var r,a,c,o,s,i,u,d,l,b,j,O,f,p,h,m,x=n(8),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x83eA12d54D5DCF88FeD2fB80dcEa1336A8Ac8924",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xE1306199D95a1Ee0Ef155A984B0a0B50F7B0c216",REACT_APP_GRAPH_API_URL:"https://api.thegraph.com/subgraphs/name/sophiacodes/molochv3-dev"}),N=v.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,A=v.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,E=v.REACT_APP_ENVIRONMENT,g=v.REACT_APP_INFURA_PROJECT_ID_DEV,I=v.REACT_APP_INFURA_PROJECT_ID_LOCAL,w=v.REACT_APP_INFURA_PROJECT_ID_PROD,y=v.REACT_APP_MULTICALL_CONTRACT_ADDRESS,_=v.REACT_APP_SNAPSHOT_HUB_API_URL,R=v.REACT_APP_GRAPH_API_URL,T=E,C="localhost"===T?"/snapshot-hub":_,D="production"===E?w:"development"===E?g:I,S=R,k={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},P=(r={},Object(x.a)(r,k.MAINNET,"Main Ethereum Network"),Object(x.a)(r,k.ROPSTEN,"Ropsten Test Network"),Object(x.a)(r,k.RINKEBY,"Rinkeby Test Network"),Object(x.a)(r,k.GOERLI,"G\xf6rli Test Network"),Object(x.a)(r,k.KOVAN,"Kovan Test Network"),Object(x.a)(r,k.GANACHE,"Ganache Test Network"),r),L=(a={},Object(x.a)(a,k.MAINNET,"https://etherscan.io"),Object(x.a)(a,k.ROPSTEN,"https://ropsten.etherscan.io"),Object(x.a)(a,k.RINKEBY,"https://rinkeby.etherscan.io"),Object(x.a)(a,k.GOERLI,"https://goerli.etherscan.io"),Object(x.a)(a,k.KOVAN,"https://kovan.etherscan.io"),a),M=N,F=(c={},Object(x.a)(c,k.MAINNET,""),Object(x.a)(c,k.ROPSTEN,""),Object(x.a)(c,k.RINKEBY,"0xCC7158B10515B266244c643A2527f7EFfc911421"),Object(x.a)(c,k.GOERLI,""),Object(x.a)(c,k.KOVAN,""),Object(x.a)(c,k.GANACHE,"0xa549101aAD5143d89aEC2aa330754cEB2C0FF607"),c),B=(o={},Object(x.a)(o,k.MAINNET,""),Object(x.a)(o,k.ROPSTEN,""),Object(x.a)(o,k.RINKEBY,"0xE02769bebC6b0A65d5ffaa58d9f981618077a4Ac"),Object(x.a)(o,k.GOERLI,""),Object(x.a)(o,k.KOVAN,""),Object(x.a)(o,k.GANACHE,"0xCdfD73dCa055ada355142eDfDA22C90BC4CD5504"),o),G=(s={},Object(x.a)(s,k.MAINNET,""),Object(x.a)(s,k.ROPSTEN,""),Object(x.a)(s,k.RINKEBY,"0x1bF6E52BBD3f8f7Ed6fE8a9621E639aca560A730"),Object(x.a)(s,k.GOERLI,""),Object(x.a)(s,k.KOVAN,""),Object(x.a)(s,k.GANACHE,"0x87a7DF246f4c26E3352a2ecd147517d42D83dc07"),s),U=(i={},Object(x.a)(i,k.MAINNET,""),Object(x.a)(i,k.ROPSTEN,""),Object(x.a)(i,k.RINKEBY,"0xEF2850b0067C276f65fAAeA9EBA0674819039342"),Object(x.a)(i,k.GOERLI,""),Object(x.a)(i,k.KOVAN,""),Object(x.a)(i,k.GANACHE,"0x14f02614a3ffD9532b9F5C8Ff5dF3B52419cBF1F"),i),V=(u={},Object(x.a)(u,k.MAINNET,""),Object(x.a)(u,k.ROPSTEN,""),Object(x.a)(u,k.RINKEBY,"0x3044286BFc20080A1D2C06feC1953a0410a4E74c"),Object(x.a)(u,k.GOERLI,""),Object(x.a)(u,k.KOVAN,""),Object(x.a)(u,k.GANACHE,"0x81849Db26EAd5202fC67e69476a896c6950Eb126"),u),W=(d={},Object(x.a)(d,k.MAINNET,""),Object(x.a)(d,k.ROPSTEN,""),Object(x.a)(d,k.RINKEBY,"0x7a28B101eC1eE1B484a07633c339667BDE3d7A52"),Object(x.a)(d,k.GOERLI,""),Object(x.a)(d,k.KOVAN,""),Object(x.a)(d,k.GANACHE,"0xdfA0518846a46203131d52ECCd34965EE61346Fb"),l={},Object(x.a)(l,k.MAINNET,""),Object(x.a)(l,k.ROPSTEN,""),Object(x.a)(l,k.RINKEBY,"0x54b038278f791c511d1ba330C7B9A1578B350Deb"),Object(x.a)(l,k.GOERLI,""),Object(x.a)(l,k.KOVAN,""),Object(x.a)(l,k.GANACHE,"0xC3b7E041CF5Ee2d4372D12ED67a98DC87a3593Dd"),l),H=(b={},Object(x.a)(b,k.MAINNET,""),Object(x.a)(b,k.ROPSTEN,""),Object(x.a)(b,k.RINKEBY,"0x80017f240cAd3d761aD7f729796b6275d0Ec57c6"),Object(x.a)(b,k.GOERLI,""),Object(x.a)(b,k.KOVAN,""),Object(x.a)(b,k.GANACHE,"0x4438bFC72E53eA66c24F8f4992997e9C8a425179"),b),z=(j={},Object(x.a)(j,k.MAINNET,""),Object(x.a)(j,k.ROPSTEN,""),Object(x.a)(j,k.RINKEBY,"0x7c3eE8016C8a4dF00672d2417DB7bbA18ff0b054"),Object(x.a)(j,k.GOERLI,""),Object(x.a)(j,k.KOVAN,""),Object(x.a)(j,k.GANACHE,"0x2Ab0c81b017a3a926E40136E28ba3e9b231fFd5b"),j),Y=(O={},Object(x.a)(O,k.MAINNET,""),Object(x.a)(O,k.ROPSTEN,""),Object(x.a)(O,k.RINKEBY,"0x01e79Fb7a697e871c763D681293eBae74f36CE88"),Object(x.a)(O,k.GOERLI,""),Object(x.a)(O,k.KOVAN,""),Object(x.a)(O,k.GANACHE,"0xFc889988C6e177C6C3c7A6D98Ef4A09f66B445E7"),O),K=(f={},Object(x.a)(f,k.MAINNET,""),Object(x.a)(f,k.ROPSTEN,""),Object(x.a)(f,k.RINKEBY,"0x98ED73779Bd0eD4b8fdA8026F60236CBcbdbb1a6"),Object(x.a)(f,k.GOERLI,""),Object(x.a)(f,k.KOVAN,""),Object(x.a)(f,k.GANACHE,"0xfBbE098b03865e5C6A64F81f0A475FD5c500DC9D"),f),q=(p={},Object(x.a)(p,k.MAINNET,""),Object(x.a)(p,k.ROPSTEN,""),Object(x.a)(p,k.RINKEBY,"0xF2Af0123caBad9Dc851C4BDcA1029b33287d2310"),Object(x.a)(p,k.GOERLI,""),Object(x.a)(p,k.KOVAN,""),Object(x.a)(p,k.GANACHE,"0xe6bbddF90c76552CbE1D0973F22fb5a975D5825D"),p),J=(h={},Object(x.a)(h,k.MAINNET,""),Object(x.a)(h,k.ROPSTEN,""),Object(x.a)(h,k.RINKEBY,"0x36615f472822bD067A4746E37267090428874974"),Object(x.a)(h,k.GOERLI,""),Object(x.a)(h,k.KOVAN,""),Object(x.a)(h,k.GANACHE,"0xF6677172474B23ae084347fF0c2E30E99aA9fAfd"),h),Q=(m={},Object(x.a)(m,k.MAINNET,""),Object(x.a)(m,k.ROPSTEN,""),Object(x.a)(m,k.RINKEBY,"0xa257cAa73C01B6748eA8edAfcC7c3B67538f773A"),Object(x.a)(m,k.GOERLI,""),Object(x.a)(m,k.KOVAN,""),Object(x.a)(m,k.GANACHE,"0xE62aEcA374e4a8486eB56FCC5e4091ee978e8005"),m),X=y,$="production"===E?k.MAINNET:"development"===E?k.RINKEBY:A?k[A]:k.GANACHE,Z="0x000000000000000000000000000000000000dead",ee="0x000000000000000000000000000000000000babe",te="0x00000000000000000000000000000000000FF1CE",ne="0x0000000000000000000000000000000000000000",re={development:"thelao",localhost:"thelao",production:"thelao"}[T||"localhost"],ae="production"===E?1e4:5e3},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return x}));var r,a,c=n(4),o=n.n(c),s=n(14),i=n(10),u=n(3),d=n(1),l=n(54),b=n.n(l),j=n(436),O=n.n(j),f=n(13),p=n(27),h="WEB3_CONNECT_CACHED_PROVIDER";function m(e,t){var n=t.type,r=t.payload;switch(n){case a.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case a.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case a.UPDATE:var c=r.provider,o=r.networkId,s=r.account,i=r.connected,d=r.web3Instance;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===c?{}:{provider:c}),void 0===o?{}:{networkId:o}),void 0===s?{}:{account:s}),void 0===i?{}:{connected:i}),void 0===d?{}:{web3Instance:d});case a.UPDATE_FROM_ERROR:var l=r.provider,b=r.networkId,j=r.account;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===l?{}:{provider:l}),void 0===b?{}:{networkId:b}),void 0===j?{}:{account:j}),{},{error:void 0});case a.ERROR:var O=r.error;return{provider:e.provider,error:O};case a.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case a.DEACTIVATE_PROVIDER:return{}}}function x(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(d.useReducer)(m,{}),l=Object(i.a)(c,2),j=l[0],x=l[1],v=n,N=t||f.g,A=Object(d.useCallback)(g,[j.web3Modal]),E=Object(d.useCallback)((function(){switch(N){case p.b.GOERLI:return p.c.GOERLI;case p.b.KOVAN:return p.c.KOVAN;case p.b.RINKEBY:return p.c.RINKEBY;case p.b.ROPSTEN:return p.c.ROPSTEN;case p.b.MAINNET:default:return p.c.MAINNET}}),[N]);function g(e){return I.apply(this,arguments)}function I(){return(I=Object(s.a)(o.a.mark((function e(t){var n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.web3Modal.connectTo(t);case 5:return y(n=e.sent),r=new b.a(n),e.next=10,r.eth.getAccounts();case 10:return c=e.sent,e.next=13,r.eth.net.getId();case 13:s=e.sent,x({type:a.UPDATE,payload:{account:c[0],connected:!0,provider:n,networkId:s,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function w(){return(w=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!j.provider.close){e.next=4;break}return e.next=4,j.provider.close();case 4:if(e.t0=j.web3Modal,!e.t0){e.next=8;break}return e.next=8,j.web3Modal.clearCachedProvider();case 8:x({type:a.DEACTIVATE_PROVIDER}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function y(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){x({type:a.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),x({type:a.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,A(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=j.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=j.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(d.useEffect)((function(){j.web3Modal||x({type:a.INIT_WEB3MODAL,payload:{web3Modal:new O.a({cacheProvider:!0,network:E(),providerOptions:r,theme:v})}})}),[E,r,v,j.web3Modal]),Object(d.useEffect)((function(){function e(){return(e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,A(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.web3Modal&&localStorage.getItem(h)&&function(t){e.apply(this,arguments)}(j.web3Modal.cachedProvider)}),[A,j.web3Modal]),Object(u.a)(Object(u.a)({},j),{},{onConnectTo:g,onDisconnect:function(){return w.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(a||(a={}))},136:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(10),a=n(1),c=n(15);function o(e){var t=e.intervalMs,n=e.messages,o=e.useFirstItemStart?n[0]:Object(c.a)(n),s=Object(a.useState)(o),i=Object(r.a)(s,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},15:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return j}));var a=n(10);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),o=c[0],s=c[1];t[o]="function"===typeof s?e:null}}function o(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function s(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=function(e){return e.toString().replace(/,/g,"")};var b=n(105);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e||"undefined"===typeof e)return"---";if(Object(b.a)(e)){var n=e.substring(0,t),r=e.substring(e.length-3);return n+"..."+r}return e}},16:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.DISTRIBUTE="distribute",e.FINANCING="financing",e.GUILDKICK="guildkick",e.ONBOARDING="onboarding",e.OFFCHAINVOTING="offchainvoting",e.MANAGING="managing",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.VOTING="voting",e.WITHDRAW="withdraw"}(r||(r={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(a||(a={}))},166:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(3),a=n(4),c=n.n(a),o=n(14),s="SET_CONNECTED_MEMBER",i="CLEAR_CONNECTED_MEMBER";function u(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(a){var o,i,u,l,b;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((o=t.instance)&&e){n.next=4;break}return a(d()),n.abrupt("return");case 4:return n.prev=4,n.next=7,o.methods.memberAddressesByDelegatedKey(e).call({from:e});case 7:return i=n.sent,n.next=10,o.methods.isActiveMember(i).call({from:e});case 10:return u=n.sent,n.next=13,o.methods.getCurrentDelegateKey(i).call({from:e});case 13:l=n.sent,b=u&&!i.startsWith("0x0000000000"),a((c={delegateKey:l,isActiveMember:b,memberAddress:i},Object(r.a)({type:s},c))),n.next=22;break;case 18:throw n.prev=18,n.t0=n.catch(4),a(d()),n.t0;case 22:case"end":return n.stop()}var c}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}()}function d(){return{type:i}}},191:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n.n(r),c=n(14),o=n(54),s=n.n(o);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(s.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},201:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(0),a=n(1),c=n(133),o=Object(a.createContext)({});function s(e){var t=e.children,n=e.defaultChain,a=e.defaultTheme,s=void 0===a?c.a.DARK:a,i=e.providerOptions,u={defaultChain:n,defaultTheme:s,providerOptions:i},d=Object(c.b)(u),l={account:d.account,connected:d.connected,onConnectTo:d.onConnectTo,onDisconnect:d.onDisconnect,networkId:d.networkId,provider:d.provider,providerOptions:i,web3Instance:d.web3Instance,web3Modal:d.web3Modal};return Object(r.jsx)(o.Provider,{value:l,children:t})}},206:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(r||(r={}))},207:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(202),a=n(134);function c(){var e=Object(r.a)(["\n  query GetDao($id: ID) {\n    molochv3S(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalShares\n      bank {\n        id\n        bankAddress\n      }\n    }\n  }\n"]);return c=function(){return e},e}var o=Object(a.gql)(c());function s(){var e=Object(r.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    molochv3S(where: {daoAddress: $daoAddress}) {\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]);return s=function(){return e},e}var i=Object(a.gql)(s())},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(3),c=(n(1),n(948)),o=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},s={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(r.jsx)(c.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(r.jsx)("span",{style:Object(a.a)(Object(a.a)({},o(e)),s[n]),children:e.children}):Object(r.jsx)("div",{style:Object(a.a)(Object(a.a)({},o(e)),s[n]),children:e.children})}})}},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l.a}));var r=n(4),a=n.n(r),c=n(14),o=n(10),s=n(1),i=n(13),u=n(49),d=n(15),l=n(94),b=n(9);function j(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],j=Object(s.useState)(""),O=Object(o.a)(j,2),f=O[0],p=O[1],h=Object(s.useState)(!1),m=Object(o.a)(h,2),x=m[0],v=m[1],N=Object(s.useState)(),A=Object(o.a)(N,2),E=A[0],g=A[1],I=Object(s.useState)(b.e.STANDBY),w=Object(o.a)(I,2),y=w[0],_=w[1],R=Object(l.a)().networkId;function T(e){return function(t){_(b.e.PENDING),v(!1),R&&R!==i.b.GANACHE&&p("".concat(i.j[R],"/tx/").concat(t)),e&&e(t)}}function C(){return(C=Object(c.a)(a.a.mark((function e(){var t,n,c,o,s,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),p(""),_(b.e.AWAITING_CONFIRM),v(!0),n=i.length,c=new Array(n),o=0;o<n;o++)c[o]=i[o];return c[4]=T(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return s=e.sent,g(s),_(b.e.FULFILLED),t(),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),_(b.e.REJECTED),v(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:f,txIsPromptOpen:x,txReceipt:E,txSend:function(){return C.apply(this,arguments)},txStatus:y}}var O="https://ethgasstation.info/json/ethgasAPI.json";function f(){var e=Object(s.useState)(O),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(s.useState)()),a=Object(o.a)(r,2),c=a[0];a[1],Object(s.useRef)();return Object(s.useEffect)((function(){}),[n]),c}var p=n(23),h=n(40);function m(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(s.useState)(!1),a=Object(o.a)(r,2),c=a[0],u=a[1],d=Object(s.useState)(),b=Object(o.a)(d,2),j=b[0],O=b[1];return Object(s.useEffect)((function(){u(t===i.g),n&&t!==i.g?O(new Error("Please connect to the ".concat(i.c[i.g],"."))):O(void 0)}),[n,t]),{defaultChain:i.g,defaultChainError:j,isDefaultChain:c}}function x(){var e=m().isDefaultChain,t=Object(l.a)().web3Instance,n=Object(p.b)();function r(){return(r=Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(Object(h.s)(t));case 5:return r.next=7,n(Object(h.r)(t));case 7:return r.next=9,n(Object(h.q)(t));case 9:return r.next=11,n(Object(h.u)(t));case 11:return r.next=13,n(Object(h.v)(t));case 13:return r.next=15,n(Object(h.w)(t));case 15:return r.next=17,n(Object(h.y)(t));case 17:return r.next=19,n(Object(h.A)(t));case 19:return r.next=21,n(Object(h.p)(t));case 21:return r.next=23,n(Object(h.w)(t));case 23:return r.next=25,n(Object(h.x)(t));case 25:return r.next=27,n(Object(h.z)(t));case 27:return r.next=29,n(Object(h.t)(t));case 29:return r.next=31,n(Object(h.B)(t));case 31:r.next=36;break;case 33:throw r.prev=33,r.t0=r.catch(0),r.t0;case 36:case"end":return r.stop()}}),r,null,[[0,33]])})))).apply(this,arguments)}return Object(s.useCallback)((function(){return r.apply(this,arguments)}),[n,e,t])}function v(){var e=Object(p.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey}))||"",t=Object(p.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress}))||"",n=Object(l.a)().account,r=void 0===n?"":n;return Object(d.g)(r)===Object(d.g)(t)&&Object(d.g)(r)!==Object(d.g)(e)}n(133)},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(10),c=n(3),o=n(1),s=n(21),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.intervalMs,n=void 0===t?1e3:t,l=e.fadeInProps,b=Object(c.a)(Object(c.a)({},l),{},{inline:!0}),j=Object(o.useState)(1),O=Object(a.a)(j,2),f=O[0],p=O[1];return Object(o.useEffect)((function(){var e=setInterval((function(){return p((function(e){return(e+1)%i.length}))}),n);return function(){clearInterval(e)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{style:u,children:[Object(r.jsx)("span",{children:f>=0&&i[0]}),Object(r.jsx)("span",{children:f>=1&&Object(r.jsx)(s.a,Object(c.a)(Object(c.a)({},b),{},{children:i[1]}))}),Object(r.jsx)("span",{children:f>=2&&Object(r.jsx)(s.a,Object(c.a)(Object(c.a)({},b),{},{children:i[2]}))}),Object(r.jsx)("span",{children:f>=3&&Object(r.jsx)(s.a,Object(c.a)(Object(c.a)({},b),{},{children:i[3]}))})]}),Object(r.jsx)("span",{style:d,children:"\xa0"})]})}},27:function(e,t,n){"use strict";var r,a,c,o;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(o||(o={}))},31:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},40:function(e,t,n){"use strict";n.d(t,"o",(function(){return r.c})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return A})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return I})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return R})),n.d(t,"x",(function(){return D})),n.d(t,"p",(function(){return S})),n.d(t,"z",(function(){return k})),n.d(t,"t",(function(){return P})),n.d(t,"w",(function(){return L})),n.d(t,"A",(function(){return M})),n.d(t,"y",(function(){return F})),n.d(t,"v",(function(){return B})),n.d(t,"u",(function(){return G})),n.d(t,"q",(function(){return U})),n.d(t,"B",(function(){return V}));var r=n(166),a=n(3),c=n(58),o=n(4),s=n.n(o),i=n(14),u=n(9),d=n(13),l=n(49),b=n(191),j=n(16),O="CONTRACT_BANK_EXTENSION",f="CONTRACT_CONFIGURATION",p="CONTRACT_DAO_FACTORY",h="CONTRACT_DAO_REGISTRY",m="CONTRACT_DISTRIBUTE",x="CONTRACT_FINANCING",v="CONTRACT_GUILDKICK",N="CONTRACT_MANAGING",A="CONTRACT_ONBOARDING",E="CONTRACT_RAGEQUIT",g="CONTRACT_TRIBUTE",I="CONTRACT_VOTING",w="CONTRACT_VOTING_OP_ROLLUP",y="CONTRACT_WITHDRAW";function _(e){return function(){var t=Object(i.a)(s.a.mark((function t(r){var a,c,o,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(7).then(n.t.bind(null,954,3));case 4:a=t.sent,c=a.default,o=c,i=d.e[d.g],u=new e.eth.Contract(o,i),r(W({type:p,abi:o,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function R(e){return function(){var t=Object(i.a)(s.a.mark((function t(r){var a,c,o,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(8).then(n.t.bind(null,955,3));case 4:if(a=t.sent,c=a.default,o=c,i=d.f){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(o,i),r(W({type:h,abi:o,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function T(e,t){return H({actionType:I,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.b.VotingContract,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,956,3))},web3Instance:e})}function C(e,t){return H({actionType:w,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.b.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,957,3))},web3Instance:e})}function D(e,t){return H({actionType:A,adapterNameForRedux:j.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(16).then(n.t.bind(null,958,3))},web3Instance:e})}function S(e,t){return H({actionType:O,adapterNameForRedux:j.a.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(5).then(n.t.bind(null,959,3))},web3Instance:e})}function k(e,t){return H({actionType:g,adapterNameForRedux:j.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,960,3))},web3Instance:e})}function P(e,t){return H({actionType:m,adapterNameForRedux:j.a.DISTRIBUTE,adapterOrExtensionName:u.a.distribute,contractAddress:t,lazyImport:function(){return n.e(9).then(n.t.bind(null,961,3))},web3Instance:e})}function L(e,t){return H({actionType:N,adapterNameForRedux:j.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(13).then(n.t.bind(null,962,3))},web3Instance:e})}function M(e,t){return H({actionType:y,adapterNameForRedux:j.a.WITHDRAW,adapterOrExtensionName:u.a.withdraw,contractAddress:t,lazyImport:function(){return n.e(20).then(n.t.bind(null,963,3))},web3Instance:e})}function F(e,t){return H({actionType:E,adapterNameForRedux:j.a.RAGEQUIT,adapterOrExtensionName:u.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(17).then(n.t.bind(null,964,3))},web3Instance:e})}function B(e,t){return H({actionType:v,adapterNameForRedux:j.a.GUILDKICK,adapterOrExtensionName:u.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,965,3))},web3Instance:e})}function G(e,t){return H({actionType:x,adapterNameForRedux:j.a.FINANCING,adapterOrExtensionName:u.a.financing,contractAddress:t,lazyImport:function(){return n.e(10).then(n.t.bind(null,966,3))},web3Instance:e})}function U(e,t){return H({actionType:f,adapterNameForRedux:j.a.CONFIGURATION,adapterOrExtensionName:u.a.configuration,contractAddress:t,lazyImport:function(){return n.e(6).then(n.t.bind(null,967,3))},web3Instance:e})}function V(e,t){return function(){var r=Object(i.a)(s.a.mark((function r(a,c){var o,d,b,j,O,f,p;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=34;break}return o=c().contracts.DaoRegistryContract,r.next=5,n.e(12).then(n.t.bind(null,968,3));case 5:if(d=r.sent,b=d.default,o){r.next=10;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),r.abrupt("return");case 10:if(j="",O=t||"",f=function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new e.eth.Contract(b,n).methods.getAdapterName().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!O){r.next=17;break}return r.next=16,f(O);case 16:j=r.sent;case 17:if(O||j){r.next=24;break}return r.next=20,Object(l.c)(u.a.voting,null===(p=c().contracts.DaoRegistryContract)||void 0===p?void 0:p.instance);case 20:return O=r.sent,r.next=23,f(O);case 23:j=r.sent;case 24:r.t0=j,r.next="VotingContract"===r.t0?27:"OffchainVotingContract"===r.t0?30:33;break;case 27:return r.next=29,T(e,O)(a,c);case 29:return r.abrupt("return",r.sent);case 30:return r.next=32,C(e,O)(a,c);case 32:return r.abrupt("return",r.sent);case 33:throw new Error("Voting contract name could not be found.");case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 39:case"end":return r.stop()}}),r,null,[[0,36]])})));return function(e,t){return r.apply(this,arguments)}}()}function W(e){var t=e.type,n=Object(c.a)(e,["type"]);return Object(a.a)({type:t},n)}function H(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,o=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(s.a.mark((function e(c,i){var j,O,f,p,h,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(f=e.sent,p=f.default,h=p,e.t0=a,e.t0){e.next=18;break}if(!o){e.next=14;break}return e.next=11,Object(b.a)(r,null===(j=i().contracts.DaoRegistryContract)||void 0===j?void 0:j.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(l.c)(r,null===(O=i().contracts.DaoRegistryContract)||void 0===O?void 0:O.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(W({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new d.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}},447:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},468:function(e,t){},49:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return w}));var r=n(4),a=n.n(r),c=n(3),o=n(33),s=n(14);function i(e,t,n,r,a){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(a.a.mark((function e(t,n,r,i,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(s.a)(a.a.mark((function e(s,d){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n[t],e.next=4,l.apply(void 0,Object(o.a)(r)).estimateGas({from:i.from,value:i.value});case 4:return b=e.sent,e.next=7,l.apply(void 0,Object(o.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:b})).on("transactionHash",(function(e){u&&u(e)})).on("receipt",(function(e){s(e)})).on("error",(function(e){d(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(54),l=n.n(d);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var O=n(9);function f(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function p(e,t){try{switch(e){case O.a.configuration:return"";case O.a.distribute:return f(t.DistributeContract);case O.a.financing:case O.a.guildkick:return"";case O.a.managing:return f(t.ManagingContract);case O.a.onboarding:return f(t.OnboardingContract);case O.a.ragequit:return"";case O.a.tribute:return f(t.TributeContract);case O.a.voting:return f(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var h=n(15);function m(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(h.g)(t.contractAddress)===Object(h.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function x(e,t){return v.apply(this,arguments)}function v(){return(v=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N;n(191);function A(e){return E.apply(this,arguments)}function E(){return(E=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return n=t.methods,e.next=6,n.state().call();case 6:return r=e.sent,e.abrupt("return",0===Number(r)?N.CREATION:N.READY);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(N||(N={}));var g=n(10),I=n(13);function w(e){return y.apply(this,arguments)}function y(){return(y=Object(s.a)(a.a.mark((function e(t){var r,c,o,s,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,o=t.calls,s=t.web3Instance,e.next=3,n.e(14).then(n.t.bind(null,969,3));case 3:if(i=e.sent,u=i.default,I.s){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new s.eth.Contract(u,I.s),l=d.methods,e.next=12,l.aggregate(o.map((function(e){var t=Object(g.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),s.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=o[t][1].outputs||[],r=s.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:s.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},520:function(e,t){},522:function(e,t){},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n(0),c=(n(1),n(15)),o=n(21);function s(e){var t=e.error,n=e.renderText,s=4001===(null===t||void 0===t?void 0:t.code)||/^(the )?user rejected (the )?request$/g.test(Object(c.g)((null===t||void 0===t?void 0:t.message)||""));return t&&!s?Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(a.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(a.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(a.jsx)("small",{children:"Details"})}),Object(a.jsx)("p",{className:"error-message",children:Object(a.jsx)("small",{children:t.message})})]}))]})}):null}},532:function(e,t){},534:function(e,t){},560:function(e,t){},562:function(e,t){},563:function(e,t){},568:function(e,t){},570:function(e,t){},583:function(e,t){},595:function(e,t){},598:function(e,t){},60:function(e,t,n){"use strict";var r,a,c;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),function(e){e[e.EXISTS=1]="EXISTS",e[e.SPONSORED=3]="SPONSORED",e[e.PROCESSED=7]="PROCESSED"}(r||(r={})),function(e){e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.DONE=2]="DONE",e[e.FAILED=3]="FAILED"}(c||(c={}))},640:function(e,t){},642:function(e,t){},670:function(e,t){},673:function(e,t){},69:function(e,t,n){"use strict";var r=n(0),a=n(10),c=n(58),o=n(3),s=n(1);function i(e){return Object(r.jsx)("div",Object(o.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,u=e.textProps,d=Object(c.a)(e,["showAfterMs","text","textProps"]),l=Object(s.useState)(!1),b=Object(a.a)(l,2),j=b[0],O=b[1];return Object(s.useEffect)((function(){var e=t&&setTimeout((function(){return O(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&j)&&e.text?Object(r.jsxs)("div",{className:"loader-container",children:[Object(r.jsx)(i,Object(o.a)({},d)),Object(r.jsx)("span",Object(o.a)(Object(o.a)({className:"loader-text"},u),{},{children:n}))]}):(!t||t&&j)&&!e.text?Object(r.jsx)(i,Object(o.a)({},d)):null}},736:function(e,t){},757:function(e,t){},764:function(e,t){},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return C}));var r=n(4),a=n.n(r),c=n(3),o=n(444),s=n(33),i=n(8),u=n(14),d=n(10),l=n(24),b=n(1),j=n(23),O=n(49),f=n(13),p=n(25),h=n(9);function m(e){var t=e.snapshotProposal,n=null===t||void 0===t?void 0:t.votes,r=null===t||void 0===t?void 0:t.msg.payload.snapshot,m=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),x=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),v=Object(b.useState)(),N=Object(d.a)(v,2),A=N[0],E=N[1],g=Object(b.useState)(),I=Object(d.a)(g,2),w=I[0],y=I[1],_=Object(p.f)().web3Instance,R=null===m||void 0===m?void 0:m.find((function(e){return"getPriorAmount"===e.name})),T=Object(b.useCallback)((function(){return C.apply(this,arguments)}),[x,R,r,A,_]);function C(){return(C=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,p,m,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x&&R&&A){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("No snapshot was found.");case 5:return t={},Object(i.a)(t,h.d.Yes,{percentage:0,shares:0}),Object(i.a)(t,h.d.No,{percentage:0,shares:0}),Object(i.a)(t,"totalShares",0),n=t,u=[x,R,[f.z,f.w,r.toString()]],b=A.map((function(e){var t=Object(d.a)(e,1)[0];return[x,R,[t,f.w,r.toString()]]})),j=[u].concat(Object(s.a)(b)),e.next=11,Object(O.h)({calls:j,web3Instance:_});case 11:p=e.sent,m=Object(o.a)(p),v=m[0],m.slice(1).forEach((function(e,t){var r=l.VoteChoicesIndex[A[t][1]]===l.VoteChoicesIndex[l.VoteChoicesIndex.Yes]?h.d.Yes:h.d.No;n[r].shares+=Number(e)})),n[h.d.Yes].percentage=n[h.d.Yes].shares/Number(v)*100,n[h.d.No].percentage=n[h.d.No].shares/Number(v)*100,n.totalShares=Number(v),y((function(e){return Object(c.a)(Object(c.a)({},e),n)})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),y(void 0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(n){var e=n.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}));E(Object.entries(Object.fromEntries(e)))}}),[n]),Object(b.useEffect)((function(){T()}),[T]),w}var x=n(31);function v(e){var t=e.snapshotProposal,n=Object(b.useRef)({start:x.a.STANDBY,end:x.a.STANDBY}),r=Object(b.useState)(!1),a=Object(d.a)(r,2),c=a[0],o=a[1],s=Object(b.useState)(!1),i=Object(d.a)(s,2),u=i[0],j=i[1],O=Object(b.useState)(m(n.current)),f=Object(d.a)(O,2),p=f[0],h=f[1];function m(e){return Object.values(e).every((function(e){return e===x.a.FULFILLED}))}return Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!c){h((function(){return n.current.start=x.a.PENDING,m(n.current)}));var e=setInterval((function(){h((function(){return n.current.start=x.a.FULFILLED,m(n.current)}));var e=Math.floor(Date.now()/1e3)>t.msg.payload.start;e&&o(e)}),1e3);return function(){clearInterval(e)}}h((function(){return n.current.start=x.a.FULFILLED,m(n.current)}))}),[c,null===t||void 0===t?void 0:t.msg.payload.start,null===t||void 0===t?void 0:t.msg.type]),Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!u){h((function(){return n.current.end=x.a.PENDING,m(n.current)}));var e=setInterval((function(){h((function(){return n.current.end=x.a.FULFILLED,m(n.current)}));var e=Math.ceil(Date.now()/1e3)>t.msg.payload.end;e&&j(e)}),1e3);return function(){clearInterval(e)}}h((function(){return n.current.end=x.a.FULFILLED,m(n.current)}))}),[u,null===t||void 0===t?void 0:t.msg.payload.end,null===t||void 0===t?void 0:t.msg.type]),{hasOffchainVotingStarted:c,hasOffchainVotingEnded:u,offchainVotingStartEndInitReady:p}}var N=n(115),A="Something went wrong while getting the proposal.",E="Proposal was not found.";function g(e,t){var n=Object(b.useState)(),r=Object(d.a)(n,1)[0],o=Object(b.useState)(),s=Object(d.a)(o,2),i=s[0],j=s[1],O=Object(b.useState)(),p=Object(d.a)(O,2),h=p[0],m=p[1],v=Object(b.useState)(!1),g=Object(d.a)(v,2),I=g[0],w=g[1],y=Object(b.useState)(),_=Object(d.a)(y,2),R=_[0],T=_[1],C=Object(b.useState)(x.a.STANDBY),D=Object(d.a)(C,2),S=D[0],k=D[1],P=Object(N.a)(),L=P.abortController,M=P.isMountedRef,F=Object(N.b)(),B=Object(d.a)(F,2),G=B[0],U=B[1],V=Object(b.useCallback)((function(){return K.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,M,G]),W=Object(b.useCallback)((function(){return q.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,M,G,t]),H=Object(b.useCallback)((function(){return J.apply(this,arguments)}),[V,W]),z=h?l.SnapshotType.proposal:i?l.SnapshotType.draft:void 0,Y=i||h?{daoProposal:r,getCommonSnapshotProposalData:function(){switch(z){case l.SnapshotType.draft:return i;case l.SnapshotType.proposal:return h;default:return}},refetchProposalOrDraft:function(){U({type:"increment"})},snapshotDraft:i,snapshotProposal:h,snapshotType:z}:void 0;function K(){return(K=Object(u.a)(a.a.mark((function t(){var n,r,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===G&&k(x.a.PENDING),t.next=4,fetch("".concat(f.x,"/api/").concat(f.y,"/draft/").concat(e),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(A);case 7:return t.next=9,n.json();case 9:if(r=t.sent,M.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw w(!0),new Error(E);case 15:return o=Object.keys(r)[0],s=Object(c.a)({idInDAO:o,idInSnapshot:o},r[o]),k(x.a.FULFILLED),j(s),t.abrupt("return",s);case 22:t.prev=22,t.t0=t.catch(0),k(x.a.REJECTED),T(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function q(){return(q=Object(u.a)(a.a.mark((function n(){var r,o,s,i,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,0===G&&k(x.a.PENDING),n.next=4,fetch("".concat(f.x,"/api/").concat(f.y,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((o=n.sent).ok){n.next=9;break}if(t!==l.SnapshotType.proposal){n.next=8;break}throw new Error(A);case 8:return n.abrupt("return");case 9:return n.next=11,o.json();case 11:if(s=n.sent,M.current){n.next=14;break}return n.abrupt("return");case 14:if(s&&Object.keys(s).length){n.next=19;break}if(t!==l.SnapshotType.proposal){n.next=18;break}throw w(!0),new Error(E);case 18:return n.abrupt("return");case 19:return i=Object.keys(s)[0],u=(null===(r=s[i])||void 0===r?void 0:r.data.erc712DraftHash)||i,d=Object(c.a)({idInDAO:u,idInSnapshot:i},s[i]),k(x.a.FULFILLED),m(d),n.abrupt("return",d);case 27:n.prev=27,n.t0=n.catch(0),k(x.a.REJECTED),T(n.t0);case 31:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(t=e.sent){e.next=9;break}return e.next=6,V();case 6:return n=e.sent,j(n),e.abrupt("return");case 9:m(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(null===L||void 0===L?void 0:L.signal)switch(t){case l.SnapshotType.draft:V();break;case l.SnapshotType.proposal:W();break;default:H()}}),[null===L||void 0===L?void 0:L.signal,V,W,H,t]),{proposalData:Y,proposalError:R,proposalNotFound:I,proposalStatus:S}}var I=n(60),w=n(206);function y(e){var t=e.snapshotDraft,n=e.snapshotProposal,r=(null===t||void 0===t?void 0:t.idInDAO)||(null===n||void 0===n?void 0:n.idInDAO),c=Object(p.f)().web3Instance,o=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),s=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),i=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.contractAddress})),l=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.abi})),f=Object(b.useState)(),h=Object(d.a)(f,2),m=h[0],x=h[1],N=Object(b.useState)(),A=Object(d.a)(N,2),E=A[0],g=A[1],y=Object(b.useState)(),_=Object(d.a)(y,2),R=_[0],T=_[1],C=Object(b.useRef)(),D=v(e),S=D.hasOffchainVotingStarted,k=D.hasOffchainVotingEnded,P=D.offchainVotingStartEndInitReady,L=Object(b.useCallback)((function(){return W.apply(this,arguments)}),[s,o,l,i,r,c]),M=!!m&&I.b[m.flags]===I.b[I.b.EXISTS],F=!!m&&I.b[m.flags]===I.b[I.b.SPONSORED],B=!!m&&I.b[m.flags]===I.b[I.b.PROCESSED],G=E&&E.reporter&&!E.reporter.startsWith("0x00000000000")&&E.resultRoot&&!E.resultRoot.startsWith("0x00000000000"),U=R&&w.a[R]===w.a[w.a.GRACE_PERIOD];function V(e,t){return{status:e,transitionMessage:t,daoProposal:m,daoProposalVoteResult:R,daoProposalVotes:E}}function W(){return(W=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,f,p,h,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s&&o&&l&&i&&r){e.next=3;break}return e.abrupt("return");case 3:return t=s.filter((function(e){return"proposals"===e.name}))[0],n=l.filter((function(e){return"voteResult"===e.name}))[0],u=l.filter((function(e){return"votes"===e.name}))[0],b=[[o,t,[r]],[i,u,[o,r]],[i,n,[o,r]]],e.next=9,Object(O.h)({calls:b,web3Instance:c});case 9:j=e.sent,f=Object(d.a)(j,3),p=f[0],h=f[1],m=f[2],x(p),g(h),T(m),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){L();var e=setInterval(L,5e3);C.current=e}),[L]),Object(b.useEffect)((function(){return B&&C.current&&clearInterval(C.current),function(){C.current&&clearInterval(C.current)}}),[B]),P&&!S&&M?V(I.c.Sponsor):P&&S&&!k&&F?V(I.c.OffchainVoting):P&&k&&F&&!G?V(I.c.OffchainVotingSubmitResult):P&&k&&F&&G&&U?V(I.c.OffchainVotingGracePeriod):F&&P&&k&&G&&!U?V(I.c.Process):B?V(I.c.Completed):{status:void 0,transitionMessage:void 0,daoProposal:m,daoProposalVoteResult:R,daoProposalVotes:E}}var _=n(92),R=n(94);function T(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){return e.contracts})),n=Object(R.a)(),r=n.account,o=n.provider,s=n.web3Instance,i=Object(b.useState)(),p=Object(d.a)(i,2),m=p[0],x=p[1],v=Object(b.useState)(),N=Object(d.a)(v,2),A=N[0],E=N[1],g=Object(b.useState)(h.e.STANDBY),I=Object(d.a)(g,2),w=I[0],y=I[1];function T(){return(T=Object(u.a)(a.a.mark((function n(i){var u,d,b,j,p,m,v,N,A,g,I,w,R,T,C,D,S,k,P,L,M,F,B;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=i.partialVoteData,d=i.adapterName,b=i.proposalIdInDAO,j=i.proposalIdInSnapshot,n.prev=1,s){n.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(r){n.next=6;break}throw new Error("No account was found.");case 6:if(e){n.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(f.x){n.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:return y(h.e.AWAITING_CONFIRM),p=Object(O.d)(d,t),m=u.choice,v=u.delegateAddress,N=u.metadata,A=void 0===N?{}:N,n.next=15,Object(l.getSpace)(f.x,f.y);case 15:return g=n.sent,I=g.data,w={chainId:f.g,choice:m,metadata:Object(c.a)(Object(c.a)({},A),{},{memberAddress:v||r})},R={proposalHash:b,space:f.y,token:I.token},n.next=21,Object(l.buildVoteMessage)(w,R,f.x);case 21:return T=n.sent,C=Object(l.prepareVoteMessage)({timestamp:T.timestamp,payload:{proposalHash:T.payload.proposalHash,choice:l.VoteChoicesIndex[m]}}),D=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},C),{},{type:l.SnapshotType.vote}),e,p,f.g),S=D.domain,k=D.types,P=JSON.stringify({types:k,domain:S,primaryType:_.a,message:C}),n.next=27,Object(l.signMessage)(o,r,P);case 27:return L=n.sent,y(h.e.PENDING),n.next=31,Object(l.submitMessage)(f.x,r,Object(c.a)(Object(c.a)({},T),{},{payload:Object(c.a)(Object(c.a)({},T.payload),{},{proposalHash:j})}),L,{actionId:S.actionId,chainId:S.chainId,verifyingContract:S.verifyingContract,message:C});case 31:return M=n.sent,F=M.data,B={data:T,signature:L,uniqueId:F.uniqueId},y(h.e.FULFILLED),x(B),n.abrupt("return",B);case 39:throw n.prev=39,n.t0=n.catch(1),y(h.e.REJECTED),E(n.t0),n.t0;case 44:case"end":return n.stop()}}),n,null,[[1,39]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return T.apply(this,arguments)},voteData:m,voteDataError:A,voteDataStatus:w}}function C(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(j.c)((function(e){return e.contracts})),r=Object(R.a)(),o=r.account,s=r.provider,i=r.web3Instance,p=Object(b.useState)(),m=Object(d.a)(p,2),x=m[0],v=m[1],N=Object(b.useState)(),A=Object(d.a)(N,2),E=A[0],g=A[1],I=Object(b.useState)(h.e.STANDBY),w=Object(d.a)(I,2),y=w[0],T=w[1];function C(e){return D.apply(this,arguments)}function D(){return(D=Object(u.a)(a.a.mark((function e(n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.x){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,i.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Object(O.f)(h.b.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,o=(0,e.t0)(e.t1),e.next=12,Object(l.buildProposalMessage)(Object(c.a)(Object(c.a)({},n),{},{votingTimeSeconds:o,snapshot:r}),f.x);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(u.a)(a.a.mark((function t(r){var u,d,b,j,p,m,x,N,A,E,I,w,y,R,D,S,k,P,L,M,F,B;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.partialProposalData,d=r.adapterAddress,b=r.adapterName,j=r.type,t.prev=1,o){t.next=4;break}throw new Error("No account was found to send.");case 4:if(i){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(f.x){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(j===l.SnapshotType.draft||j===l.SnapshotType.proposal){t.next=12;break}throw new Error('Handling for type "vote" is not implemented.');case 12:return T(h.e.AWAITING_CONFIRM),p=d||(b?Object(O.d)(b,n):""),m=u.body,x=u.name,N=u.metadata,A=u.timestamp,t.next=17,Object(l.getSpace)(f.x,f.y);case 17:if(E=t.sent,I=E.data,w={name:x,body:m,metadata:N,token:I.token,space:f.y},j!==l.SnapshotType.draft){t.next=26;break}return t.next=23,Object(l.buildDraftMessage)(w,f.x);case 23:t.t0=t.sent,t.next=29;break;case 26:return t.next=28,C(Object(c.a)(Object(c.a)({},w),{},{timestamp:A}));case 28:t.t0=t.sent;case 29:return y=t.t0,R=j===l.SnapshotType.draft?Object(l.prepareDraftMessage)(y):Object(l.prepareProposalMessage)(y),D=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},R),{},{type:j}),e,p,f.g),S=D.domain,k=D.types,P=JSON.stringify({types:k,domain:S,primaryType:_.a,message:R}),t.next=35,Object(l.signMessage)(s,o,P);case 35:return L=t.sent,T(h.e.PENDING),t.next=39,Object(l.submitMessage)(f.x,o,y,L,{actionId:S.actionId,chainId:S.chainId,verifyingContract:S.verifyingContract,message:R});case 39:return M=t.sent,F=M.data,B={data:y,signature:L,uniqueId:F.uniqueId,uniqueIdDraft:F.uniqueIdDraft||""},T(h.e.FULFILLED),v(B),t.abrupt("return",B);case 47:throw t.prev=47,t.t1=t.catch(1),T(h.e.REJECTED),g(t.t1),t.t1;case 52:case"end":return t.stop()}}),t,null,[[1,47]])})))).apply(this,arguments)}return{proposalData:x,proposalSignAndSendError:E,proposalSignAndSendStatus:y,signAndSendProposal:function(e){return S.apply(this,arguments)}}}},781:function(e,t){},829:function(e,t){},898:function(e,t){},9:function(e,t,n){"use strict";var r,a,c,o,s;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.configuration="configuration",e.distribute="distribute",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.voting="voting",e.withdraw="withdraw"}(r||(r={})),function(e){e.bank="bank"}(a||(a={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingSharesPerChunk="onboarding.sharesPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(c||(c={})),function(e){e.Yes="Yes",e.No="No"}(o||(o={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(s||(s={}))},910:function(e,t){},913:function(e,t){},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(9),a=(r.d.Yes,r.d.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},94:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(201);function c(){return Object(r.useContext)(a.a)}},944:function(e,t,n){},945:function(e,t,n){"use strict";n.r(t),n.d(t,"apolloClient",(function(){return dn}));var r=n(0),a=n(33),c=n(1),o=n.n(c),s=n(101),i=n.n(s),u=n(23),d=n(41),l=n(953),b=n(134),j=n(432),O=n.n(j),f=n(15),p=n(13),h=n(133),m=n(102),x=n(437),v=n(438),N=n(3),A=n(58),E=n(166),g=null;function I(e,t){return Object(N.a)(Object(N.a)({},e),t)}function w(){return g}var y=n(40),_={BankExtensionContract:null,ConfigurationContract:null,DaoFactoryContract:null,DaoRegistryContract:null,DistributeContract:null,FinancingContract:null,GuildBankContract:null,ManagingContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,VotingContract:null,WithdrawContract:null};function R(e,t){return Object(N.a)(Object(N.a)({},e),{},{DaoFactoryContract:Object(N.a)({},t)})}function T(e,t){return Object(N.a)(Object(N.a)({},e),{},{DaoRegistryContract:Object(N.a)({},t)})}function C(e,t){return Object(N.a)(Object(N.a)({},e),{},{BankExtensionContract:Object(N.a)({},t)})}function D(e,t){return Object(N.a)(Object(N.a)({},e),{},{ConfigurationContract:Object(N.a)({},t)})}function S(e,t){return Object(N.a)(Object(N.a)({},e),{},{DistributeContract:Object(N.a)({},t)})}function k(e,t){return Object(N.a)(Object(N.a)({},e),{},{FinancingContract:Object(N.a)({},t)})}function P(e,t){return Object(N.a)(Object(N.a)({},e),{},{GuildBankContract:Object(N.a)({},t)})}function L(e,t){return Object(N.a)(Object(N.a)({},e),{},{OnboardingContract:Object(N.a)({},t)})}function M(e,t){return Object(N.a)(Object(N.a)({},e),{},{RagequitContract:Object(N.a)({},t)})}function F(e,t){return Object(N.a)(Object(N.a)({},e),{},{TributeContract:Object(N.a)({},t)})}function B(e,t){return Object(N.a)(Object(N.a)({},e),{},{VotingContract:Object(N.a)({},t)})}function G(e,t){return Object(N.a)(Object(N.a)({},e),{},{ManagingContract:Object(N.a)({},t)})}function U(e,t){return Object(N.a)(Object(N.a)({},e),{},{WithdrawContract:Object(N.a)({},t)})}var V=Object(m.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,["type"]);switch(n){case E.b:return I(e,r);case E.a:return w();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,["type"]);switch(n){case y.a:return C(e,r);case y.b:return D(e,r);case y.c:return R(e,r);case y.d:return T(e,r);case y.e:return S(e,r);case y.f:return k(e,r);case y.g:return P(e,r);case y.h:return G(e,r);case y.i:return L(e,r);case y.j:return M(e,r);case y.k:return F(e,r);case y.l:case y.m:return B(e,r);case y.n:return U(e,r);default:return e}}}),W=Object(m.createStore)(V,Object(x.composeWithDevTools)(Object(m.applyMiddleware)(v.a)));function H(){return Object(r.jsx)("div",{})}var z=n(52);function Y(e){return Object(r.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"MOLOCH v3"})}function K(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(Y,{size:"small"})})}function q(){return Object(r.jsx)("div",{className:"logo-container logo-container--header",children:Object(r.jsx)(Y,{size:"medium"})})}function J(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(Y,{size:"large"})})}var Q=n(10),X=n(948),$=n(149),Z=n.n($),ee=n(448),te=n(4),ne=n.n(te),re=n(14),ae=n(208);function ce(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(r.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(r.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(r.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(r.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function oe(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(r.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(r.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var se={injected:Object(r.jsx)(ce,{}),walletconnect:Object(r.jsx)(oe,{})},ie=n(25);function ue(){return Object(r.jsx)("div",{className:"loader--emoji",children:Object(r.jsx)("span",{role:"img","aria-label":"hourglass emoji",children:"\u23f3"})})}var de=n(21);function le(e){var t=e.children,n=e.keyProp,a=e.isOpen,c=e.styleProps,o=e.modalClassNames,s=e.isOpenHandler;return Object(r.jsx)(Z.a,{ariaHideApp:!1,className:"modal-container ".concat(o),isOpen:a,onRequestClose:function(){s(a)},overlayClassName:"modal-overlay",role:"dialog",style:Object(N.a)({overlay:{zIndex:"99"}},c),children:Object(r.jsx)(de.a,{children:Object(r.jsx)("div",{className:"modal",children:t})})},n)}var be=n(118);function je(e){var t,n=e.customWalletText,a=e.showWalletETHBadge,o=Object(ie.f)(),s=o.account,i=o.connected,u=o.providerOptions,d=o.onConnectTo,l=o.onDisconnect,b=o.networkId,j=o.web3Modal,O=Object(ie.e)(),h=O.defaultChain,m=O.defaultChainError,x=O.isDefaultChain,v=Object(z.f)(),N=Object(c.useState)(!1),A=Object(Q.a)(N,2),E=A[0],g=A[1],I=null!==(t=b!==h)&&void 0!==t?t:x,w=b===p.b.GANACHE,y=ae.isMobile?s?Object(f.i)(s):"Connect":a&&s?Object(f.i)(s):n||"";function _(){g(!1),v.push("/members/".concat(s))}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(I&&i?"walletconnect__connect-button--error":""),onClick:function(){g(!0)},children:[Object(r.jsx)("span",{className:"connect-button-text ".concat(i?"connect-button-text--ethAddress":""),children:y||"Connect"}),a&&I&&i&&Object(r.jsx)("span",{children:"Wrong Network"}),a&&Object(r.jsx)(Oe,{providerName:null===j||void 0===j?void 0:j.cachedProvider})]}),E&&function(){var e=Object.entries(u).filter((function(e){return"injected"!==e[0]})),t=(ae.isMobile?e:Object.entries(u)).map((function(e){return Object(r.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(i&&(null===j||void 0===j?void 0:j.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object(re.a)(ne.a.mark((function t(){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:w&&"walletconnect"===e[0],children:[Object(r.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(r.jsx)(Oe,{providerName:e[0]})]},e[0])}));return Object(r.jsxs)(le,{keyProp:"web3modal",isOpen:E,isOpenHandler:function(){g(!1)},children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){g(!1)},children:Object(r.jsx)(be.a,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),i&&I?null:Object(r.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),s&&Object(r.jsx)("button",{className:"walletconnect__connected-address-button",onClick:_,children:ae.isMobile?Object(f.i)(s):s}),i&&I?Object(r.jsx)(fe,{defaultChainError:(null===m||void 0===m?void 0:m.message)||""}):Object(r.jsx)("div",{className:"walletconnect__options",children:t}),i&&Object(r.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:l,children:"Disconnect Wallet"})]})]})}()]})}function Oe(e){var t=e.providerName;return t?Object(r.jsx)("span",{className:"walletconnect__wallet-icon",children:se[t]}):null}function fe(e){var t=e.defaultChainError;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("small",{children:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var pe=o.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(r.jsx)(je,{customWalletText:t,showWalletETHBadge:n})}));function he(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"svg-inline--fa fa-bars fa-w-14 fa-3x","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var me={transition:"0.1s"},xe={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},ve={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function Ne(){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})})]})})}function Ae(){var e=Object(c.useState)(!1),t=Object(Q.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(xe),s=Object(Q.a)(o,2),i=s[0],u=s[1],l=Object(z.g)(),b=Object(z.f)(),j=Object(ie.f)().account,O="/"===l.pathname;function f(e){if(!e){u(ve);var t=setTimeout((function(){return a(e)}),500);return function(){return clearTimeout(t)}}a(e),u(xe)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee.a,{query:"(max-width: 62em)",children:function(e){return Object(r.jsx)("div",{className:"nav-header",children:Object(r.jsxs)("div",{className:"nav-header__menu-container",children:[!O&&Object(r.jsx)(Ne,{}),Object(r.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(r.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),f(!0)},children:Object(r.jsx)(he,{})})}),Object(r.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(r.jsx)(pe,{showWalletETHBadge:!0})})]})})}}),Object(r.jsx)(Z.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:n,onRequestClose:function(){f(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(r.jsx)(X.a,{appear:!0,in:n,timeout:200,children:function(e){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("div",{style:Object(N.a)(Object(N.a)({},me),i[e]),className:"nav-modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),f(!1)},children:Object(r.jsx)(be.a,{})}),Object(r.jsx)(K,{}),Object(r.jsxs)("div",{className:"nav-modal__walletconnect-button-container",children:[Object(r.jsx)(pe,{showWalletETHBadge:!0}),Object(r.jsx)("button",{className:"button",onClick:function(){f(!1),b.push("/join")},children:"Join"})]}),Object(r.jsxs)("ul",{className:"nav__list",children:[Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)("a",{href:"#",rel:"noopener noreferrer",target:"_blank",children:Object(r.jsx)("span",{children:"Help"})})}),j&&Object(r.jsx)("li",{className:"link-separated",onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/members/".concat(j),children:Object(r.jsx)("span",{children:"Profile"})})})]})]})})}})})]})}function Ee(){if("/"===Object(z.g)().pathname)return null;function e(e){return Object(r.jsx)(d.b,{to:"/",children:e.children})}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(e,{children:Object(r.jsx)(q,{})}),Object(r.jsx)("div",{className:"header__nav-container",children:Object(r.jsx)(Ae,{})})]})})}var ge=n(440);function Ie(){return Object(r.jsxs)(ge.a,{children:[Object(r.jsx)("title",{children:"MOLOCH v3"}),Object(r.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var we=n(443),ye=n.n(we),_e=(n(893),function(e){var t=e.children,n=Object(A.a)(e,["children"]);return Object(r.jsx)("div",Object(N.a)(Object(N.a)({style:{position:"relative"}},n),{},{children:t}))}),Re=o.a.memo((function(){return Object(r.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(r.jsx)("div",{className:"cube__segment--top"}),Object(r.jsx)("div",{className:"cube__segment--left"}),Object(r.jsx)("div",{className:"cube__segment--right"})]})}));function Te(){var e=Object(z.f)();return Object(c.useEffect)((function(){ye.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("header",{className:"header",children:Object(r.jsx)(J,{})}),Object(r.jsxs)("div",{className:"landing",children:[Object(r.jsx)("div",{className:"landing__subtitle",children:Object(r.jsx)("p",{children:"For the ongoing development of Moloch v3"})}),Object(r.jsx)("div",{className:"landing__img",children:Object(r.jsx)(Re,{})}),Object(r.jsx)("div",{className:"landing__button",children:Object(r.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})}),Object(r.jsx)("div",{className:"landing__navlinks",children:Object(r.jsx)(Ne,{})})]})]})})}var Ce=n(24),De=n(119),Se=n(54),ke=n.n(Se),Pe=n(9),Le=n(27),Me=n(105),Fe=n(92),Be=n(78),Ge=n(136),Ue=n(53),Ve=n(93);function We(e){var t=e.error,n=Object(A.a)(e,["error"]);return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(de.a,{children:Object(r.jsx)("p",Object(N.a)(Object(N.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var He,ze=n(69);function Ye(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(ie.e)().defaultChainError,a=Object(ie.f)(),o=a.connected,s=a.account,i=a.web3Instance,d=Object(ie.b)(),l=Object(ie.a)(),b=l.txError,j=l.txEtherscanURL,O=l.txIsPromptOpen,h=l.txSend,m=l.txStatus,x=Object(Be.f)(),v=x.proposalData,A=x.proposalSignAndSendStatus,E=x.signAndSendProposal,g=Object(De.a)({mode:"onBlur",reValidateMode:"onChange"}),I=Object(z.f)(),w=Object(c.useState)(),y=Object(Q.a)(w,2),_=y[0],R=y[1],T=Object(c.useState)(),C=Object(Q.a)(T,2),D=C[0],S=C[1],k=g.errors,P=g.getValues,L=g.setValue,M=g.register,F=g.trigger,B=_||b,G=o&&s,U=m===Pe.e.AWAITING_CONFIRM||m===Pe.e.PENDING||A===Pe.e.AWAITING_CONFIRM||A===Pe.e.PENDING,V=m===Pe.e.FULFILLED&&A===Pe.e.FULFILLED,W=U||V||O,H=Object(c.useCallback)((function(){return Y.apply(this,arguments)}),[s,i]);function Y(){return(Y=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&s){e.next=3;break}return S(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.eth.getBalance(s);case 6:t=e.sent,S({wei:t,eth:i.utils.fromWei(t)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),S(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function K(e){return q.apply(this,arguments)}function q(){return(q=Object(re.a)(ne.a.mark((function n(r){var a,c,o,i,u,l,b,j;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,G){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No OnboardingContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(s){n.next=9;break}throw new Error("No account found.");case 9:if(a=(null===v||void 0===v?void 0:v.uniqueId)||"",c=r.ethAddress,o=r.ethAmount,i=ke.a.utils.toWei(Object(f.h)(o),"ether"),a){n.next=18;break}return n.next=15,E({partialProposalData:{name:c,body:"Membership for ".concat(c,"."),metadata:{amountUnit:"ETH"}},adapterName:Pe.a.onboarding,type:Ce.SnapshotType.draft});case 15:u=n.sent,l=u.uniqueId,a=l;case 18:return b=[t.contractAddress,a,c,p.w,i],j=Object(N.a)({from:s||"",value:i},d?{gasPrice:d.fast}:null),n.next=22,h("onboard",e.instance.methods,b,j);case 22:I.push("/membership/".concat(a)),n.next=28;break;case 25:n.prev=25,n.t0=n.catch(0),R(n.t0);case 28:case"end":return n.stop()}}),n,null,[[0,25]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){H()}),[H]),Object(c.useEffect)((function(){L(He.ethAddress,s)}),[s,L]),G?n?Object(r.jsx)(Ke,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:n.message})})}):Object(r.jsx)(Ke,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",htmlFor:He.ethAddress,children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(He.ethAddress),"aria-invalid":k.ethAddress?"true":"false",id:He.ethAddress,name:He.ethAddress,ref:M({validate:function(e){return e?!!Object(Me.a)(e)||Le.a.INVALID_ETHEREUM_ADDRESS:Le.a.REQUIRED}}),type:"text",disabled:W}),Object(r.jsx)(We,{error:Object(f.f)(He.ethAddress,k),id:"error-".concat(He.ethAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",htmlFor:He.ethAmount,children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(He.ethAmount),"aria-invalid":k.ethAmount?"true":"false",id:He.ethAmount,name:He.ethAmount,onChange:function(){return L(He.ethAmount,Object(f.e)(P().ethAmount))},ref:M({validate:function(e){var t=Number(Object(f.h)(e));return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(null===D||void 0===D?void 0:D.eth))||"Insufficient funds."}}),type:"text",disabled:W}),Object(r.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(r.jsx)(We,{error:Object(f.f)(He.ethAmount,k),id:"error-".concat(He.ethAmount)})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsxs)("span",{className:"text-underline",children:[D?Object(f.d)(Number(D.eth)):"---"," ","ETH"]})]})]}),Object(r.jsx)("button",{"aria-label":U?"Submitting your proposal.":"",className:"button",disabled:W,onClick:Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:K(P());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:U?Object(r.jsx)(ze.a,{}):V?"Done":"Submit"}),W&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){if(m===Pe.e.AWAITING_CONFIRM||A===Pe.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(m){case Pe.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge.a,{intervalMs:2e3,messages:Fe.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(de.a,{children:e},e)}}),Object(r.jsx)(Ve.a,{url:j,isPending:!0})]});case Pe.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(Ve.a,{url:j})]});default:return null}}()}),B&&4001!==B.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ue.a,{renderText:"Something went wrong while submitting the proposal.",error:B})})]})}):Object(r.jsx)(Ke,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a member proposal."})})})}function Ke(e){return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function qe(){var e=[],t=[],n=[],a=[];return Object(r.jsx)(Je,{children:Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[e.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:e})]}),t.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.REQUESTS}),Object(r.jsx)("div",{className:"grid__cards",children:t})]}),n.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:n})]}),a.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:a})]})]})})}function Je(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),"@TODO",e.children]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(He||(He={}));var Qe=n(31);function Xe(){return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsx)(de.a,{children:Object(r.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(r.jsxs)("h3",{children:["4",Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}var $e=n(269),Ze=n(16),et=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,971))})),tt={duration:150},nt={display:"inline-block",width:"100%",fontSize:"1.5rem"};function rt(e){var t=e.adapterName,n=e.proposal,a=Object(u.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName}));return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("span",{className:"text-center",style:nt,children:Object(r.jsx)($e.a,{intervalMs:200,fadeInProps:tt})}),children:function(){if(!a)return Object(r.jsx)(r.Fragment,{});switch(a){case Ze.b.OffchainVotingContract:return Object(r.jsx)(et,{adapterName:t,proposal:n});default:var e=new Error('"'.concat(a,'" is not a valid voting adapter name.'));return Object(r.jsx)(Ue.a,{error:e,renderText:"Something went wrong"})}}()})}function at(e){var t=e.amount,n=e.amountUnit,a=e.amount2,c=e.amount2Unit;return Object(r.jsx)("div",{className:"proposaldetails__amount",children:Object(r.jsxs)("span",{children:["".concat(t," ").concat(n),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"for"}),Object(r.jsx)("br",{}),"".concat(a," ").concat(c)]})]})})}function ct(e){var t=e.proposal,n=e.renderAmountBadge,a=e.renderActions,c=t.getCommonSnapshotProposalData();return c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"proposaldetails__content",children:[Object(r.jsx)("h3",{children:Object(f.i)(c.msg.payload.name||"",7)}),Object(r.jsx)("p",{children:c.msg.payload.body})]}),Object(r.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),a()]})]})]}):null}function ot(){var e=Object(z.h)().proposalId,t=Object(Be.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,o=t.proposalStatus;if(o===Qe.a.PENDING)return Object(r.jsx)(st,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})})});if(c)return Object(r.jsx)(st,{children:Object(r.jsx)(Xe,{})});if(o===Qe.a.REJECTED||a)return Object(r.jsx)(st,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Ue.a,{error:a,renderText:"Something went wrong."})})});if(n){var s=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{u=Object(f.d)(Number(ke.a.utils.fromWei(null===s||void 0===s?void 0:s.amount,"ether")))}catch(d){u="\u2026"}return Object(r.jsx)(st,{children:Object(r.jsx)(ct,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(at,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(rt,{adapterName:Pe.a.onboarding,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function st(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}var it,ut,dt=n(22),lt=n(49),bt=n(447);function jt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),o=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),s=Object(ie.e)().defaultChainError,i=Object(ie.f)(),d=i.connected,l=i.account,b=i.web3Instance,j=Object(ie.b)(),O=Object(ie.a)(),h=O.txError,m=O.txEtherscanURL,x=O.txIsPromptOpen,v=O.txSend,A=O.txStatus,E=Object(Be.f)(),g=E.proposalData,I=E.proposalSignAndSendStatus,w=E.signAndSendProposal,y=Object(De.a)({mode:"onBlur",reValidateMode:"onChange"}),_=Object(z.f)(),R=Object(c.useState)(),T=Object(Q.a)(R,2),C=T[0],D=T[1],S=Object(c.useState)(),k=Object(Q.a)(S,2),P=k[0],L=k[1],M=Object(c.useState)(),F=Object(Q.a)(M,2),B=F[0],G=F[1],U=y.errors,V=y.getValues,W=y.setValue,H=y.register,Y=y.trigger,K=y.watch,q="all members"===K("type"),J=K("selectedToken"),X=C||h,$=d&&l,Z=bt,ee=A===Pe.e.AWAITING_CONFIRM||A===Pe.e.PENDING||I===Pe.e.AWAITING_CONFIRM||I===Pe.e.PENDING,te=A===Pe.e.FULFILLED&&I===Pe.e.FULFILLED,ae=ee||te||x,ce=Object(c.useCallback)((function(){return se.apply(this,arguments)}),[n,l,Z,b]),oe=Object(c.useCallback)((function(){return ue.apply(this,arguments)}),[l,J]);function se(){return(se=Object(re.a)(ne.a.mark((function e(){var t,r,c,o,s,i,u,d,j,O,f,h,m,x,v,A,E,g,I,w,y,_,R,T,C,D,S;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&n&&b){e.next=3;break}return L(void 0),e.abrupt("return");case 3:return e.prev=3,t=n.abi,r=n.contractAddress,c=n.instance.methods,e.next=7,c.nbTokens().call();case 7:if(o=e.sent,!(Number(o)<1)){e.next=12;break}L([]),e.next=44;break;case 12:return s=[],i=t.find((function(e){return"getToken"===e.name})),u=Object(a.a)(Array(Number(o)).keys()).map((function(e){return[r,i,[e.toString()]]})),e.next=17,Object(lt.h)({calls:u,web3Instance:b});case 17:return d=e.sent,j=t.find((function(e){return"balanceOf"===e.name})),O=d.map((function(e){return[r,j,[p.p,e]]})),e.next=22,Object(lt.h)({calls:O,web3Instance:b});case 22:if(f=e.sent,h=d.map((function(e,t){return{address:e,daoBalance:f[t]}})).filter((function(e){return Object(dt.toBN)(e.daoBalance).gt(Object(dt.toBN)(0))})),(m=h.find((function(e){return e.address===p.k})))&&s.push(Object(N.a)(Object(N.a)({},m),{},{name:"Ether",symbol:"ETH",decimals:18})),!((x=h.filter((function(e){return e.address!==p.k}))).length>0)){e.next=43;break}return v=Z.find((function(e){return"name"===e.name})),A=x.map((function(e){return[e.address,v,[]]})),E=Z.find((function(e){return"symbol"===e.name})),g=x.map((function(e){return[e.address,E,[]]})),I=Z.find((function(e){return"decimals"===e.name})),w=x.map((function(e){return[e.address,I,[]]})),y=[].concat(Object(a.a)(A),Object(a.a)(g),Object(a.a)(w)),e.next=37,Object(lt.h)({calls:y,web3Instance:b});case 37:for(_=e.sent,R=[];_.length;)R.push(_.splice(0,x.length));T=R[0],C=R[1],D=R[2],S=x.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{name:T[t],symbol:C[t],decimals:D[t]})})).sort((function(e,t){return e.name.localeCompare(t.name)})),s=[].concat(Object(a.a)(s),Object(a.a)(S));case 43:L(s);case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),console.error(e.t0),L(void 0);case 50:case"end":return e.stop()}}),e,null,[[3,46]])})))).apply(this,arguments)}function ue(){return(ue=Object(re.a)(ne.a.mark((function e(){var t,n,r,a,c,o,s,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&J){e.next=3;break}return G(void 0),e.abrupt("return");case 3:try{t=JSON.parse(J),n=t.daoBalance,r=Object(dt.toBN)(n),a=t.decimals,c=Object(dt.toBN)(10).pow(Object(dt.toBN)(a)),o=r.div(c),s=r.mod(c),i=s.eq(Object(dt.toBN)(0))?o.toString():"".concat(o.toString(),".").concat(s.toString()),G(i)}catch(u){console.error(u),G(void 0)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return be.apply(this,arguments)}function be(){return(be=Object(re.a)(ne.a.mark((function n(r){var a,c,o,s,i,u,d,O,h,m,x,A,E,I,y,R,T,C,S,k,P,L,M,F,B,G;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,$){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No DistributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(l){n.next=9;break}throw new Error("No account found.");case 9:if(b){n.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(a=r.selectedToken,c=r.memberAddress,o=r.amount,s=r.notes,i=JSON.parse(a),u=i.symbol,d=i.decimals,(O=i.address)===p.k?h=Object(dt.toWei)(Object(f.h)(o),"ether"):(m=Object(dt.toBN)(10).pow(Object(dt.toBN)(d)),x=Object(dt.toBN)(Object(f.h)(o)).mul(m),h=x.toString()),A=(null===g||void 0===g?void 0:g.uniqueId)||"",E=null===g||void 0===g?void 0:g.data,I=(null===g||void 0===g?void 0:g.signature)||"",y=q?"Transfer to all members pro rata.":"Transfer to ".concat(c,"."),A){n.next=32;break}return R=s?"".concat(y,"\n").concat(s):y,T=q?"All members":c,C=Math.floor(Date.now()/1e3),n.next=25,w({partialProposalData:{name:T,body:R,metadata:{amountUnit:u,tokenDecimals:d,isTypeAllMembers:q},timestamp:C.toString()},adapterName:Pe.a.distribute,type:Ce.SnapshotType.proposal});case 25:S=n.sent,k=S.uniqueId,P=S.data,L=S.signature,A=k,E=P,I=L;case 32:return M=q?"0x0000000000000000000000000000000000000000":c,F=E?Object(Ce.prepareVoteProposalData)({payload:{name:E.payload.name,body:E.payload.body,choices:E.payload.choices,snapshot:E.payload.snapshot.toString(),start:E.payload.start,end:E.payload.end},sig:I,space:E.space,timestamp:parseInt(E.timestamp)},b):"",B=[t.contractAddress,A,M,O,h,F],G=Object(N.a)({from:l||""},j?{gasPrice:j.fast}:null),n.next=38,v("submitProposal",e.instance.methods,B,G);case 38:_.push("/transfers/".concat(A)),n.next=44;break;case 41:n.prev=41,n.t0=n.catch(0),D(n.t0);case 44:case"end":return n.stop()}}),n,null,[[0,41]])})))).apply(this,arguments)}function je(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(re.a)(ne.a.mark((function e(t){var r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("No BankExtensionContract found."),e.abrupt("return",!1);case 3:return e.next=5,n.instance.methods.balanceOf(t,p.w).call();case 5:return r=e.sent,e.abrupt("return",Object(dt.toBN)(r).gt(Object(dt.toBN)(0)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){ce()}),[ce]),Object(c.useEffect)((function(){oe()}),[oe]),$&&!s&&o?Object(r.jsx)(Ot,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Type"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsxs)("select",{name:it.type,ref:H,disabled:ae,children:[Object(r.jsx)("option",{value:"single member",children:"Single member"}),Object(r.jsx)("option",{value:"all members",children:"All members"})]})})]}),!q&&Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Member Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(it.memberAddress),"aria-invalid":U.memberAddress?"true":"false",name:it.memberAddress,ref:H({validate:function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}e.t0=Le.a.REQUIRED,e.next=17;break;case 4:if(Object(Me.a)(t)){e.next=8;break}e.t1=Le.a.INVALID_ETHEREUM_ADDRESS,e.next=16;break;case 8:return e.next=10,je(t);case 10:if(e.sent){e.next=14;break}e.t2="The address is not an active member with SHARES.",e.next=15;break;case 14:e.t2=!0;case 15:e.t1=e.t2;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:ae}),Object(r.jsx)(We,{error:Object(f.f)(it.memberAddress,U),id:"error-".concat(it.memberAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Asset"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsxs)("select",{"aria-describedby":"error-".concat(it.selectedToken),"aria-invalid":U.selectedToken?"true":"false",name:it.selectedToken,ref:H({validate:function(e){return!P||P.length<1?"No tokens available for distribution.":!!e||Le.a.REQUIRED}}),disabled:ae,children:[Object(r.jsx)("option",{value:"",children:"Select from DAO assets"}),null===P||void 0===P?void 0:P.map((function(e){return Object(r.jsx)("option",{value:JSON.stringify(e),children:"".concat(e.name," (").concat(e.symbol,")")},e.address)}))]}),Object(r.jsx)(We,{error:Object(f.f)(it.selectedToken,U),id:"error-".concat(it.selectedToken)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(it.amount),"aria-invalid":U.amount?"true":"false",name:it.amount,onChange:function(){return W(it.amount,Object(f.e)(V().amount))},ref:H({validate:function(e){var t=Number(Object(f.h)(e)),n=J&&JSON.parse(J),r=(null===n||void 0===n?void 0:n.address)===p.k;return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(B)?"Insufficient funds.":!!r||(!!Number.isInteger(t)||"The value must be an integer for an ERC20 token.")}}),type:"text",disabled:ae}),Object(r.jsx)("div",{className:"input__suffix-item",children:J&&JSON.parse(J).symbol||"___"})]}),Object(r.jsx)(We,{error:Object(f.f)(it.amount,U),id:"error-".concat(it.amount)}),Object(r.jsx)("div",{className:"form__input-description",children:q?"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of shares held by each member.":"If the proposal passes, this amount will be distributed to the member's internal account."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:B?Number.isInteger(Number(B))?B:Object(f.d)(Number(B)):"---"})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Notes"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{name:it.notes,placeholder:"Transactions purpose...",ref:H,disabled:ae})})]}),Object(r.jsx)("button",{className:"button",disabled:ae,onClick:Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Y();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:le(V());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:ee?Object(r.jsx)(ze.a,{}):te?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:ae&&function(){if(A===Pe.e.AWAITING_CONFIRM||I===Pe.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(A){case Pe.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge.a,{intervalMs:2e3,messages:Fe.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(de.a,{children:e},e)}}),Object(r.jsx)(Ve.a,{url:m,isPending:!0})]});case Pe.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(Ve.a,{url:m})]});default:return null}}()}),X&&4001!==X.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ue.a,{renderText:"Something went wrong while submitting the proposal.",error:X})})]})}):Object(r.jsx)(Ot,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:$?s?s.message:o?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a transfer proposal."})})})}function Ot(e){return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function ft(){return Object(r.jsx)(pt,{children:Object(r.jsx)("div",{children:"Transfers @todo"})})}function pt(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}function ht(){var e=Object(z.h)().proposalId,t=Object(Be.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,o=t.proposalStatus;if(o===Qe.a.PENDING)return Object(r.jsx)(mt,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})})});if(c)return Object(r.jsx)(mt,{children:Object(r.jsx)(Xe,{})});if(o===Qe.a.REJECTED||a)return Object(r.jsx)(mt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Ue.a,{error:a,renderText:"Something went wrong."})})});if(n){var s=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{var d=Object(dt.toBN)(10).pow(Object(dt.toBN)(null===i||void 0===i?void 0:i.msg.payload.metadata.tokenDecimals)),l=Object(dt.toBN)(null===s||void 0===s?void 0:s.amount).div(d),b=Object(dt.toBN)(null===s||void 0===s?void 0:s.amount).mod(d),j=b.eq(Object(dt.toBN)(0))?l.toString():"".concat(l.toString(),".").concat(b.toString()),O=Number.isInteger(Number(j));u=O?j:Object(f.d)(Number(j))}catch(p){}return Object(r.jsx)(mt,{children:Object(r.jsx)(ct,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(at,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(rt,{adapterName:Pe.a.distribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function mt(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}function xt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),a=Object(ie.e)().defaultChainError,o=Object(ie.f)(),s=o.connected,i=o.account,l=o.web3Instance,b=Object(ie.b)(),j=Object(ie.a)(),O=j.txError,h=j.txEtherscanURL,m=j.txIsPromptOpen,x=j.txSend,v=j.txStatus,A=Object(ie.a)(),E=A.txError,g=A.txEtherscanURL,I=A.txIsPromptOpen,w=A.txSend,y=A.txStatus,_=Object(Be.f)(),R=_.proposalData,T=_.proposalSignAndSendStatus,C=_.signAndSendProposal,D=Object(De.a)({mode:"onBlur",reValidateMode:"onChange"}),S=Object(z.f)(),k=Object(c.useState)(),P=Object(Q.a)(k,2),L=P[0],M=P[1],F=Object(c.useState)(),B=Object(Q.a)(F,2),G=B[0],U=B[1],V=Object(c.useState)(),W=Object(Q.a)(V,2),H=W[0],Y=W[1],K=Object(c.useState)(),q=Object(Q.a)(K,2),J=q[0],X=q[1],$=D.errors,Z=D.getValues,ee=D.setValue,te=D.register,ae=D.trigger,ce=(0,D.watch)("erc20Address"),oe=L||O||E,se=s&&i,ue=v===Pe.e.AWAITING_CONFIRM||v===Pe.e.PENDING||y===Pe.e.AWAITING_CONFIRM||y===Pe.e.PENDING||T===Pe.e.AWAITING_CONFIRM||T===Pe.e.PENDING,le=v===Pe.e.FULFILLED&&T===Pe.e.FULFILLED,be=ue||le||m||I,je=Object(c.useCallback)((function(){return pe.apply(this,arguments)}),[ce,l]),Oe=Object(c.useCallback)((function(){return he.apply(this,arguments)}),[i,J]),fe=Object(c.useCallback)((function(){return me.apply(this,arguments)}),[i,J]);function pe(){return(pe=Object(re.a)(ne.a.mark((function e(){var t,r,a,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&ce){e.next=3;break}return X(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.resolve().then(n.t.bind(null,447,3));case 6:t=e.sent,r=t.default,a=r,c=new l.eth.Contract(a,ce),X(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),X(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function he(){return(he=Object(re.a)(ne.a.mark((function e(){var t,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&J){e.next=3;break}return Y(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,J.methods.symbol().call();case 6:return t=e.sent,e.next=9,J.methods.decimals().call();case 9:n=e.sent,Y({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),Y(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function me(){return(me=Object(re.a)(ne.a.mark((function e(){var t,n,r,a,c,o,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&J){e.next=3;break}return U(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,J.methods.balanceOf(i).call();case 6:return t=e.sent,n=Object(dt.toBN)(t),e.next=10,J.methods.decimals().call();case 10:r=e.sent,a=Object(dt.toBN)(10).pow(Object(dt.toBN)(r)),c=n.div(a),o=n.mod(a),s=o.eq(Object(dt.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(o.toString()),U(s),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),U(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function xe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(re.a)(ne.a.mark((function t(n,r){var a,c,o,s;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,J){t.next=3;break}throw new Error("No ERC20Contract found.");case 3:if(e){t.next=5;break}throw new Error("No TributeContract found.");case 5:if(i){t.next=7;break}throw new Error("No account found.");case 7:return a=n.sub(r),c=r.add(a),o=[e.contractAddress,c.toString()],s=Object(N.a)({from:i||""},b?{gasPrice:b.fast}:null),t.next=13,w("approve",J.methods,o,s);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function Ne(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(re.a)(ne.a.mark((function n(r){var a,c,o,s,u,d,l,j,O,h,m,v,A,E,g,I,w;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,se){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No TributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(i){n.next=9;break}throw new Error("No account found.");case 9:if(J){n.next=11;break}throw new Error("No ERC20Contract found.");case 11:if(H){n.next=13;break}throw new Error("No ERC20 details found.");case 13:return a=r.applicantAddress,c=r.erc20Address,o=r.tributeAmount,s=r.requestAmount,u=r.description,d=Object(dt.toBN)(10).pow(Object(dt.toBN)(H.decimals)),l=Object(dt.toBN)(Object(f.h)(o)).mul(d),j=Object(f.h)(s),n.next=19,J.methods.allowance(i,e.contractAddress).call();case 19:if(O=n.sent,h=Object(dt.toBN)(O),!l.gt(h)){n.next=31;break}return n.prev=22,n.next=25,xe(l,h);case 25:n.next=31;break;case 27:throw n.prev=27,n.t0=n.catch(22),console.error(n.t0),new Error("Your ERC20 tokens could not be approved for transfer.");case 31:if(m=(null===R||void 0===R?void 0:R.uniqueId)||""){n.next=40;break}return v=a.toLowerCase()===i.toLowerCase()?"Tribute from ".concat(a,"."):"Tribute from ".concat(Object(f.i)(i,7)," for applicant ").concat(Object(f.i)(a,7),"."),A=u?"".concat(v,"\n").concat(u):v,n.next=37,C({partialProposalData:{name:a,body:A,metadata:{tributeAmountUnit:H.symbol,tributeTokenDecimals:H.decimals,requestAmountUnit:"SHARES"}},adapterName:Pe.a.tribute,type:Ce.SnapshotType.draft});case 37:E=n.sent,g=E.uniqueId,m=g;case 40:return I=[t.contractAddress,m,a,p.w,j,c,l.toString()],w=Object(N.a)({from:i||""},b?{gasPrice:b.fast}:null),n.next=44,x("provideTribute",e.instance.methods,I,w);case 44:S.push("/tributes/".concat(m)),n.next=50;break;case 47:n.prev=47,n.t1=n.catch(0),M(n.t1);case 50:case"end":return n.stop()}}),n,null,[[0,47],[22,27]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){je()}),[je]),Object(c.useEffect)((function(){Oe()}),[Oe]),Object(c.useEffect)((function(){fe()}),[fe]),Object(c.useEffect)((function(){ee(ut.applicantAddress,i)}),[i,ee]),se?a?Object(r.jsx)(vt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:a.message})})}):Object(r.jsx)(vt,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(ut.applicantAddress),"aria-invalid":$.applicantAddress?"true":"false",name:ut.applicantAddress,ref:te({validate:function(e){return e?!!Object(Me.a)(e)||Le.a.INVALID_ETHEREUM_ADDRESS:Le.a.REQUIRED}}),type:"text",disabled:be}),Object(r.jsx)(We,{error:Object(f.f)(ut.applicantAddress,$),id:"error-".concat(ut.applicantAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(ut.erc20Address),"aria-invalid":$.erc20Address?"true":"false",name:ut.erc20Address,ref:te({validate:function(e){return e?!!Object(Me.a)(e)||Le.a.INVALID_ETHEREUM_ADDRESS:Le.a.REQUIRED}}),type:"text",disabled:be}),Object(r.jsx)(We,{error:Object(f.f)(ut.erc20Address,$),id:"error-".concat(ut.erc20Address)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(ut.tributeAmount),"aria-invalid":$.tributeAmount?"true":"false",name:ut.tributeAmount,onChange:function(){return ee(ut.tributeAmount,Object(f.e)(Z().tributeAmount))},ref:te({validate:function(e){var t=Number(Object(f.h)(e));return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(G)?"Insufficient funds.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:be}),Object(r.jsx)("div",{className:"input__suffix-item",children:(null===H||void 0===H?void 0:H.symbol)||"___"})]}),Object(r.jsx)(We,{error:Object(f.f)(ut.tributeAmount,$),id:"error-".concat(ut.tributeAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:G?Number.isInteger(Number(G))?G:Object(f.d)(Number(G)):"---"})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(ut.requestAmount),"aria-invalid":$.requestAmount?"true":"false",name:ut.requestAmount,onChange:function(){return ee(ut.requestAmount,Object(f.e)(Z().requestAmount))},ref:te({validate:function(e){var t=Number(Object(f.h)(e));return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:be}),Object(r.jsx)(We,{error:Object(f.f)(ut.requestAmount,$),id:"error-".concat(ut.requestAmount)}),Object(r.jsxs)("div",{className:"form__input-description",children:["This is the amount of DAO tokens you are requesting be sent to the Applicant Address in exchange for your tribute. Current member allocations can be viewed"," ",Object(r.jsx)(d.b,{to:"/members",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{name:ut.description,placeholder:"Say something about your tribute...",ref:te,disabled:be})})]}),Object(r.jsx)("button",{className:"button",disabled:be,onClick:Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!be){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ae();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:Ne(Z());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:ue?Object(r.jsx)(ze.a,{}):le?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:be&&function(){if(v===Pe.e.AWAITING_CONFIRM||y===Pe.e.AWAITING_CONFIRM||T===Pe.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";if(y===Pe.e.PENDING)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Approving your tokens for transfer\u2026"}),Object(r.jsx)(Ve.a,{url:g,isPending:!0})]});switch(v){case Pe.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge.a,{intervalMs:2e3,messages:Fe.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(de.a,{children:e},e)}}),Object(r.jsx)(Ve.a,{url:h,isPending:!0})]});case Pe.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(Ve.a,{url:h})]});default:return null}}()}),oe&&4001!==oe.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ue.a,{renderText:"Something went wrong while submitting the proposal.",error:oe})})]})}):Object(r.jsx)(vt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a tribute proposal."})})})}function vt(e){return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function Nt(){return Object(r.jsx)(At,{children:Object(r.jsx)("div",{children:"Tributes @todo"})})}function At(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}function Et(){var e=Object(z.h)().proposalId,t=Object(Be.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,o=t.proposalStatus;if(o===Qe.a.PENDING)return Object(r.jsx)(gt,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})})});if(c)return Object(r.jsx)(gt,{children:Object(r.jsx)(Xe,{})});if(o===Qe.a.REJECTED||a)return Object(r.jsx)(gt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Ue.a,{error:a,renderText:"Something went wrong."})})});if(n){var s=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{var d=Object(dt.toBN)(10).pow(Object(dt.toBN)(null===i||void 0===i?void 0:i.msg.payload.metadata.tributeTokenDecimals)),l=Object(dt.toBN)(null===s||void 0===s?void 0:s.tributeAmount).div(d),b=Object(dt.toBN)(null===s||void 0===s?void 0:s.tributeAmount).mod(d),j=b.eq(Object(dt.toBN)(0))?l.toString():"".concat(l.toString(),".").concat(b.toString()),O=Number.isInteger(Number(j));u=O?j:Object(f.d)(Number(j))}catch(h){}var p="\u2026";try{p=Object(f.e)(null===s||void 0===s?void 0:s.requestAmount)}catch(h){}return Object(r.jsx)(gt,{children:Object(r.jsx)(ct,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(at,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.tributeAmountUnit,amount2:p,amount2Unit:null===i||void 0===i?void 0:i.msg.payload.metadata.requestAmountUnit})},renderActions:function(){return Object(r.jsx)(rt,{adapterName:Pe.a.tribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function gt(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function It(){return Object(r.jsx)(wt,{children:Object(r.jsx)("div",{children:"CreateGovernanceProposal @todo"})})}function wt(e){return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),e.children]})})}function yt(){return Object(r.jsx)(_t,{children:Object(r.jsx)("div",{children:"GovernanceProposals @todo"})})}function _t(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}function Rt(){return Object(r.jsx)(Tt,{children:Object(r.jsx)("div",{children:"GovernanceProposalDetails @todo"})})}function Tt(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposals")},children:"View all"})]}),e.children]})})}function Ct(e){var t=e.member,n=e.name,a=e.onClick;return Object(r.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;a(e)},children:Object(r.jsx)("h3",{className:"membercard__title",children:n})})}!function(e){e.type="type",e.selectedToken="selectedToken",e.memberAddress="memberAddress",e.amount="amount",e.notes="notes"}(it||(it={})),function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(ut||(ut={}));var Dt=[{address:"0xd38f1A08f9894CE69Bdf796271dC9e4099fC5043"},{address:"0x927A9928Fe2eD6415e4D7761314c3466C3dc78f9"},{address:"0x2e4707940C2d65221ee352945f0551738BCd026E"},{address:"0xF2603046726414C5Dd0B0AE07a842209010AfbC5"},{address:"0x01410229072479e1e4d33490a7052439d7893ed6"},{address:"0x69732A015EE3A371714C99CcF6291fF774638E77"},{address:"0x2b22914fd1A891a4b11A39B11bD53f0e0434a63A"},{address:"0xD47d51c4963aB981A062dd15aE5e442B1Ee9425C"},{address:"0x6197776A13a094370e3F71452fA868937A9f2334"}];function St(){var e=Object(z.f)(),t=Dt.map((function(t){return Object(r.jsx)(Ct,{onClick:(n=t.address,function(){n&&e.push("/members/".concat(n))}),member:t,name:Object(f.i)(t.address,7)},t.address);var n}));return Object(r.jsx)(kt,{children:Object(r.jsx)("div",{className:"grid--fluid grid-container",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(r.jsx)("div",{className:"grid__cards",children:t})]})})})}function kt(e){return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}var Pt=n(8);function Lt(e){return t=e,ke.a.utils.sha3(t);var t}function Mt(){var e;return e={},Object(Pt.a)(e,Ze.a.BANK,"configureExtension"),Object(Pt.a)(e,Ze.a.CONFIGURATION,"submitConfigurationProposal"),Object(Pt.a)(e,Ze.a.DISTRIBUTE,""),Object(Pt.a)(e,Ze.a.FINANCING,"createFinancingRequest"),Object(Pt.a)(e,Ze.a.GUILDKICK,"submitKickProposal"),Object(Pt.a)(e,Ze.a.MANAGING,"createAdapterChangeRequest"),Object(Pt.a)(e,Ze.a.OFFCHAINVOTING,"configureDao"),Object(Pt.a)(e,Ze.a.ONBOARDING,"configureDao"),Object(Pt.a)(e,Ze.a.RAGEQUIT,"ragequit"),Object(Pt.a)(e,Ze.a.TRIBUTE,"configureDao"),Object(Pt.a)(e,Ze.a.VOTING,"configureDao"),Object(Pt.a)(e,Ze.a.WITHDRAW,"withdraw"),e}function Ft(e){var t;return{acl:Bt((t={},Object(Pt.a)(t,Ze.a.BANK,{}),Object(Pt.a)(t,Ze.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object(Pt.a)(t,Ze.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object(Pt.a)(t,Ze.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object(Pt.a)(t,Ze.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object(Pt.a)(t,Ze.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Pt.a)(t,Ze.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object(Pt.a)(t,Ze.a.OFFCHAINVOTING,{}),Object(Pt.a)(t,Ze.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object(Pt.a)(t,Ze.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Pt.a)(t,Ze.a.VOTING,{}),Object(Pt.a)(t,Ze.a.WITHDRAW,{WITHDRAW:!0,SUB_FROM_BALANCE:!0}),t)[e])}}function Bt(e){return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER])}var Gt=[{isExtension:!0,name:Ze.a.BANK,extensionId:Lt(Ze.a.BANK),contractAddress:p.a[p.g],description:"Adds the banking capabilities to the DAO, and keeps track of the DAO accounts and internal token balances."},{name:Ze.a.CONFIGURATION,adapterId:Lt(Ze.a.CONFIGURATION),contractAddress:p.d[p.g],description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:Ze.a.DISTRIBUTE,adapterId:Lt(Ze.a.DISTRIBUTE),contractAddress:p.h[p.g],description:"Allows the members to distribute funds to one or all members of the DAO."},{name:Ze.a.FINANCING,adapterId:Lt(Ze.a.FINANCING),contractAddress:p.l[p.g],description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:Ze.a.GUILDKICK,adapterId:Lt(Ze.a.GUILDKICK),contractAddress:p.o[p.g],description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:Ze.a.MANAGING,adapterId:Lt(Ze.a.MANAGING),contractAddress:p.r[p.g],description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:Ze.a.ONBOARDING,adapterId:Lt(Ze.a.ONBOARDING),contractAddress:p.u[p.g],description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:Ze.a.RAGEQUIT,adapterId:Lt(Ze.a.RAGEQUIT),contractAddress:p.v[p.g],description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:Ze.a.TRIBUTE,adapterId:Lt(Ze.a.TRIBUTE),contractAddress:p.A[p.g],description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{options:[{name:Ze.a.VOTING,displayName:Ze.a.OFFCHAINVOTING,adapterId:Lt(Ze.a.VOTING),contractAddress:p.t[p.g],description:"Adds the offchain voting governance process to the DAO to support gasless voting."},{name:Ze.a.VOTING,displayName:Ze.a.VOTING,adapterId:Lt(Ze.a.VOTING),contractAddress:p.B[p.g],description:"Adds the simple on chain voting governance process to the DAO."}],optionDefaultTarget:Ze.a.VOTING},{name:Ze.a.WITHDRAW,adapterId:Lt(Ze.a.WITHDRAW),contractAddress:p.C[p.g],description:"Allows the members to withdraw their funds from the DAO bank."}],Ut=n(207);function Vt(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(A.a)(e,["DaoRegistryContract"]),r=Object(l.useLazyQuery)(Ut.a,{pollInterval:p.m,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(Q.a)(r,2),o=a[0],s=a[1],i=s.called,d=s.data,b=s.error,j=Object(c.useState)(),O=Object(Q.a)(j,2),f=O[0],h=O[1],m=Object(c.useState)(),x=Object(Q.a)(m,2),v=x[0],E=x[1],g=Object(c.useState)(Qe.a.STANDBY),I=Object(Q.a)(g,2),w=I[0],y=I[1],_=Object(c.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return Gt.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(N.a)(Object(N.a)(Object(N.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var o=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),s=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(o||s){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(N.a)(Object(N.a)(Object(N.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}else{var o=a(e.adapterId);if(o)return n.push(Object(N.a)(Object(N.a)(Object(N.a)({},o),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(N.a)(Object(N.a)(Object(N.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(c.useEffect)((function(){i||o()}),[i,o]),Object(c.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(y(Qe.a.PENDING),d){var e=d.molochv3S[0],n=e.adapters,r=e.extensions,a=_(n,r),c=a.registeredList,o=a.unRegisteredList;h(c),E(o),y(Qe.a.FULFILLED)}else if(b)throw new Error(b.message)}catch(b){h(void 0),E(void 0),y(Qe.a.REJECTED)}}),[t,d,b,_]),{adapterExtensionStatus:w,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:f,unRegisteredAdaptersOrExtensions:v}}var Wt,Ht,zt,Yt,Kt=n(115);function qt(){var e=Object(ie.e)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString();return n===Wt.ADDRESS?function(t){try{return!!t&&(ke.a.utils.checkAddressChecksum(t,e)||ke.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===Wt.BYTES32?function(e){try{return!!e&&(66===e.length&&ke.a.utils.isHex(e))}catch(t){return!1}}(r):n===Wt.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&ke.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===Wt.UINT256?function(e){return!isNaN(Number(e))}(r):n!==Wt.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r)},getFormFieldError:function(e){return e===Wt.ADDRESS?Le.a.INVALID_ETHEREUM_ADDRESS:e===Wt.BYTES32?Le.a.INVALID_BYTES32:e===Wt.BYTES32_ARRAY?Le.a.INVALID_BYTES32_ARRAY:e===Wt.UINT256?Le.a.INVALID_NUMBER:e===Wt.UINT256_ARRAY?Le.a.INVALID_NUMBER_ARRAY:Le.a.REQUIRED},formatInputByType:function(e,t){return t===Wt.BYTES32_ARRAY?Array.from(e.split(",")):t===Wt.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===Wt.UINT256?Number(e):e}}}function Jt(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,a=e.adapterOrExtension,o=e.closeHandler,s=Object(u.c)((function(e){return e.contracts})).DaoRegistryContract,i=Object(c.useState)(),d=Object(Q.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Pe.e.STANDBY),O=Object(Q.a)(j,2),p=O[0],h=O[1],m=Object(c.useState)(Pe.e.STANDBY),x=Object(Q.a)(m,2),v=x[0],A=x[1],E=Object(ie.a)(),g=E.txError,I=E.txIsPromptOpen,w=E.txSend,y=E.txStatus,_=Object(ie.b)(),R=Object(ie.f)(),T=R.connected,C=R.account,D=qt(),S=D.isParamInputValid,k=D.getFormFieldError,P=D.formatInputByType,L=Vt().getAdapterOrExtensionFromRedux,M=Object(De.a)({mode:"onBlur",reValidateMode:"onChange"}),F=M.errors,B=M.formState,G=M.getValues,U=M.setValue,V=M.register,W=M.trigger,H=l||g,z=T&&C,Y=B.isValid,K=(y===Pe.e.AWAITING_CONFIRM||y===Pe.e.PENDING)&&(p===Pe.e.AWAITING_CONFIRM||p===Pe.e.PENDING),q=(y===Pe.e.AWAITING_CONFIRM||y===Pe.e.PENDING)&&(v===Pe.e.AWAITING_CONFIRM||v===Pe.e.PENDING),J=y===Pe.e.FULFILLED&&p===Pe.e.FULFILLED,X=y===Pe.e.FULFILLED&&v===Pe.e.FULFILLED,$=(K||J)&&I,Z=(q||X)&&I;function ee(){return(ee=Object(re.a)(ne.a.mark((function e(){var t,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,A(Pe.e.AWAITING_CONFIRM),t=[(null===a||void 0===a?void 0:a.isExtension)?null===a||void 0===a?void 0:a.extensionId:null===a||void 0===a?void 0:a.adapterId],n=Object(N.a)({from:C||""},_?{gasPrice:_.fast}:null),e.next=8,w((null===a||void 0===a?void 0:a.isExtension)?"removeExtension":"removeAdapter",s.instance.methods,t,n);case 8:A(Pe.e.FULFILLED),o&&setTimeout((function(){o()}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),b(e.t0),A(Pe.e.REJECTED);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function te(){return(te=Object(re.a)(ne.a.mark((function e(r){var c,o,s,i,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(Pe.e.PENDING),c=L(null===a||void 0===a?void 0:a.name),o=c.contractAddress,s=c.instance.methods,z){e.next=5;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 5:if(o){e.next=7;break}throw new Error("No ".concat(null===a||void 0===a?void 0:a.name," contract found."));case 7:if(C){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(r).find((function(t){return t[0]===e.name}));if(t){var n=P(t[1],e.type);i.push(n)}})),u=Object(N.a)({from:C||""},_?{gasPrice:_.fast}:null),h(Pe.e.AWAITING_CONFIRM),e.next=15,w(n,s,i,u);case 15:h(Pe.e.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),b(e.t0),h(Pe.e.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":F[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return U(e.name[0],G()[e.name])},ref:V({validate:function(t){return""===t?Le.a.REQUIRED:!!S(t,e.type)||k(e.type)}}),disabled:$}),Object(r.jsx)(We,{error:Object(f.f)(e.name,F),id:"error-".concat(e.name)})]})]},e.name)})),Object(r.jsx)("button",{className:"button",disabled:$||Z,onClick:function(){$||(Y?function(e){te.apply(this,arguments)}(G()):W())},type:"submit",children:K?Object(r.jsx)(ze.a,{}):J?"Done":"Submit"}),H&&4001!==H.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ue.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:H})}),Object(r.jsxs)("div",{className:"adapter-extension__remove",children:[Object(r.jsx)("p",{children:"Delete this adapter. Once you delete this adapter, it can be re-added if the DAO isn't finalized."}),Object(r.jsx)("button",{className:"button--secondary",disabled:Z||$,onClick:function(){return ee.apply(this,arguments)},children:q?Object(r.jsx)(ze.a,{}):X?"Done":"Remove"})]})]})}function Qt(e){var t=e.abiMethodName,n=e.adapterOrExtension,a=e.configurationInputs,c=e.isOpen,o=e.closeHandler;return Object(r.jsx)(le,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:c,isOpenHandler:function(){o()},children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){o()},children:Object(r.jsx)(be.a,{})}),Object(r.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(r.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(r.jsx)(Jt,{abiConfigurationInputs:a,abiMethodName:t,adapterOrExtension:n,closeHandler:o})]})})}function Xt(e){var t=e.adapterOrExtension,n=e.defaultTarget,a=e.renderActions,o=e.renderCheckboxAction,s=Object(c.useState)(n||null),i=Object(Q.a)(s,2),u=i[0],d=i[1],l=Object(c.useState)({}),b=Object(Q.a)(l,2),j=b[0],O=b[1];return Object(r.jsxs)(r.Fragment,{children:[o({selectedTargetOption:u}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(r.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;d(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));O(r)},children:[Object(r.jsxs)("option",{value:"",disabled:null!==u,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(r.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(r.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(a){console.warn(a)}}(u)]}),a({selectedTargetOption:u,selectedTargetOptionProps:j})]})}function $t(e){var t=e.size,n=Object(A.a)(e,["size"]);return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(r.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(r.jsx)("span",{className:"checkbox-box ".concat(t||Ht.SMALL)}),Object(r.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}function Zt(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,a=Object(c.useState)(""),o=Object(Q.a)(a,2),s=o[0],i=o[1],d=Object(c.useState)(),l=Object(Q.a)(d,2),b=l[0],j=l[1],O=Object(c.useState)(),p=Object(Q.a)(O,2),h=p[0],m=p[1],x=Object(c.useState)(),v=Object(Q.a)(x,2),A=v[0],E=v[1],g=Object(c.useState)(),I=Object(Q.a)(g,2),w=I[0],y=I[1],_=Object(c.useState)(!1),R=Object(Q.a)(_,2),T=R[0],C=R[1],D=Object(c.useState)(!1),S=Object(Q.a)(D,2),k=S[0],P=S[1],L=Object(c.useState)(0),M=Object(Q.a)(L,2),F=M[0],B=M[1],G=Object(c.useState)(),U=Object(Q.a)(G,2),V=U[0],W=U[1],H=Object(c.useState)(),z=Object(Q.a)(H,2),Y=z[0],K=z[1],q=Object(c.useState)(),J=Object(Q.a)(q,2),X=J[0],$=J[1],Z=Object(c.useState)(),ee=Object(Q.a)(Z,2),te=ee[0],ae=ee[1],ce=Object(ie.f)().account,oe=Vt(),se=oe.adapterExtensionStatus,ue=oe.getAdapterOrExtensionFromRedux,de=oe.registeredAdaptersOrExtensions,le=oe.unRegisteredAdaptersOrExtensions,be=Object(Kt.c)(),je=be.dao,Oe=be.gqlError,fe=Object(ie.a)().txSend,pe=Object(ie.b)(),he=Object(Kt.e)(),me=he.isDisabled,xe=he.openWhyDisabledModal,ve=he.setOtherDisabledReasons,Ne=he.WhyDisabledModal,Ae=je,Ee=b===lt.a.READY,ge=se===Qe.a.REJECTED&&void 0===de&&void 0===le,Ie=se===Qe.a.PENDING,we=Object(c.useCallback)((function(){return ye.apply(this,arguments)}),[t,null===je||void 0===je?void 0:je.name,ve]);function ye(){return(ye=Object(re.a)(ne.a.mark((function e(){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===je||void 0===je?void 0:je.name," is already finalized"),e.next=6,Object(lt.g)(t.instance);case 6:r=e.sent,j(r),r===lt.a.READY&&ve([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function _e(e){new Promise((function(t,n){try{t(ue(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Te(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function Re(e){new Promise((function(t,n){try{t(ue(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Te(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function Te(e,t,n){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(re.a)(ne.a.mark((function e(n,r,a){var c,o,s,i,u,d,l;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(void 0),t){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,$((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Pt.a)({},r,!0))})),n){e.next=7;break}throw new Error("".concat(a," address must not be empty"));case 7:return c=Lt(r),o=Ft(r),s=o.acl,i="ADAPTER"===a?[c,n,s]:[c,n,ce],u=Object(N.a)({from:ce||""},pe?{gasPrice:pe.fast}:null),d="ADAPTER"===a?"addAdapter":"addExtension",e.next=14,fe(d,t.instance.methods,i,u);case 14:$((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Pt.a)({},r,!1))})),m((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Pt.a)({},r,!0))})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),$((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Pt.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),y(l);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function De(){return(De=Object(re.a)(ne.a.mark((function e(){var t,r,a,c,o,s,i,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:for(a in e.prev=3,t=[],r=function(e){if(V[e]){var n=Gt.filter((function(t){return t.name===e}))[0].adapterId,r=ue(e).contractAddress,a=Ft(e).acl;n&&t.push([n,r,a]),$((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(Pt.a)({},e,!0))}))}},V)r(a);return c=[null===je||void 0===je?void 0:je.daoAddress,t],o=Object(N.a)({from:ce||""},pe?{gasPrice:pe.fast}:null),e.next=11,fe("addAdapters",n.instance.methods,c,o);case 11:e.next=20;break;case 13:for(u in e.prev=13,e.t0=e.catch(3),s=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),y(s),Pe(!1),i=function(e){$((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(Pt.a)({},e,!1))}))},V)i(u);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Se(){return(Se=Object(re.a)(ne.a.mark((function e(t){var n,r,a,c,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(void 0);try{n=Mt()[t.name],r=ue(t.name),a=r.abi,c=a.filter((function(e){return e.name===n}))[0].inputs,i(n),K(t),E(c),C(!0)}catch(s){o=new Error(s&&4001===(null===s||void 0===s?void 0:s.code)?s.message:"".concat(t.name," contract not found")),y(o)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.alert("Sorry, finalizing isn't ready yet!");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){P(e);var t=function(t){W((function(n){return Object(N.a)(Object(N.a)({},n),{},Object(Pt.a)({},t,e))}))};for(var n in V)t(n)}return Object(c.useEffect)((function(){we()}),[we,t]),Object(c.useEffect)((function(){P(!1),le&&le&&(null===le||void 0===le||le.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&W((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(Pt.a)({},e.name,!1))}))})))}),[me,le]),Object(c.useEffect)((function(){V&&B(Object.values(V).filter((function(e){return!0===e})).length)}),[V]),Object(r.jsxs)("div",{className:"adaptermanager",children:[Object(r.jsx)("h2",{children:"Adapter/Extension Manager"}),!je&&Oe?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(Ue.a,{error:Oe,renderText:"Something went wrong"})):je?Object(r.jsxs)("h3",{children:[je.name," ",Object(r.jsx)("small",{children:Object(f.i)(je.daoAddress,7)})]}):void 0,w?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(Ue.a,{error:w,renderText:"Something went wrong"})):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(r.jsxs)("div",{className:"adapter-extension__selection",children:[Object(r.jsx)("div",{children:Object(r.jsx)($t,{id:"selectAll",label:"".concat(F," selected"),checked:!0===k,disabled:ge||me||0===(null===le||void 0===le?void 0:le.length)||!Ae,name:"selectAll",size:Ht.LARGE,onChange:function(e){Pe(e.target.checked)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary",disabled:0===F||me,onClick:function(){return De.apply(this,arguments)},children:"Add selected"})})]}),Ie&&Object(r.jsx)(ze.a,{text:"Loading data from subgraph..."}),ge&&Object(r.jsx)("p",{children:"No adapters available"}),Ae&&le&&(null===le||void 0===le?void 0:le.length)>0&&le.map((function(e,t){return Object(r.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(r.jsx)(Xt,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)($t,{id:n||"empty",label:"",checked:n&&V&&!0===V[n]||!1,disabled:me||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:Ht.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;W((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Pt.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:null===t||X&&X[n.name]||me,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?Re(n):_e(n)},children:X&&X[n.name]?Object(r.jsx)(ze.a,{}):h&&h[n.name]?"Done":"Add"})})})}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)($t,{id:e.name,label:"",checked:V&&!0===V[e.name]||!1,disabled:me,name:e.name,size:Ht.LARGE,onChange:function(t){W((function(n){return Object(N.a)(Object(N.a)({},n),{},Object(Pt.a)({},e.name,t.target.checked))}))}})}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:X&&X[e.name]||me,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?Re(e):_e(e)},children:X&&X[e.name]?Object(r.jsx)(ze.a,{}):h&&h[e.name]?"Done":"Add"})})]})},t)})),Ae&&de&&(null===de||void 0===de?void 0:de.length)>0&&de.map((function(e,t){return Object(r.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__configure",children:Object(r.jsx)("button",{className:"button--secondary",disabled:me||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return Se.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),me&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){xe(),ae(zt.CONFIGURATION_REASON)},children:zt.CONFIGURATION_REASON})}),Object(r.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(r.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary finalize",disabled:ge||!Ae||Ee,onClick:function(){window.confirm("Do you really want to finalize this DAO?")&&function(){ke.apply(this,arguments)}()},children:"Finalize Dao"})}),me&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){xe(),ae(zt.FINALIZED_REASON)},children:zt.FINALIZED_REASON})}),Object(r.jsx)(Ne,{title:te})]}),T&&Object(r.jsx)(Qt,{abiMethodName:s,adapterOrExtension:Y,configurationInputs:A,isOpen:T,closeHandler:function(){C(!1)}})]})}function en(){var e=Object(z.h)().ethereumAddress,t=Object(z.f)(),n=Dt.find((function(t){return t.address.toLowerCase()===e.toLowerCase()}));return Object(c.useEffect)((function(){n||t.push("/404")}),[t,n]),n?Object(r.jsx)(tn,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"memberprofile__left-column",children:[Object(r.jsx)("h3",{children:Object(f.i)(n.address,7)}),Object(r.jsx)(Zt,{})]}),Object(r.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile @todo"})]})]})}):Object(r.jsx)(r.Fragment,{})}function tn(e){var t=Object(z.f)();return Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function nn(){return Object(r.jsx)(z.c,{children:[Object(r.jsx)(z.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(Te,{})}},"splash"),Object(r.jsx)(z.a,{exact:!0,path:"/join",render:function(){return Object(r.jsx)(Ye,{})}},"join"),Object(r.jsx)(z.a,{exact:!0,path:"/membership",render:function(){return Object(r.jsx)(qe,{})}},"membership"),Object(r.jsx)(z.a,{exact:!0,path:"/membership/:proposalId",render:function(){return Object(r.jsx)(ot,{})}},"membership-details"),Object(r.jsx)(z.a,{exact:!0,path:"/transfer",render:function(){return Object(r.jsx)(jt,{})}},"transfer"),Object(r.jsx)(z.a,{exact:!0,path:"/transfers",render:function(){return Object(r.jsx)(ft,{})}},"transfers"),Object(r.jsx)(z.a,{exact:!0,path:"/transfers/:proposalId",render:function(){return Object(r.jsx)(ht,{})}},"transfer-details"),Object(r.jsx)(z.a,{exact:!0,path:"/tribute",render:function(){return Object(r.jsx)(xt,{})}},"tribute"),Object(r.jsx)(z.a,{exact:!0,path:"/tributes",render:function(){return Object(r.jsx)(Nt,{})}},"tributes"),Object(r.jsx)(z.a,{exact:!0,path:"/tributes/:proposalId",render:function(){return Object(r.jsx)(Et,{})}},"tribute-details"),Object(r.jsx)(z.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(r.jsx)(It,{})}},"governance-proposal"),Object(r.jsx)(z.a,{exact:!0,path:"/governance-proposals",render:function(){return Object(r.jsx)(yt,{})}},"governance-proposals"),Object(r.jsx)(z.a,{exact:!0,path:"/governance-proposals/:proposalId",render:function(){return Object(r.jsx)(Rt,{})}},"governance-proposal-details"),Object(r.jsx)(z.a,{exact:!0,path:"/members",render:function(){return Object(r.jsx)(St,{})}},"members"),Object(r.jsx)(z.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(r.jsx)(en,{})}},"member-profile"),Object(r.jsx)(z.a,{component:Xe},"no-match")]})}function rn(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ie,{}),Object(r.jsx)(Ee,{}),Object(r.jsx)("main",{children:Object(r.jsx)(nn,{})}),Object(r.jsx)(H,{})]})}function an(e){var t=e.render,n=Object(u.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(c.useState)(),a=Object(Q.a)(r,2),o=a[0],s=a[1],i=Object(c.useState)(!1),d=Object(Q.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Object(Pt.a)({},Yt.initSnapshotAPI,Qe.a.STANDBY)),O=Object(Q.a)(j,2),f=O[0],h=O[1],m=Object(ie.c)(),x=Object(ie.f)(),v=x.account,A=x.connected,E=x.provider,g=x.web3Instance,I=Object(ie.e)().defaultChainError,w=Object(Kt.d)().isMountedRef,_=Object(u.b)(),R=Object(c.useCallback)((function(){return S.apply(this,arguments)}),[m]),T=Object(c.useCallback)((function(e,t){return k.apply(this,arguments)}),[_]),C=Object(c.useCallback)((function(){return D.apply(this,arguments)}),[w]);function D(){return(D=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p.x){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(Ce.getApiStatus)(p.x);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(w.current){e.next=11;break}return e.abrupt("return");case 11:h((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Pt.a)({},Yt.initSnapshotAPI,Qe.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),w.current){e.next=18;break}return e.abrupt("return");case 18:s(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function S(){return(S=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),s(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function k(){return(k=Object(re.a)(ne.a.mark((function e(t,n){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(Object(y.o)(t,n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),s(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){b(Object.values(f).every((function(e){return e===Qe.a.FULFILLED})))}),[f]),Object(c.useEffect)((function(){A&&E&&g&&R()}),[A,R,E,g]),Object(c.useEffect)((function(){A&&v&&n&&T(v,n)}),[v,A,n,T]),Object(c.useEffect)((function(){s(I)}),[I]),Object(c.useEffect)((function(){C()}),[C]),t({error:o,isInitComplete:l})}function cn(e){var t=e.error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ee,{}),Object(r.jsx)(_e,{className:"section-wrapper",children:Object(r.jsx)("main",{children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(r.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(r.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(r.jsx)(Ue.a,{error:t,renderText:""})})]})})})]})}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(Wt||(Wt={})),function(e){e.LARGE="large",e.SMALL="small"}(Ht||(Ht={})),function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(zt||(zt={})),function(e){e.initSnapshotAPI="initSnapshotAPI"}(Yt||(Yt={}));var on=n(201),sn=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,970)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},un=(n(944),document.getElementById("root"));"production"===p.i&&Object(f.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var dn=new b.ApolloClient({uri:p.n,cache:new b.InMemoryCache({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}}}})});null!==un&&i.a.render(Object(r.jsx)(u.a,{store:W,children:Object(r.jsx)(d.a,{children:Object(r.jsx)(on.b,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:O.a,options:{infuraId:p.q,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:h.a.LIGHT,children:Object(r.jsx)(l.ApolloProvider,{client:dn,children:Object(r.jsx)(an,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(r.jsx)(cn,{error:t}):n?Object(r.jsx)(rn,{}):null}})})})})}),un),sn()}},[[945,1,2]]]);
//# sourceMappingURL=main.5e1b99d3.chunk.js.map