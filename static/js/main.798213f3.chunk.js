(this["webpackJsonptribute-ui"]=this["webpackJsonptribute-ui"]||[]).push([[3],{10:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(192);function c(){return Object(r.useContext)(a.a)}},109:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p}));var r,a,c,s=n(139),o=n(138),i=Object(o.a)(r||(r=Object(s.a)(["\n  query GetDao($id: ID) {\n    tributeDaos(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalUnits\n    }\n  }\n"]))),u=Object(o.a)(a||(a=Object(s.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    tributeDaos(where: {daoAddress: $daoAddress}) {\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]))),d=Object(o.a)(c||(c=Object(s.a)(["\n  query GetMembers($daoAddress: String) {\n    tributeDaos(where: {daoAddress: $daoAddress}) {\n      members(orderBy: createdAt, orderDirection: desc) {\n        createdAt\n        address: memberAddress\n        delegateKey\n        isDelegated\n        units\n        didFullyRagequit\n      }\n    }\n  }\n"]))),l=n(417),b=n(18),j=n(97);function p(e){return Object(l.a)((function(t){var n=t.networkError;n&&(e.getState().subgraphNetworkStatus.status!==j.a.ERR&&(e.dispatch(Object(b.R)({status:j.a.ERR})),console.error("[Subgraph network error]: ".concat(n))));n||e.getState().subgraphNetworkStatus.status!==j.a.OK&&e.dispatch(Object(b.R)({status:j.a.OK}))}))}},12:function(e,t,n){"use strict";var r,a,c;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.COUPON_ONBOARDING="coupon-onboarding",e.DAO_REGISTRY="daoRegistry",e.DISTRIBUTE="distribute",e.EXECUTION="execution",e.FINANCING="financing",e.GUILDKICK="guildkick",e.MANAGING="managing",e.NFT="nft",e.NONVOTING_ONBOARDING="nonvoting-onboarding",e.OFFCHAINVOTING="offchainvoting",e.ONBOARDING="onboarding",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.TRIBUTE_NFT="tribute-nft",e.VOTING="voting"}(r||(r={})),function(e){e.BANK="bank",e.ERC20="erc20-ext",e.NFT="nft"}(a||(a={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(c||(c={}))},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return N}));var r,a,c=n(2),s=n.n(c),o=n(8),i=n(4),u=n(3),d=n(1),l=n(15),b=n(59),j=n.n(b),p=n(415),f=n.n(p),O=n(9),h=n(18),m=n(25),v="WEB3_CONNECT_CACHED_PROVIDER";function x(e,t){var n=t.type,r=t.payload;switch(n){case a.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case a.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case a.UPDATE:var c=r.provider,s=r.networkId,o=r.account,i=r.connected,d=r.web3Instance;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===c?{}:{provider:c}),void 0===s?{}:{networkId:s}),void 0===o?{}:{account:o}),void 0===i?{}:{connected:i}),void 0===d?{}:{web3Instance:d});case a.UPDATE_FROM_ERROR:var l=r.provider,b=r.networkId,j=r.account;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===l?{}:{provider:l}),void 0===b?{}:{networkId:b}),void 0===j?{}:{account:j}),{},{error:void 0});case a.ERROR:var p=r.error;return{provider:e.provider,error:p};case a.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case a.DEACTIVATE_PROVIDER:return{}}}function N(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(d.useReducer)(x,{}),b=Object(i.a)(c,2),p=b[0],N=b[1],g=n,E=t||O.k,A=Object(d.useCallback)(y,[p.web3Modal]),w=Object(d.useCallback)((function(){switch(E){case m.b.GOERLI:return m.c.GOERLI;case m.b.KOVAN:return m.c.KOVAN;case m.b.RINKEBY:return m.c.RINKEBY;case m.b.ROPSTEN:return m.c.ROPSTEN;case m.b.MAINNET:default:return m.c.MAINNET}}),[E]),I=Object(l.b)();function y(e){return C.apply(this,arguments)}function C(){return(C=Object(o.a)(s.a.mark((function e(t){var n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,p.web3Modal.connectTo(t);case 5:return T(n=e.sent),r=new j.a(n),e.next=10,r.eth.getAccounts();case 10:return c=e.sent,e.next=13,r.eth.net.getId();case 13:o=e.sent,N({type:a.UPDATE,payload:{account:c[0],connected:!0,provider:n,networkId:o,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function _(){return(_=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!p.provider.close){e.next=4;break}return e.next=4,p.provider.close();case 4:if(e.t0=p.web3Modal,!e.t0){e.next=8;break}return e.next=8,p.web3Modal.clearCachedProvider();case 8:N({type:a.DEACTIVATE_PROVIDER}),I(Object(h.v)()),e.next=15;break;case 12:e.prev=12,e.t1=e.catch(0),console.error(e.t1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function T(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){N({type:a.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),N({type:a.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,A(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=p.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=p.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(d.useEffect)((function(){p.web3Modal||N({type:a.INIT_WEB3MODAL,payload:{web3Modal:new f.a({cacheProvider:!0,network:w(),providerOptions:r,theme:g})}})}),[w,r,g,p.web3Modal]),Object(d.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,A(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p.web3Modal&&localStorage.getItem(v)&&function(t){e.apply(this,arguments)}(p.web3Modal.cachedProvider)}),[A,p.web3Modal]),Object(u.a)(Object(u.a)({},p),{},{onConnectTo:y,onDisconnect:function(){return _.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(a||(a={}))},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return P})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return B}));var r=n(2),a=n.n(r),c=n(3),s=n(8),o=n(4),i=n(1),u=n(15),d=n(20),l=n(5),b=n(9),j=n(31),p=n(48),f=n(14),O=n(64),h=n(53),m=n(17),v=n(73),x=n(30),N=n(60),g=n(21),E=n(44),A=n(0);function w(e){var t,n=e.adapterName,r=e.proposal,w=r.daoProposalVotingAdapter,I=r.snapshotProposal,y=Object(i.useState)(l.f.STANDBY),C=Object(o.a)(y,2),_=C[0],T=C[1],D=Object(i.useState)(),R=Object(o.a)(D,2),k=R[0],S=R[1],P=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),F=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),L=Object(u.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi.find((function(e){return"getPriorAmount"===e.name}))})),M=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),B=null===(t=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})))||void 0===t?void 0:t.find((function(e){return"getMemberAddress"===e.name})),G=Object(u.c)((function(e){return e.contracts})),V=Object(m.e)(),U=V.account,Y=V.provider,z=V.web3Instance,W=Object(m.a)(),H=W.txEtherscanURL,K=W.txIsPromptOpen,q=W.txSend,J=W.txStatus,Q=Object(h.e)(),X=Q.isDisabled,$=Q.openWhyDisabledModal,Z=Q.WhyDisabledModal,ee=Object(m.b)(),te=null===w||void 0===w?void 0:w.getWeb3VotingAdapterContract().methods,ne=_===l.f.AWAITING_CONFIRM||_===l.f.PENDING||J===l.f.AWAITING_CONFIRM||J===l.f.PENDING,re=J===l.f.FULFILLED&&_===l.f.FULFILLED,ae=ne||re||K;function ce(){return(ce=Object(s.a)(a.a.mark((function e(){var t,r,s,o,i,u,h,m,v,x,N,g,E,A,w,y,C,_,D,R,k;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(P){e.next=5;break}throw new Error("No Bank Extension address was found.");case 5:if(B){e.next=7;break}throw new Error("No ABI for `getMemberAddress` was found.");case 7:if(L){e.next=9;break}throw new Error("No ABI for `getPriorAmount` was found.");case 9:if(I){e.next=11;break}throw new Error("No Snapshot proposal was found.");case 11:if(I.votes){e.next=13;break}throw new Error("No Snapshot proposal votes Array was found.");case 13:if(te){e.next=15;break}throw new Error('No "OffchainVotingContract" methods were found.');case 15:return T(l.f.AWAITING_CONFIRM),r=I.idInDAO,s=I.msg.payload.snapshot.toString(),o=Object(j.d)(n,G),e.next=21,F.getPriorAmount(b.F,b.x,s).call();case 21:return i=e.sent,u=Object(f.h)(Number(i)-1,0).map((function(e){return[M,B,[e.toString()]]})),e.next=25,Object(j.j)({calls:u,web3Instance:z});case 25:return h=e.sent,m=h.map((function(e){return[P,L,[e,b.I,s]]})),e.next=29,Object(j.j)({calls:m,web3Instance:z});case 29:return v=e.sent,x=h.map((function(e,t){var n,a=Object.values((null===(n=I.votes)||void 0===n?void 0:n.find((function(t){return Object(f.g)(e)===Object(f.g)(Object.values(t)[0].msg.payload.metadata.memberAddress)})))||{})[0];return Object(d.createVote)({proposalId:r,sig:(null===a||void 0===a?void 0:a.sig)||"0x",timestamp:a?Number(a.msg.timestamp):0,voteYes:(null===a||void 0===a?void 0:a.msg.payload.choice)===d.VoteChoicesIndex.Yes,weight:a?v[t]:"0"})})),e.next=33,Object(d.prepareVoteResult)({actionId:o,chainId:b.k,daoAddress:M,votes:x});case 33:return N=e.sent,g=N.voteResultTree,E=N.result,A=g.getHexRoot(),w=Object(d.getVoteResultRootDomainDefinition)(M,o,b.k),y=w.domain,C=w.types,_=JSON.stringify({domain:y,message:{root:A},primaryType:O.a,types:C}),e.next=41,Object(d.signMessage)(Y,U,_);case 41:return D=e.sent,e.next=44,Object(p.a)(A);case 44:if(e.t2=t=e.sent,e.t1=null===e.t2,e.t1){e.next=48;break}e.t1=void 0===t;case 48:if(!e.t1){e.next=52;break}e.t3=void 0,e.next=53;break;case 52:e.t3=t.merkle_root.length;case 53:if(e.t0=e.t3,e.t0){e.next=56;break}e.t0="";case 56:if(e.t4=e.t0,e.t4>0){e.next=61;break}return e.next=61,Object(p.f)({actionId:o,chainId:b.k,steps:E,merkleRoot:A,verifyingContract:M});case 61:return T(l.f.FULFILLED),R=[M,r,A,E[E.length-1],D],k=Object(c.a)({from:U||""},ee?{gasPrice:ee.fast}:null),e.next=66,q("submitVoteResult",te,R,k);case 66:e.next=72;break;case 68:e.prev=68,e.t5=e.catch(0),S(e.t5),T(l.f.REJECTED);case 72:case"end":return e.stop()}}),e,null,[[0,68]])})))).apply(this,arguments)}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{className:"proposaldetails__button",disabled:X||ae,onClick:X||ae?function(){}:function(){return ce.apply(this,arguments)},children:ne?Object(A.jsx)(E.a,{}):re?"Done":"Submit Vote Result"}),Object(A.jsx)(x.a,{error:k,renderText:"Something went wrong"}),ae&&Object(A.jsx)("div",{className:"form__submit-status-container",children:function(){if(J===l.f.AWAITING_CONFIRM||_===l.f.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(J){case l.f.PENDING:return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(v.a,{intervalMs:2e3,messages:O.b,useFirstItemStart:!0,render:function(e){return Object(A.jsx)(g.a,{children:e},e)}}),Object(A.jsx)(N.a,{url:H,isPending:!0})]});case l.f.FULFILLED:return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{children:"Result submitted!"}),Object(A.jsx)(N.a,{url:H})]});default:return null}}()}),X&&Object(A.jsx)("button",{className:"button--help-centered",onClick:$,children:"Why is submitting disabled?"})]}),Object(A.jsx)(Z,{title:"Why is this disabled?"})]})}var I=n(49);function y(e){var t,n,r,b=e.adapterName,j=e.proposal,f=Object(i.useState)(),O=Object(o.a)(f,2),v=O[0],N=O[1],g=Object(i.useState)(),E=Object(o.a)(g,2),w=E[0],y=E[1],C=Object(i.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),_=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),T=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isAddressDelegated})),D=Object(m.e)().account,R=Object(I.f)(),k=R.signAndSendVote,S=R.voteDataStatus,P=Object(p.b)(null===(t=j.snapshotProposal)||void 0===t?void 0:t.votes,D||""),F=Object(h.e)(),L=F.isDisabled,M=F.openWhyDisabledModal,G=F.setOtherDisabledReasons,V=F.WhyDisabledModal,U=(null===(n=j.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",Y=(null===(r=j.snapshotProposal)||void 0===r?void 0:r.idInSnapshot)||"",z=S===l.f.AWAITING_CONFIRM||S===l.f.PENDING,W=S===l.f.FULFILLED,H=L||(z||W),K=z?v:void 0;function q(){return(q=Object(s.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(Y){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return N(d.VoteChoices[t]),e.next=8,k(Object(c.a)(Object(c.a)({},b?{adapterName:b}:void 0),{},{partialVoteData:{choice:t},proposalIdInDAO:U,proposalIdInSnapshot:Y}));case 8:return e.next=10,j.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),y(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(i.useEffect)((function(){if(_){var e=T?"Your member address is delegated to ".concat(_,". You must use that address to vote."):"";C.current=Object(c.a)(Object(c.a)({},C.current),{},{addressIsDelegatedMessage:e})}C.current=Object(c.a)(Object(c.a)({},C.current),{},{alreadyVotedMessage:P?"You have already voted.":""}),G(Object.values(C.current))}),[_,T,G,P]),Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(B,{onClick:H?function(){}:function(e){return q.apply(this,arguments)},buttonProps:{disabled:H,"aria-disabled":H},voteChosen:P,voteProgress:K}),Object(A.jsx)(x.a,{error:w,renderText:"Something went wrong"}),L&&Object(A.jsx)("button",{className:"button--help-centered",onClick:M,children:"Why is voting disabled?"}),Object(A.jsx)(V,{title:"Why is voting disabled?"})]})}var C=n(58);function _(e){var t=e.startLabel,n=e.startPeriodMs,r=e.endLabel,a=e.endedLabel,c=e.endPeriodMs,s=Object(i.useState)(null),u=Object(o.a)(s,2),d=u[0],l=u[1],b=Object(i.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),r=n.days,a=n.hours,c=n.minutes,s=n.seconds;return r>2&&t?"~".concat(r," days"):r>0?"".concat(j(r,"day")," : ").concat(j(a,"hr")," : ").concat(j(c,"min")):a>0?"".concat(j(a,"hr")," : ").concat(j(c,"min")):c>0?"".concat(j(c,"min")," : ").concat(j(s,"sec")):Object(A.jsx)("span",{className:"color-brightsalmon",children:j(s,"sec")})}),[]);function j(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(i.useEffect)((function(){var e=setInterval((function(){var s=new Date,o=new Date(n),i=new Date(c);if(s<o){var u=Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(A.jsx)("span",{className:"votingstatus__timer",children:b(o,!0)})]});l(u)}else if(s<i){var d=Object(A.jsxs)("span",{children:[Object(A.jsx)("span",{className:"votingstatus",children:r||"Ends:"})," ",Object(A.jsx)("span",{className:"votingstatus__timer",children:b(i)})]});l(d)}else{l(Object(A.jsx)("span",{className:"votingstatus",children:a||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[b,r,c,a,t,n]),Object(A.jsx)("div",{children:d})}function T(e){return Object(A.jsxs)("svg",Object(c.a)(Object(c.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(A.jsx)("defs",{children:Object(A.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(A.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(A.jsxs)("g",{id:"Group-70",children:[Object(A.jsx)("mask",{id:"mask-2",fill:"white",children:Object(A.jsx)("use",{xlinkHref:"#path-1"})}),Object(A.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function D(e){var t=e.hasVotingEnded,n=e.noUnits,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,s=void 0===c||c,o=e.totalUnits,i=e.yesUnits,u=r();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{className:"votingstatus-container",children:[Object(A.jsx)(T,{"aria-label":"Counting down until voting ends",role:"img"}),u&&Object(A.jsx)("span",{className:"votingstatus",children:u}),a(_)]}),Object(A.jsx)(M,{yesUnits:i,noUnits:n,totalUnits:o,votingExpired:t,showPercentages:s})]})}var R=Object(A.jsxs)("span",{children:["Grace period ends:",Object(A.jsx)("br",{})]}),k=Object(A.jsxs)("span",{children:["Grace period ended ",Object(A.jsx)("br",{})," ",Object(A.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),S={duration:150};function P(e){var t,n,r,a=e.countdownGracePeriodStartMs,c=e.proposal,s=e.votingResult,d=c.snapshotProposal,b=Object(u.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),p=Object(i.useState)(),f=Object(o.a)(p,2),O=f[0],h=f[1],m=Object(i.useState)(0),v=Object(o.a)(m,2),x=v[0],N=v[1],g=Object(I.h)(null===(t=c.snapshotProposal)||void 0===t?void 0:t.msg.payload.start,null===(n=c.snapshotProposal)||void 0===n?void 0:n.msg.payload.end),E=g.hasVotingTimeStarted,w=g.hasVotingTimeEnded,y=g.votingTimeStartEndInitReady,_=Object(I.a)(s?void 0:c.snapshotProposal).offchainVotingResults,T=s||(null===(r=_[0])||void 0===r?void 0:r[1]),P=(null===d||void 0===d?void 0:d.msg.payload.start)||0,F=(null===d||void 0===d?void 0:d.msg.payload.end)||0,L=(null===T||void 0===T?void 0:T.Yes.units)||0,M=(null===T||void 0===T?void 0:T.No.units)||0,B=null===T||void 0===T?void 0:T.totalUnits;return Object(i.useEffect)((function(){w&&h(L>M)}),[w,M,L]),Object(i.useEffect)((function(){a&&b&&Object(j.f)(l.b.offchainVotingGracePeriod,b).then((function(e){return e&&N(1e3*Number(e))})).catch((function(){return N(0)}))}),[a,b]),Object(A.jsx)(D,{renderTimer:function(e){return y&&E&&!w?Object(A.jsx)(e,{startPeriodMs:1e3*P,endPeriodMs:1e3*F}):a&&x?Object(A.jsx)(e,{startPeriodMs:a,endLabel:R,endedLabel:k,endPeriodMs:a+x}):void 0},renderStatus:function(){return y?a?"":"boolean"===typeof O?O?"Approved":"Failed":void 0:Object(A.jsx)(C.a,{ariaLabel:"Getting off-chain voting status",intervalMs:200,fadeInProps:S})},hasVotingEnded:w,noUnits:M,totalUnits:B,yesUnits:L})}function F(e){return Object(A.jsx)("svg",Object(c.a)(Object(c.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(A.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function L(e,t){return(e/t*100).toFixed(0)}function M(e){var t=e.yesUnits,n=void 0===t?0:t,r=e.noUnits,a=void 0===r?0:r,c=e.totalUnits,s=e.votingExpired,o=e.showPercentages,i=c?L(n,c):"0",u=c?L(a,c):"0";return Object(A.jsxs)("div",{className:"votingbar-container",children:[Object(A.jsxs)("div",{className:"votingbar",children:[Object(A.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(i,"% yes votes"),style:{width:"".concat(i,"%")}}),Object(A.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(u,"% no votes"),style:{width:"".concat(u,"%")}})]}),Object(A.jsx)("div",{className:"votingbar__percentages",children:o&&Object(A.jsxs)(A.Fragment,{children:[s&&n>a&&Object(A.jsx)("span",{className:"yes-check",children:Object(A.jsx)(F,{"aria-label":"Vote has passed"})}),Object(A.jsxs)("span",{className:"yes-percent",children:[i,"%"]}),Object(A.jsxs)("span",{className:"no-percent",children:[u,"%"]}),s&&n<=a&&Object(A.jsx)("span",{className:"no-check",children:Object(A.jsx)(F,{"aria-label":"Vote has failed"})})]})})]})}function B(e){var t=e.buttonProps,n=e.onClick,r=e.voteChosen,a=e.voteProgress,s=function(e){return r===e?"votingbutton--voted":""};function o(e){return a===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function i(e){return a===e?Object(A.jsx)(E.a,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):r===e?"Voted ".concat(e):"Vote ".concat(e)}function u(e){return function(){n(e)}}return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("button",Object(c.a)(Object(c.a)(Object(c.a)({},t),o(d.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(s(d.VoteChoices.Yes)),onClick:u(d.VoteChoices.Yes),children:i(d.VoteChoices.Yes)})),Object(A.jsx)("button",Object(c.a)(Object(c.a)(Object(c.a)({},t),o(d.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(s(d.VoteChoices.No)),onClick:u(d.VoteChoices.No),children:i(d.VoteChoices.No)}))]})}},14:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return j})),n.d(t,"j",(function(){return p.a}));var a=n(4);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),s=c[0],o=c[1];t[s]="function"===typeof o?e:null}}function s(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function o(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=n(33);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e+1-t;return Object(l.a)(Array(n)).map((function(e,n){return t+n}))}var j=function(e){return e.toString().replace(/,/g,"")};var p=n(182);n(23)},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return f}));var r,a=n(2),c=n.n(a),s=n(3),o=n(8),i=n(4),u=n(1),d=n(15),l=n(23),b=n(9),j=n(17),p=n(18);function f(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(d.c)((function(e){return e.contracts.CouponOnboardingContract})),n=Object(u.useState)(),a=Object(i.a)(n,2),f=a[0],O=a[1],h=Object(u.useState)(r.STANDBY),m=Object(i.a)(h,2),v=m[0],x=m[1],N=Object(j.b)(),g=Object(j.e)(),E=g.account,A=g.web3Instance,w=Object(j.d)().defaultChainError,I=Object(j.a)(),y=I.txError,C=I.txEtherscanURL,_=I.txIsPromptOpen,T=I.txSend,D=I.txStatus,R=Object(d.b)();function k(){return(k=Object(o.a)(c.a.mark((function n(a,o){var i,u,d;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!w){n.next=3;break}throw new Error("Wrong network connected.");case 3:if(a){n.next=5;break}throw new Error("No coupon data was found.");case 5:if(E){n.next=7;break}throw new Error("No account found.");case 7:if(e){n.next=9;break}throw new Error("No DAO Registry contract was found.");case 9:if(t){n.next=11;break}throw new Error("No Coupon Onboarding contract was found.");case 11:return x(r.PENDING),i=Object(l.toChecksumAddress)(a.recipient),u=[e.contractAddress,i,String(a.amount),Number(a.nonce),a.signature],d=Object(s.a)({from:E||""},N?{gasPrice:N.fast}:null),n.next=17,T("redeemCoupon",t.instance.methods,u,d);case 17:if(!n.sent){n.next=27;break}return n.next=21,fetch("".concat(b.g,"/api/coupon/redeem"),{method:"PATCH",body:JSON.stringify({signature:a.signature}),headers:{"Content-Type":"application/json"}});case 21:if(x(r.FULFILLED),a.recipient.toLowerCase()!==E.toLowerCase()){n.next=27;break}return n.next=25,S(o);case 25:return n.next=27,R(Object(p.w)({account:E,daoRegistryContract:e,web3Instance:A}));case 27:n.next=33;break;case 29:n.prev=29,n.t0=n.catch(0),O(n.t0),x(r.REJECTED);case 33:case"end":return n.stop()}}),n,null,[[0,29]])})))).apply(this,arguments)}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return{isInProcessOrDone:v===r.PENDING||v===r.FULFILLED,redeemCoupon:function(e,t){return k.apply(this,arguments)},submitError:f,submitStatus:v,txStatus:D,txError:y,txEtherscanURL:C,txIsPromptOpen:_}}!function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},158:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return j})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return f}));var r=n(3),a=n(2),c=n.n(a),s=n(4),o=n(8),i=n(54),u=n(31),d=n(5),l=n(14),b="SET_CONNECTED_MEMBER",j="CLEAR_CONNECTED_MEMBER";function p(e){var t=e.account,n=e.daoRegistryContract,a=e.web3Instance;return function(){var e=Object(o.a)(c.a.mark((function e(o,j){var p,O,h,m,v,x,N,g,E,A,w,I,y,C,_,T;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=null===n||void 0===n?void 0:n.instance.methods,O=null===n||void 0===n?void 0:n.contractAddress,h=null===n||void 0===n?void 0:n.abi.find((function(e){return"getAddressIfDelegated"===e.name})),m=null===n||void 0===n?void 0:n.abi.find((function(e){return"members"===e.name})),v=null===n||void 0===n?void 0:n.abi.find((function(e){return"isActiveMember"===e.name})),x=null===n||void 0===n?void 0:n.abi.find((function(e){return"getCurrentDelegateKey"===e.name})),t&&O&&p&&h&&x&&v&&m){e.next=9;break}return o(f()),e.abrupt("return");case 9:return e.prev=9,e.next=12,Object(u.j)({calls:[[O,h,[t]],[O,m,[t]],[O,v,[O,t]],[O,x,[t]]],web3Instance:a});case 12:N=e.sent,g=Object(s.a)(N,4),E=g[0],A=g[1],w=g[2],I=g[3],y=Object(u.i)(d.d.EXISTS,A),C=w||y?I:i.a,_=w||y?E:i.a,T=Object(l.g)(t)===Object(l.g)(_)&&Object(l.g)(t)!==Object(l.g)(C),o((c={delegateKey:C,isAddressDelegated:T,isActiveMember:w,memberAddress:_},Object(r.a)({type:b},c))),e.next=29;break;case 25:throw e.prev=25,e.t0=e.catch(9),o(f()),e.t0;case 29:case"end":return e.stop()}var c}),e,null,[[9,25]])})));return function(t,n){return e.apply(this,arguments)}}()}function f(){return{type:j}}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return l.a}));var r=n(2),a=n.n(r),c=n(8),s=n(4),o=n(1),i=n(9),u=n(31),d=n(14),l=n(107),b=n(5);function j(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(""),p=Object(s.a)(j,2),f=p[0],O=p[1],h=Object(o.useState)(!1),m=Object(s.a)(h,2),v=m[0],x=m[1],N=Object(o.useState)(),g=Object(s.a)(N,2),E=g[0],A=g[1],w=Object(o.useState)(b.f.STANDBY),I=Object(s.a)(w,2),y=I[0],C=I[1],_=Object(l.a)().networkId;function T(e){return function(t){C(b.f.PENDING),x(!1),_&&_!==i.c.GANACHE&&O("".concat(i.o[_],"/tx/").concat(t)),e&&e(t)}}function D(){return(D=Object(c.a)(a.a.mark((function e(){var t,n,c,s,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),O(""),C(b.f.AWAITING_CONFIRM),x(!0),n=i.length,c=new Array(n),s=0;s<n;s++)c[s]=i[s];return c[4]=T(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return o=e.sent,A(o),C(b.f.FULFILLED),t(),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),C(b.f.REJECTED),x(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:f,txIsPromptOpen:v,txReceipt:E,txSend:function(){return D.apply(this,arguments)},txStatus:y}}var p="https://ethgasstation.info/json/ethgasAPI.json",f="https://www.etherchain.org/api/gasPriceOracle";function O(){var e=Object(o.useState)(p),t=Object(s.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(),c=Object(s.a)(a,2),u=c[0],d=c[1],l=Object(o.useRef)();return Object(o.useEffect)((function(){if("production"===i.m){l.current=!0;var e=new AbortController,t=setTimeout((function(){e.abort(),r(f)}),5e3),a=function(e){return(1e9*(n===p?e/10:e)).toString()};return fetch(n,{signal:e.signal}).then((function(e){if(l.current){if(!e.ok)throw r(f),new Error("Something went wrong while getting the latest gas price.");return clearTimeout(t),e.json()}})).then((function(e){if(l.current){var t=e.average,n=e.fast,r=e.fastest,c=e.safeLow,s=e.standard;d({average:a(t||s),fast:a(n),fastest:a(r),safeLow:a(c)})}})).catch((function(){clearTimeout(t),l.current&&(r(f),d(void 0))})),function(){l.current=!1,e.abort(),clearTimeout(t)}}}),[n]),u}var h=n(15),m=n(18);function v(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(o.useState)(!1),a=Object(s.a)(r,2),c=a[0],u=a[1],d=Object(o.useState)(),b=Object(s.a)(d,2),j=b[0],p=b[1];return Object(o.useEffect)((function(){u(t===i.k),n&&t!==i.k?p(new Error("Please connect to the ".concat(i.d[i.k],"."))):p(void 0)}),[n,t]),{defaultChain:i.k,defaultChainError:j,isDefaultChain:c}}function x(){var e=v().isDefaultChain,t=Object(l.a)().web3Instance,n=Object(h.b)();function r(){return(r=Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(Object(m.D)(t));case 5:return r.next=7,n(Object(m.C)(t));case 7:return r.next=9,n(Object(m.z)(t));case 9:return r.next=11,n(Object(m.A)(t));case 11:return r.next=13,n(Object(m.H)(t));case 13:return r.next=15,n(Object(m.I)(t));case 15:return r.next=17,n(Object(m.J)(t));case 17:return r.next=19,n(Object(m.N)(t));case 19:return r.next=21,n(Object(m.x)(t));case 21:return r.next=23,n(Object(m.y)(t));case 23:return r.next=25,n(Object(m.J)(t));case 25:return r.next=27,n(Object(m.M)(t));case 27:return r.next=29,n(Object(m.O)(t));case 29:return r.next=31,n(Object(m.F)(t));case 31:return r.next=33,n(Object(m.Q)(t));case 33:return r.next=35,n(Object(m.P)(t));case 35:return r.next=37,n(Object(m.L)(t));case 37:return r.next=39,n(Object(m.K)(t));case 39:return r.next=41,n(Object(m.B)(t));case 41:return r.next=43,n(Object(m.E)(t));case 43:return r.next=45,n(Object(m.G)(t));case 45:r.next=50;break;case 47:throw r.prev=47,r.t0=r.catch(0),r.t0;case 50:case"end":return r.stop()}}),r,null,[[0,47]])})))).apply(this,arguments)}return Object(o.useCallback)((function(){return r.apply(this,arguments)}),[n,e,t])}n(125)},18:function(e,t,n){"use strict";n.d(t,"w",(function(){return r.d})),n.d(t,"v",(function(){return r.c})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return g})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return A})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return I})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return C})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return T})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return R})),n.d(t,"s",(function(){return k})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return P})),n.d(t,"z",(function(){return F})),n.d(t,"C",(function(){return L})),n.d(t,"D",(function(){return M})),n.d(t,"M",(function(){return V})),n.d(t,"y",(function(){return U})),n.d(t,"O",(function(){return Y})),n.d(t,"F",(function(){return z})),n.d(t,"J",(function(){return W})),n.d(t,"x",(function(){return H})),n.d(t,"K",(function(){return K})),n.d(t,"E",(function(){return q})),n.d(t,"N",(function(){return J})),n.d(t,"I",(function(){return Q})),n.d(t,"H",(function(){return X})),n.d(t,"A",(function(){return $})),n.d(t,"P",(function(){return Z})),n.d(t,"B",(function(){return ee})),n.d(t,"L",(function(){return te})),n.d(t,"G",(function(){return ne})),n.d(t,"Q",(function(){return re})),n.d(t,"R",(function(){return se.b}));var r=n(158),a=n(3),c=n(62),s=n(2),o=n.n(s),i=n(8),u=n(5),d=n(9),l=n(31),b=n(183),j=n(12),p=["type"],f="CONTRACT_BANK_ADAPTER",O="CONTRACT_BANK_EXTENSION",h="CONTRACT_BANK_FACTORY",m="CONTRACT_CONFIGURATION",v="CONTRACT_COUPON_ONBOARDING",x="CONTRACT_DAO_FACTORY",N="CONTRACT_DAO_REGISTRY",g="CONTRACT_DAO_REGISTRY_ADAPTER",E="CONTRACT_DISTRIBUTE",A="CONTRACT_ERC20_EXTENSION",w="CONTRACT_FINANCING",I="CONTRACT_GUILDKICK",y="CONTRACT_MANAGING",C="CONTRACT_NFT_ADAPTER",_="CONTRACT_NFT_EXTENSION",T="CONTRACT_ONBOARDING",D="CONTRACT_RAGEQUIT",R="CONTRACT_TRIBUTE",k="CONTRACT_TRIBUTE_NFT",S="CONTRACT_VOTING",P="CONTRACT_VOTING_OP_ROLLUP";function F(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(10).then(n.t.bind(null,961,3));case 4:a=t.sent,c=a.default,s=c,i=d.b[d.k],u=new e.eth.Contract(s,i),r(ae({type:h,abi:s,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function L(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(13).then(n.t.bind(null,962,3));case 4:a=t.sent,c=a.default,s=c,i=d.h[d.k],u=new e.eth.Contract(s,i),r(ae({type:x,abi:s,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function M(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(14).then(n.t.bind(null,963,3));case 4:if(a=t.sent,c=a.default,s=c,i=d.j){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(s,i),r(ae({type:N,abi:s,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function B(e,t){return ce({actionType:S,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.c.VotingContract,contractAddress:t,lazyImport:function(){return n.e(2).then(n.t.bind(null,964,3))},web3Instance:e})}function G(e,t){return ce({actionType:P,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.c.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(1).then(n.t.bind(null,965,3))},web3Instance:e})}function V(e,t){return ce({actionType:T,adapterNameForRedux:j.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(24).then(n.t.bind(null,966,3))},web3Instance:e})}function U(e,t){return ce({actionType:O,adapterNameForRedux:j.b.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(9).then(n.t.bind(null,967,3))},web3Instance:e})}function Y(e,t){return ce({actionType:R,adapterNameForRedux:j.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(26).then(n.t.bind(null,968,3))},web3Instance:e})}function z(e,t){return ce({actionType:E,adapterNameForRedux:j.a.DISTRIBUTE,adapterOrExtensionName:u.a.distribute,contractAddress:t,lazyImport:function(){return n.e(16).then(n.t.bind(null,969,3))},web3Instance:e})}function W(e,t){return ce({actionType:y,adapterNameForRedux:j.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(20).then(n.t.bind(null,970,3))},web3Instance:e})}function H(e,t){return ce({actionType:f,adapterNameForRedux:j.a.BANK,adapterOrExtensionName:u.a.bank,contractAddress:t,lazyImport:function(){return n.e(8).then(n.t.bind(null,971,3))},web3Instance:e})}function K(e,t){return ce({actionType:C,adapterNameForRedux:j.a.NFT,adapterOrExtensionName:u.a.nft,contractAddress:t,lazyImport:function(){return n.e(22).then(n.t.bind(null,972,3))},web3Instance:e})}function q(e,t){return ce({actionType:g,adapterNameForRedux:j.a.DAO_REGISTRY,adapterOrExtensionName:u.a.dao_registry,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,973,3))},web3Instance:e})}function J(e,t){return ce({actionType:D,adapterNameForRedux:j.a.RAGEQUIT,adapterOrExtensionName:u.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(25).then(n.t.bind(null,974,3))},web3Instance:e})}function Q(e,t){return ce({actionType:I,adapterNameForRedux:j.a.GUILDKICK,adapterOrExtensionName:u.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,975,3))},web3Instance:e})}function X(e,t){return ce({actionType:w,adapterNameForRedux:j.a.FINANCING,adapterOrExtensionName:u.a.financing,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,976,3))},web3Instance:e})}function $(e,t){return ce({actionType:m,adapterNameForRedux:j.a.CONFIGURATION,adapterOrExtensionName:u.a.configuration,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,977,3))},web3Instance:e})}function Z(e,t){return ce({actionType:k,adapterNameForRedux:j.a.TRIBUTE_NFT,adapterOrExtensionName:u.a.tribute_nft,contractAddress:t,lazyImport:function(){return n.e(27).then(n.t.bind(null,978,3))},web3Instance:e})}function ee(e,t){return ce({actionType:v,adapterNameForRedux:j.a.COUPON_ONBOARDING,adapterOrExtensionName:u.a.coupon_onboarding,contractAddress:t,lazyImport:function(){return n.e(12).then(n.t.bind(null,979,3))},web3Instance:e})}function te(e,t){return ce({actionType:_,adapterNameForRedux:j.b.NFT,adapterOrExtensionName:u.c.nft,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(23).then(n.t.bind(null,980,3))},web3Instance:e})}function ne(e,t){return ce({actionType:A,adapterNameForRedux:j.b.ERC20,adapterOrExtensionName:u.c.erc20,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(17).then(n.t.bind(null,981,3))},web3Instance:e})}function re(e,t){return function(){var n=Object(i.a)(o.a.mark((function n(r,a){var c,s,i;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=29;break}if(a().contracts.DaoRegistryContract){n.next=6;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),n.abrupt("return");case 6:if(c="",!(s=t||"")){n.next=12;break}return n.next=11,Object(l.h)(s,e);case 11:c=n.sent;case 12:if(s||c){n.next=19;break}return n.next=15,Object(l.c)(u.a.voting,null===(i=a().contracts.DaoRegistryContract)||void 0===i?void 0:i.instance);case 15:return s=n.sent,n.next=18,Object(l.h)(s,e);case 18:c=n.sent;case 19:n.t0=c,n.next="VotingContract"===n.t0?22:"OffchainVotingContract"===n.t0?25:28;break;case 22:return n.next=24,B(e,s)(r,a);case 24:return n.abrupt("return",n.sent);case 25:return n.next=27,G(e,s)(r,a);case 27:return n.abrupt("return",n.sent);case 28:throw new Error("Voting contract name could not be found.");case 29:n.next=34;break;case 31:n.prev=31,n.t1=n.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 34:case"end":return n.stop()}}),n,null,[[0,31]])})));return function(e,t){return n.apply(this,arguments)}}()}function ae(e){var t=e.type,n=Object(c.a)(e,p);return Object(a.a)({type:t},n)}function ce(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,s=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(o.a.mark((function e(c,i){var j,p,f,O,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(f=e.sent,O=f.default,h=O,e.t0=a,e.t0){e.next=18;break}if(!s){e.next=14;break}return e.next=11,Object(b.a)(r,null===(j=i().contracts.DaoRegistryContract)||void 0===j?void 0:j.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(l.c)(r,null===(p=i().contracts.DaoRegistryContract)||void 0===p?void 0:p.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(ae({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new d.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}var se=n(184)},182:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(86);function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e||"undefined"===typeof e)return"---";if(Object(r.a)(e)){var n=e.substring(0,t),a=e.substring(e.length-3);return n+"..."+a}return e}},183:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n.n(r),c=n(8),s=n(59),o=n.n(s);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(o.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(3),a="SET_SUBGRAPH_NETWORK_STATUS";function c(e){return Object(r.a)({type:a},e)}},185:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4),a=n(3),c=n(1),s=n(21),o=n(0),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.ariaLabel,n=e.intervalMs,l=void 0===n?1e3:n,b=e.fadeInProps,j=Object(a.a)(Object(a.a)({},b),{},{inline:!0}),p=Object(c.useState)(1),f=Object(r.a)(p,2),O=f[0],h=f[1];return Object(c.useEffect)((function(){var e=setInterval((function(){return h((function(e){return(e+1)%i.length}))}),l);return function(){clearInterval(e)}}),[l]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("span",{"aria-label":t,style:u,children:[Object(o.jsx)("span",{children:O>=0&&i[0]}),Object(o.jsx)("span",{children:O>=1&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{children:i[1]}))}),Object(o.jsx)("span",{children:O>=2&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{children:i[2]}))}),Object(o.jsx)("span",{children:O>=3&&Object(o.jsx)(s.a,Object(a.a)(Object(a.a)({},j),{},{children:i[3]}))})]}),Object(o.jsx)("span",{style:d,children:"\xa0"})]})}},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var r=n(4),a=n(1),c=n(59),s=n.n(c),o=n(9),i=n(125),u=n(0),d=Object(a.createContext)({});function l(e){var t,n=e.children,c=e.defaultChain,l=e.defaultTheme,b=void 0===l?i.a.DARK:l,j=e.providerOptions,p=Object(a.useRef)(new s.a(new s.a.providers.WebsocketProvider(o.n))),f=Object(a.useState)(),O=Object(r.a)(f,2),h=O[0],m=O[1],v={defaultChain:c,defaultTheme:b,providerOptions:j},x=Object(i.b)(v),N=x.account,g=x.connected,E=x.onConnectTo,A=x.onDisconnect,w=x.networkId,I=void 0===w?h:w,y=x.provider,C=void 0===y?null===(t=p.current)||void 0===t?void 0:t.currentProvider:y,_=x.web3Instance,T=void 0===_?p.current:_,D=x.web3Modal;Object(a.useEffect)((function(){var e;g||(null===(e=p.current)||void 0===e||e.eth.net.getId().then(m).catch((function(){return m(void 0)})))}),[g]);var R={account:N,connected:g,onConnectTo:E,onDisconnect:A,networkId:I,provider:C,providerOptions:j,web3Instance:T,web3Modal:D};return Object(u.jsx)(d.Provider,{value:R,children:n})}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=(n(1),n(940)),c=n(0),s=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},o={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(c.jsx)(a.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(c.jsx)("span",{style:Object(r.a)(Object(r.a)({},s(e)),o[n]),children:e.children}):Object(c.jsx)("div",{style:Object(r.a)(Object(r.a)({},s(e)),o[n]),children:e.children})}})}},25:function(e,t,n){"use strict";var r,a,c,s;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_EMAIL="The email address is invalid.",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(s||(s={}))},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=(n(1),n(14)),c=n(21),s=n(0);function o(e){var t=e.error,n=e.renderText,o=4001===(null===t||void 0===t?void 0:t.code)||/^(the )?user rejected (the )?request$/g.test(Object(a.g)((null===t||void 0===t?void 0:t.message)||""));return t&&!o?Object(s.jsx)(c.a,{children:Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(s.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(s.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(s.jsx)("small",{children:"Details"})}),Object(s.jsx)("p",{className:"error-message",children:Object(s.jsx)("small",{children:t.message})})]}))]})}):null}},31:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"a",(function(){return h})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return A})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return _}));var r=n(2),a=n.n(r),c=n(3),s=n(33),o=n(8);function i(e,t,n,r,a){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(t,n,r,i,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(o,d){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n[t],e.next=4,l.apply(void 0,Object(s.a)(r)).estimateGas({from:i.from,value:i.value});case 4:return b=e.sent,e.next=7,l.apply(void 0,Object(s.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:b})).on("transactionHash",(function(e){u&&u(e)})).on("receipt",(function(e){o(e)})).on("error",(function(e){d(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(59),l=n.n(d);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var p=n(5);function f(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function O(e,t){try{switch(e){case p.a.configuration:return"";case p.a.distribute:return f(t.DistributeContract);case p.a.financing:case p.a.guildkick:return"";case p.a.managing:return f(t.ManagingContract);case p.a.onboarding:return f(t.OnboardingContract);case p.a.ragequit:return"";case p.a.tribute:return f(t.TributeContract);case p.a.tribute_nft:return f(t.TributeNFTContract);case p.a.voting:return f(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var h,m=n(14);function v(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(m.g)(t.contractAddress)===Object(m.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function x(e,t){return N.apply(this,arguments)}function N(){return(N=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function g(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return n=t.methods,e.next=6,n.state().call();case 6:return r=e.sent,e.abrupt("return",0===Number(r)?h.CREATION:h.READY);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(h||(h={}));n(183);function A(e,t){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark((function e(t,r){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(0).then(n.t.bind(null,959,3));case 3:return c=e.sent,s=c.default,e.next=7,new r.eth.Contract(s,t).methods.getAdapterName().call();case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function I(e,t){return e===Math.log2(Number(t)+1)-1}var y=n(4),C=n(9);function _(e){return T.apply(this,arguments)}function T(){return(T=Object(o.a)(a.a.mark((function e(t){var r,c,s,o,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,s=t.calls,o=t.web3Instance,e.next=3,n.e(21).then(n.t.bind(null,960,3));case 3:if(i=e.sent,u=i.default,C.y){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new o.eth.Contract(u,C.y),l=d.methods,e.next=12,l.aggregate(s.map((function(e){var t=Object(y.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),o.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=s[t][1].outputs||[],r=o.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:o.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},35:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s}));var r,a,c,s;n(20),n(12);!function(e){e[e.EXISTS=0]="EXISTS",e[e.SPONSORED=1]="SPONSORED",e[e.PROCESSED=2]="PROCESSED"}(r||(r={})),function(e){e.Submit="Submit",e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.DONE=2]="DONE",e[e.FAILED=3]="FAILED"}(c||(c={})),function(e){e.Governance="Governance"}(s||(s={}))},427:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},44:function(e,t,n){"use strict";var r=n(4),a=n(62),c=n(3),s=n(1),o=n(0),i=["showAfterMs","text","textProps"];function u(e){return Object(o.jsx)("div",Object(c.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,d=e.textProps,l=Object(a.a)(e,i),b=Object(s.useState)(!1),j=Object(r.a)(b,2),p=j[0],f=j[1];return Object(s.useEffect)((function(){var e=t&&setTimeout((function(){return f(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&p)&&e.text?Object(o.jsxs)("div",{className:"loader-container",children:[Object(o.jsx)(u,Object(c.a)({},l)),Object(o.jsx)("span",Object(c.a)(Object(c.a)({className:"loader__text"},d),{},{children:n}))]}):(!t||t&&p)&&!e.text?Object(o.jsx)(u,Object(c.a)({},l)):null}},463:function(e,t){},47:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(r||(r={}))},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return x}));var r=n(2),a=n.n(r),c=n(8),s=n(9);function o(e){return i.apply(this,arguments)}function i(){return(i=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.D,"/api/").concat(s.E,"/offchain_proof/").concat(t));case 3:if(404!==(n=e.sent).status){e.next=6;break}return e.abrupt("return",void 0);case 6:if(n.ok){e.next=8;break}throw new Error("Something went wrong while getting the off-chain vote proof.");case 8:return e.next=10,n.json();case 10:return e.abrupt("return",e.sent);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var u=n(4),d=n(20),l=n(14),b=n(5);function j(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(u.a)(e,2),r=n[0];n[1];return Object(l.g)(r)===Object(l.g)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===d.VoteChoicesIndex.Yes?b.e.Yes:b.e.No}var p=n(12);function f(e){return O.apply(this,arguments)}function O(){return(O=Object(c.a)(a.a.mark((function e(t){var r,c,s,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===p.c.OffchainVotingContract?4:e.t0===p.c.VotingContract?9:14;break;case 4:return e.next=6,n.e(1).then(n.t.bind(null,965,3));case 6:return r=e.sent,c=r.default,e.abrupt("return",c);case 9:return e.next=11,n.e(2).then(n.t.bind(null,964,3));case 11:return s=e.sent,o=s.default,e.abrupt("return",o);case 14:throw new Error('No voting adapter name was found for "'.concat(t,'".'));case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(0),e.t1;case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function h(e,t){return e===Math.log2(Number(t)+1)-1}var m=n(47);function v(e,t){return m.a[t]===m.a[e]}function x(e){return N.apply(this,arguments)}function N(){return(N=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(s.D,"/api/").concat(s.E,"/offchain_proofs"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:if(e.sent.ok){e.next=6;break}throw new Error("Something went wrong while submitting the off-chain vote proof.");case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return T})),n.d(t,"c",(function(){return P})),n.d(t,"f",(function(){return M})),n.d(t,"g",(function(){return B})),n.d(t,"h",(function(){return G}));var r=n(426),a=n(33),c=n(7),s=n(2),o=n.n(s),i=n(8),u=n(4),d=n(1),l=n(15),b=n(20),j=n(10),p=n(31),f=n(9),O=n(53),h=n(17),m=n(5);function v(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),s=Object(d.useState)([]),v=Object(u.a)(s,2),x=v[0],N=v[1],g=Object(d.useState)(j.a.STANDBY),E=Object(u.a)(g,2),A=E[0],w=E[1],I=Object(d.useState)(),y=Object(u.a)(I,2),C=y[0],_=y[1],T=Object(h.e)().web3Instance,D=Object(O.d)().isMountedRef,R=null===t||void 0===t?void 0:t.find((function(e){return"getPriorAmount"===e.name})),k=Object(d.useCallback)((function(e){return S.apply(this,arguments)}),[]);function S(){return(S=Object(i.a)(o.a.mark((function e(t){var n,s,i,d,l,j,O,h,v,x,N,g,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bankAddress,s=t.getPriorAmountABI,i=t.snapshot,d=t.voterAddressesAndChoices,l=t.web3Instance,e.prev=1,j={},Object(c.a)(j,m.e.Yes,{percentage:0,units:0}),Object(c.a)(j,m.e.No,{percentage:0,units:0}),Object(c.a)(j,"totalUnits",0),O=j,h=[n,s,[f.F,f.I,i.toString()]],v=d.map((function(e){var t=Object(u.a)(e,1)[0];return[n,s,[t,f.I,i.toString()]]})),x=[h].concat(Object(a.a)(v)),e.next=8,Object(p.j)({calls:x,web3Instance:l});case 8:return N=e.sent,g=Object(r.a)(N),E=g[0],g.slice(1).forEach((function(e,t){var n=b.VoteChoicesIndex[d[t][1]]===b.VoteChoicesIndex[b.VoteChoicesIndex.Yes]?m.e.Yes:m.e.No;O[n].units+=Number(e)})),O[m.e.Yes].percentage=O[m.e.Yes].units/Number(E)*100,O[m.e.No].percentage=O[m.e.No].units/Number(E)*100,O.totalUnits=Number(E),e.abrupt("return",O);case 19:throw e.prev=19,e.t0=e.catch(1),e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){var t=Array.isArray(e)?e:[e];if(n&&R&&t.length){w(j.a.PENDING);var r=t.map(function(){var e=Object(i.a)(o.a.mark((function e(t){var r,a,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===t||void 0===t?void 0:t.msg.payload.snapshot,(c=null===t||void 0===t?void 0:t.idInSnapshot)&&a){e.next=4;break}return e.abrupt("return");case 4:if(s=null===t||void 0===t||null===(r=t.votes)||void 0===r?void 0:r.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}))){e.next=7;break}return e.abrupt("return");case 7:return i=Object.entries(Object.fromEntries(s)),e.prev=8,e.next=11,k({bankAddress:n,getPriorAmountABI:R,snapshot:a,voterAddressesAndChoices:i,web3Instance:T});case 11:return u=e.sent,e.abrupt("return",[c,u]);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}());Promise.all(r).then((function(e){return e.filter((function(e){return e}))})).then((function(e){D.current&&(w(j.a.FULFILLED),N(e),_(void 0))})).catch((function(e){D.current&&(w(j.a.REJECTED),N([]),_(e))}))}}),[n,R,k,D,e,T]),{offchainVotingResults:x,offchainVotingResultsError:C,offchainVotingResultsStatus:A}}var x=n(3),N=n(54),g=n(48);function E(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),a=Object(h.e)().web3Instance,c=Object(d.useState)([]),s=Object(u.a)(c,2),b=s[0],f=s[1],O=Object(d.useState)(),m=Object(u.a)(O,2),v=m[0],x=m[1],E=Object(d.useState)(j.a.STANDBY),A=Object(u.a)(E,2),w=A[0],I=A[1],y=Object(d.useCallback)((function(){return C.apply(this,arguments)}),[e,r,t,a]);function C(){return(C=Object(i.a)(o.a.mark((function c(){var s,u,d,l,b,O,h,m,v,E,A;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t&&r&&e.length){c.next=2;break}return c.abrupt("return");case 2:if((s=e.filter(a.utils.isHexStrict)).length){c.next=7;break}return I(j.a.FULFILLED),f([]),c.abrupt("return");case 7:if(c.prev=7,u=r.find((function(e){return"votingAdapter"===e.name}))){c.next=11;break}throw new Error('No "votingAdapter" ABI function was found in the DAO registry ABI.');case 11:return d=s.map((function(e){return[t,u,[e]]})),I(j.a.PENDING),c.next=15,Object(p.j)({calls:d,web3Instance:a});case 15:return l=c.sent,c.next=18,n.e(0).then(n.t.bind(null,959,3));case 18:if(b=c.sent,O=b.default,h=O.find((function(e){return"getAdapterName"===e.name}))){c.next=23;break}throw new Error('No "getAdapterName" ABI function was found in the IVoting ABI.');case 23:if(m=s.filter((function(e,t){return l[t]!==N.a})),(v=l.filter((function(e){return e!==N.a}))).length){c.next=29;break}return I(j.a.FULFILLED),f([]),c.abrupt("return");case 29:return E=v.map((function(e){return[e,h,[]]})),c.next=32,Object(p.j)({calls:E,web3Instance:a});case 32:return A=c.sent,I(j.a.FULFILLED),c.t0=f,c.next=37,Promise.all(m.map(function(){var e=Object(i.a)(o.a.mark((function e(t,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.c)(A[n]);case 2:return r=e.sent,c=v[n],e.abrupt("return",[t,{votingAdapterName:A[n],votingAdapterAddress:c,getVotingAdapterABI:function(){return r},getWeb3VotingAdapterContract:function(){return new a.eth.Contract(r,c)}}]);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 37:c.t1=c.sent,(0,c.t0)(c.t1),c.next=46;break;case 41:c.prev=41,c.t2=c.catch(7),I(j.a.REJECTED),f([]),x(c.t2);case 46:case"end":return c.stop()}}),c,null,[[7,41]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){y()}),[y]),{proposalsVotingAdapters:b,proposalsVotingAdaptersError:v,proposalsVotingAdaptersStatus:w}}var A="Something went wrong while getting the proposal.",w="Proposal was not found.";function I(e,t){var n,r=Object(d.useState)(),a=Object(u.a)(r,1)[0],c=Object(d.useState)(),s=Object(u.a)(c,2),l=s[0],p=s[1],h=Object(d.useState)(),m=Object(u.a)(h,2),v=m[0],N=m[1],g=Object(d.useState)(!1),I=Object(u.a)(g,2),y=I[0],C=I[1],_=Object(d.useState)(),T=Object(u.a)(_,2),D=T[0],R=T[1],k=Object(d.useState)(j.a.STANDBY),S=Object(u.a)(k,2),P=S[0],F=S[1],L=Object(d.useState)([e]),M=Object(u.a)(L,2),B=M[0],G=M[1],V=Object(d.useState)(j.a.STANDBY),U=Object(u.a)(V,2),Y=U[0],z=U[1],W=Object(d.useState)(),H=Object(u.a)(W,2),K=H[0],q=H[1],J=Object(O.a)(),Q=J.abortController,X=J.isMountedRef,$=Object(O.b)(),Z=Object(u.a)($,2),ee=Z[0],te=Z[1],ne=E(B),re=ne.proposalsVotingAdapters,ae=ne.proposalsVotingAdaptersError,ce=ne.proposalsVotingAdaptersStatus,se=Object(d.useCallback)((function(){return le.apply(this,arguments)}),[null===Q||void 0===Q?void 0:Q.signal,e,X]),oe=Object(d.useCallback)((function(){return be.apply(this,arguments)}),[null===Q||void 0===Q?void 0:Q.signal,e,X,t]),ie=Object(d.useCallback)((function(){return je.apply(this,arguments)}),[se,oe]),ue=v?b.SnapshotType.proposal:l?b.SnapshotType.draft:void 0,de=l||v?{daoProposal:a,daoProposalVotingAdapter:null===(n=re[0])||void 0===n?void 0:n[1],getCommonSnapshotProposalData:function(){switch(ue){case b.SnapshotType.draft:return l;case b.SnapshotType.proposal:return v;default:return}},refetchProposalOrDraft:function(){te({type:"increment"})},snapshotDraft:l,snapshotProposal:v,snapshotType:ue}:void 0;function le(){return(le=Object(i.a)(o.a.mark((function t(){var n,r,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,F(j.a.PENDING),t.next=4,fetch("".concat(f.D,"/api/").concat(f.E,"/draft/").concat(e),{signal:null===Q||void 0===Q?void 0:Q.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(A);case 7:return t.next=9,n.json();case 9:if(r=t.sent,X.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw C(!0),new Error(w);case 15:return a=Object.keys(r)[0],c=Object(x.a)({idInDAO:a,idInSnapshot:a},r[a]),F(j.a.FULFILLED),p(c),t.abrupt("return",c);case 22:if(t.prev=22,t.t0=t.catch(0),X.current){t.next=26;break}return t.abrupt("return");case 26:F(j.a.REJECTED),R(t.t0);case 28:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function be(){return(be=Object(i.a)(o.a.mark((function n(){var r,a,c,s,i,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,F(j.a.PENDING),n.next=4,fetch("".concat(f.D,"/api/").concat(f.E,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===Q||void 0===Q?void 0:Q.signal});case 4:if((a=n.sent).ok){n.next=9;break}if(t!==b.SnapshotType.proposal){n.next=8;break}throw new Error(A);case 8:return n.abrupt("return");case 9:return n.next=11,a.json();case 11:if(c=n.sent,X.current){n.next=14;break}return n.abrupt("return");case 14:if(c&&Object.keys(c).length){n.next=19;break}if(t!==b.SnapshotType.proposal){n.next=18;break}throw C(!0),new Error(w);case 18:return n.abrupt("return");case 19:return s=Object.keys(c)[0],i=(null===(r=c[s])||void 0===r?void 0:r.data.erc712DraftHash)||s,u=Object(x.a)({idInDAO:i,idInSnapshot:s},c[s]),F(j.a.FULFILLED),N(u),n.abrupt("return",u);case 27:if(n.prev=27,n.t0=n.catch(0),X.current){n.next=31;break}return n.abrupt("return");case 31:F(j.a.REJECTED),R(n.t0);case 33:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function je(){return(je=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe();case 2:if(t=e.sent){e.next=9;break}return e.next=6,se();case 6:return n=e.sent,p(n),e.abrupt("return");case 9:N(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){if(null===Q||void 0===Q?void 0:Q.signal)switch(t){case b.SnapshotType.draft:se();break;case b.SnapshotType.proposal:oe();break;default:ie()}}),[null===Q||void 0===Q?void 0:Q.signal,se,oe,ie,ee,t]),Object(d.useEffect)((function(){0!==ee&&G([e])}),[e,ee]),Object(d.useEffect)((function(){var e=j.a.STANDBY,t=j.a.PENDING,n=j.a.FULFILLED,r=j.a.REJECTED,a=[P,ce];P!==e?a.some((function(e){return e===t}))&&0===ee?z(t):a.every((function(e){return e===n}))?z(n):P!==n||ce!==n||re.length?a.some((function(e){return e===r}))&&z(r):z(n):z(e)}),[P,re.length,ce,ee]),Object(d.useEffect)((function(){q([D,ae].find((function(e){return e})))}),[D,ae]),{proposalData:de,proposalError:K,proposalNotFound:y,proposalStatus:Y}}var y=n(14),C=n(12);function _(e){var t=e.adapterName,n=e.includeProposalsExistingOnlyOffchain,r=void 0!==n&&n,s=Object(d.useState)(),O=Object(u.a)(s,2),m=O[0],v=O[1],N=Object(d.useState)([]),g=Object(u.a)(N,2),A=g[0],w=g[1],I=Object(d.useState)([]),_=Object(u.a)(I,2),D=_[0],R=_[1],k=Object(d.useState)(),S=Object(u.a)(k,2),P=S[0],F=S[1],L=Object(d.useState)(j.a.STANDBY),M=Object(u.a)(L,2),B=M[0],G=M[1],V=Object(d.useState)(j.a.STANDBY),U=Object(u.a)(V,2),Y=U[0],z=U[1],W=Object(d.useState)(),H=Object(u.a)(W,2),K=H[0],q=H[1],J=Object(l.c)((function(e){return e.contracts})),Q=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),X=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),$=E(A),Z=$.proposalsVotingAdapters,ee=$.proposalsVotingAdaptersError,te=$.proposalsVotingAdaptersStatus,ne=T(Z),re=ne.proposalsVotingState,ae=ne.proposalsVotingStateError,ce=ne.proposalsVotingStateStatus,se=function(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),r=Object(h.e)().web3Instance,a=Object(d.useState)([]),s=Object(u.a)(a,2),b=s[0],f=s[1],O=Object(d.useState)(),m=Object(u.a)(O,2),v=m[0],x=m[1],N=Object(d.useState)(j.a.STANDBY),g=Object(u.a)(N,2),E=g[0],A=g[1],w=Object(d.useCallback)((function(){return I.apply(this,arguments)}),[e,n,t,r]);function I(){return(I=Object(i.a)(o.a.mark((function a(){var s,d,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&n&&e.length){a.next=2;break}return a.abrupt("return");case 2:if((s=e.filter((function(e){var t=Object(u.a)(e,1)[0];return r.utils.isHexStrict(t)}))).length){a.next=7;break}return A(j.a.FULFILLED),f([]),a.abrupt("return");case 7:return a.prev=7,A(j.a.PENDING),a.next=11,Promise.all(s.map(function(){var e=Object(i.a)(o.a.mark((function e(n){var r,a,c,s,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(u.a)(n,2),a=r[0],c=r[1],s=c.votingAdapterAddress,i=c.getVotingAdapterABI,d=c.votingAdapterName,e.t0=s,e.next=4,y(d,i());case 4:return e.t1=e.sent,e.t2=[t,a],e.abrupt("return",[e.t0,e.t1,e.t2]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:return d=a.sent,a.next=14,Object(p.j)({calls:d,web3Instance:r});case 14:l=a.sent,A(j.a.FULFILLED),f(s.map((function(e,t){var n=Object(u.a)(e,2),r=n[0],a=n[1].votingAdapterName;return[r,Object(c.a)({},a,l[t])]}))),a.next=24;break;case 19:a.prev=19,a.t0=a.catch(7),A(j.a.REJECTED),f([]),x(a.t0);case 24:case"end":return a.stop()}}),a,null,[[7,19]])})))).apply(this,arguments)}function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(i.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=t,e.next=e.t0===C.c.OffchainVotingContract?4:e.t0===C.c.VotingContract?8:12;break;case 4:if(r=n.find((function(e){return"votes"===e.name}))){e.next=7;break}throw new Error('No "votes" function ABI was found for "'.concat(t,'".'));case 7:return e.abrupt("return",r);case 8:if(a=n.find((function(e){return"votes"===e.name}))){e.next=11;break}throw new Error('No "votes" function ABI was found for "'.concat(t,'".'));case 11:return e.abrupt("return",a);case 12:throw new Error('No voting adapter name was found for "'.concat(t,'".'));case 13:e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(0),e.t1;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){w()}),[w]),{proposalsVotes:b,proposalsVotesError:v,proposalsVotesStatus:E}}(Z),oe=se.proposalsVotes,ie=se.proposalsVotesError,ue=se.proposalsVotesStatus,de=Object(h.e)().web3Instance,le=Object(d.useCallback)((function(e){return he.apply(this,arguments)}),[r,de]),be=Object(d.useCallback)((function(){return me.apply(this,arguments)}),[m,le,Q,X]);function je(e){return pe.apply(this,arguments)}function pe(){return(pe=Object(i.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(f.D,"/api/").concat(f.E),e.next=4,fetch("".concat(n,"/drafts/").concat(t));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot drafts.");case 7:return e.next=9,r.json();case 9:return a=e.sent,c=Object.entries(a).filter((function(e){var t=Object(u.a)(e,2);t[0];return!1===t[1].data.sponsored})),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function fe(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(i.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(f.D,"/api/").concat(f.E),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,c=Object.entries(a).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return[r.data.erc712DraftHash||n,r]})),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function he(){return(he=Object(i.a)(o.a.mark((function e(t){var n,a,c,s,i,d,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.proposalIds,a=t.registryAbi,c=t.registryAddress,e.prev=1,s=a.find((function(e){return"proposals"===e.name})),i=n.map((function(e){return[c,s,[e]]})),e.next=6,Object(p.j)({calls:i,web3Instance:de});case 6:if(d=e.sent,l=n.map((function(e,t){return[e,d[t]]})),!r){e.next=12;break}return e.abrupt("return",l);case 12:return e.abrupt("return",l.filter((function(e){var t=Object(u.a)(e,2);t[0];return"0"!==t[1].flags})));case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function me(){return(me=Object(i.a)(o.a.mark((function e(){var t,n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:if(Q){e.next=4;break}return e.abrupt("return");case 4:if(X){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,G(j.a.PENDING),e.next=10,je(m);case 10:return t=e.sent,e.next=13,fe(m);case 13:if(n=e.sent,(r=[].concat(Object(a.a)(t),Object(a.a)(n)).map((function(e){return e[0]}))).length){e.next=18;break}return G(j.a.FULFILLED),e.abrupt("return");case 18:return e.next=20,le({proposalIds:r,registryAbi:Q,registryAddress:X});case 20:c=e.sent,w(c.map((function(e){return Object(u.a)(e,1)[0]}))),s=c.map((function(e){var r=Object(u.a)(e,2),a=r[0],c=r[1],s=t.find((function(e){return Object(u.a)(e,1)[0]===a})),o=n.find((function(e){return Object(u.a)(e,1)[0]===a})),i=s?Object(x.a)(Object(x.a)({},s[1]),{},{idInDAO:a,idInSnapshot:s[0]}):void 0,d=o?Object(x.a)(Object(x.a)({},o[1]),{},{idInDAO:a,idInSnapshot:o[0]}):void 0;return{idInDAO:a,daoProposal:c,daoProposalVotes:void 0,daoProposalVotingAdapter:void 0,daoProposalVotingState:void 0,snapshotDraft:i,getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotProposal:d,snapshotType:d?b.SnapshotType.proposal:b.SnapshotType.draft}})).filter((function(e){return e.snapshotDraft||e.snapshotProposal})),G(j.a.FULFILLED),R(s),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(6),G(j.a.REJECTED),R([]),F(e.t0);case 32:case"end":return e.stop()}}),e,null,[[6,27]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){var e,n,r=null===(e=Object.entries(J).find((function(e){var n=Object(u.a)(e,2),r=(n[0],n[1]);return(null===r||void 0===r?void 0:r.adapterOrExtensionName)===t})))||void 0===e||null===(n=e[1])||void 0===n?void 0:n.contractAddress;v(r)}),[m,t,J]),Object(d.useEffect)((function(){be()}),[be]),Object(d.useEffect)((function(){Z.length&&R((function(e){return e.map((function(e){var t;return Object(x.a)(Object(x.a)({},e),{},{daoProposalVotingAdapter:null===(t=Z.find((function(t){var n=Object(u.a)(t,1)[0];return Object(y.g)(n)===Object(y.g)(e.idInDAO||"")})))||void 0===t?void 0:t[1]})}))}))}),[Z]),Object(d.useEffect)((function(){re.length&&R((function(e){return e.map((function(e){var t;return Object(x.a)(Object(x.a)({},e),{},{daoProposalVotingState:null===(t=re.find((function(t){var n=Object(u.a)(t,1)[0];return Object(y.g)(n)===Object(y.g)(e.idInDAO||"")})))||void 0===t?void 0:t[1]})}))}))}),[re]),Object(d.useEffect)((function(){oe.length&&R((function(e){return e.map((function(e){var t;return Object(x.a)(Object(x.a)({},e),{},{daoProposalVotes:null===(t=oe.find((function(t){var n=Object(u.a)(t,1)[0];return Object(y.g)(n)===Object(y.g)(e.idInDAO||"")})))||void 0===t?void 0:t[1]})}))}))}),[oe]),Object(d.useEffect)((function(){var e=j.a.STANDBY,t=j.a.PENDING,n=j.a.FULFILLED,r=j.a.REJECTED,a=[B,te,ce,ue];B!==e?a.some((function(e){return e===t}))?z(t):a.every((function(e){return e===n}))?z(n):(B!==n||A.length)&&(B!==n||te!==n||!A.length||Z.length)?a.some((function(e){return e===r}))&&z(r):z(n):z(e)}),[A.length,B,ue,Z.length,te,ce]),Object(d.useEffect)((function(){q([P,ee,ae,ie].find((function(e){return e})))}),[P,ie,ee,ae]),{proposals:D,proposalsError:K,proposalsStatus:Y}}function T(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),r=Object(h.e)().web3Instance,a=Object(d.useState)([]),c=Object(u.a)(a,2),s=c[0],b=c[1],f=Object(d.useState)(),O=Object(u.a)(f,2),m=O[0],v=O[1],x=Object(d.useState)(j.a.STANDBY),N=Object(u.a)(x,2),g=N[0],E=N[1],A=Object(d.useCallback)((function(){return w.apply(this,arguments)}),[e,t,r]);function w(){return(w=Object(i.a)(o.a.mark((function a(){var c,s,i,d,l;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t&&e.length){a.next=2;break}return a.abrupt("return");case 2:if((c=e.filter((function(e){var t=Object(u.a)(e,1)[0];return r.utils.isHexStrict(t)}))).length){a.next=6;break}return E(j.a.FULFILLED),a.abrupt("return");case 6:return a.prev=6,a.next=9,n.e(0).then(n.t.bind(null,959,3));case 9:if(s=a.sent.default,i=s.find((function(e){return"voteResult"===e.name}))){a.next=13;break}throw new Error('No "voteResult" ABI function was found on the "IVoting" contract.');case 13:return d=c.map((function(e){var n=Object(u.a)(e,2),r=n[0];return[n[1].votingAdapterAddress,i,[t,r]]})),E(j.a.PENDING),a.next=17,Object(p.j)({calls:d,web3Instance:r});case 17:l=a.sent,E(j.a.FULFILLED),b(c.map((function(e,t){return[Object(u.a)(e,1)[0],l[t]]}))),a.next=27;break;case 22:a.prev=22,a.t0=a.catch(6),E(j.a.REJECTED),b([]),v(a.t0);case 27:case"end":return a.stop()}}),a,null,[[6,22]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){A()}),[A]),{proposalsVotingState:s,proposalsVotingStateError:m,proposalsVotingStateStatus:g}}var D=n(23),R=n(35),k=n(47),S="production"===f.m?15e3:5e3;function P(e,t){var n,r,a=e.daoProposalVotingAdapter,c=e.snapshotDraft,s=e.snapshotProposal,b=(s||{}).votes,j=(null===c||void 0===c?void 0:c.idInDAO)||(null===s||void 0===s?void 0:s.idInDAO),f=(t||{}).pollInterval,O=void 0===f?S:f,m=Object(h.e)().web3Instance,v=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),x=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),E=Object(d.useState)(),A=Object(u.a)(E,2),w=A[0],I=A[1],C=Object(d.useState)(),_=Object(u.a)(C,2),T=_[0],P=_[1],F=Object(d.useState)(),L=Object(u.a)(F,2),M=L[0],B=L[1],V=Object(d.useState)(),U=Object(u.a)(V,2),Y=U[0],z=U[1],W=Object(d.useRef)(),H=Object(d.useRef)(!1),K=G(null===(n=e.snapshotProposal)||void 0===n?void 0:n.msg.payload.start,null===(r=e.snapshotProposal)||void 0===r?void 0:r.msg.payload.end),q=K.hasVotingTimeStarted,J=K.hasVotingTimeEnded,Q=K.votingTimeStartEndInitReady,X=!!w&&Object(g.d)(R.b.EXISTS,w.flags),$=!!w&&Object(g.d)(R.b.SPONSORED,w.flags),Z=!!w&&Object(g.d)(R.b.PROCESSED,w.flags),ee=null===a||void 0===a?void 0:a.votingAdapterAddress,te=null===a||void 0===a?void 0:a.getVotingAdapterABI(),ne=void 0!==T&&Object(D.isAddress)(T.reporter)&&Object(y.g)(T.reporter)!==N.a,re=void 0!==M&&k.a[M]===k.a[k.a.GRACE_PERIOD],ae=Object(d.useCallback)((function(){return se.apply(this,arguments)}),[a,x,v,te,ee,j,m]);function ce(e){return{daoProposal:w,daoProposalVoteResult:M,daoProposalVotes:T,proposalFlowStatusError:Y,status:e}}function se(){return(se=Object(i.a)(o.a.mark((function e(){var t,n,r,c,s,i,d,l,b,f,O,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x&&v&&j){e.next=3;break}return e.abrupt("return");case 3:if(t=x.filter((function(e){return"proposals"===e.name}))[0],a){e.next=12;break}return e.next=7,Object(p.j)({calls:[[v,t,[j]]],web3Instance:m});case 7:return n=e.sent,r=Object(u.a)(n,1),c=r[0],I(c),e.abrupt("return");case 12:if(te&&ee){e.next=14;break}return e.abrupt("return");case 14:return s=te.filter((function(e){return"voteResult"===e.name}))[0],i=te.filter((function(e){return"votes"===e.name}))[0],d=[[v,t,[j]],[ee,i,[v,j]],[ee,s,[v,j]]],e.next=19,Object(p.j)({calls:d,web3Instance:m});case 19:l=e.sent,b=Object(u.a)(l,3),f=b[0],O=b[1],h=b[2],I(f),P(O),B(h),e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(0),e.t0;case 32:case"end":return e.stop()}}),e,null,[[0,29]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){ae().catch((function(e){z(e)}))}),[ae]),Object(d.useEffect)((function(){Z&&(H.current=!0),W.current&&clearInterval(W.current);var e=setInterval(Object(i.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,H.current&&W.current&&clearInterval(W.current),e.next=4,ae();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),W.current&&clearInterval(W.current),z(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])}))),O);W.current=e}),[Z,O,ae]),Object(d.useEffect)((function(){return Z&&W.current&&clearInterval(W.current),function(){W.current&&clearInterval(W.current)}}),[Z]),!Q||q||X?Q&&!q&&X?ce(R.c.Sponsor):Q&&q&&!J&&$?ce(R.c.OffchainVoting):Q&&J&&$&&!(null===b||void 0===b?void 0:b.length)&&!ne?ce(re?R.c.OffchainVotingGracePeriod:R.c.Process):Q&&J&&$&&!ne?ce(R.c.OffchainVotingSubmitResult):Q&&J&&$&&ne&&re?ce(R.c.OffchainVotingGracePeriod):$&&Q&&J&&ne&&!re?ce(R.c.Process):Z?ce(R.c.Completed):{daoProposal:w,daoProposalVoteResult:M,daoProposalVotes:T,proposalFlowStatusError:Y,status:void 0}:ce(R.c.Submit)}var F=n(64),L=n(107);function M(){var e=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(l.c)((function(e){return e.contracts})),n=Object(l.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress})),r=Object(L.a)(),a=r.account,c=r.provider,s=r.web3Instance,j=Object(d.useState)(),O=Object(u.a)(j,2),h=O[0],v=O[1],g=Object(d.useState)(),E=Object(u.a)(g,2),A=E[0],w=E[1],I=Object(d.useState)(m.f.STANDBY),y=Object(u.a)(I,2),C=y[0],_=y[1];function T(){return(T=Object(i.a)(o.a.mark((function r(i){var u,d,l,j,O,h,g,E,A,I,y,C,T,D,R,k,S,P,L,M,B,G;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=i.partialVoteData,d=i.adapterName,l=i.proposalIdInDAO,j=i.proposalIdInSnapshot,r.prev=1,s){r.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(a){r.next=6;break}throw new Error("No account was found.");case 6:if(n){r.next=8;break}throw new Error("No member address was found.");case 8:if(e){r.next=10;break}throw new Error('No "DaoRegistry" address was found.');case 10:if(f.D){r.next=12;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 12:if(f.E){r.next=14;break}throw new Error('No Snapshot "SPACE" was found.');case 14:return _(m.f.AWAITING_CONFIRM),O=d?Object(p.d)(d,t):N.a,h=u.choice,g=u.metadata,E=void 0===g?{}:g,r.next=19,Object(b.getSpace)(f.D,f.E);case 19:return A=r.sent,I=A.data,y={chainId:f.k,choice:h,metadata:Object(x.a)(Object(x.a)({},E),{},{memberAddress:n})},C={proposalId:l,space:f.E,token:I.token},r.next=25,Object(b.buildVoteMessage)(y,C,f.D);case 25:return T=r.sent,D=Object(b.prepareVoteMessage)({timestamp:T.timestamp,payload:{proposalId:T.payload.proposalId,choice:b.VoteChoicesIndex[h]}}),R=Object(b.getDomainDefinition)(Object(x.a)(Object(x.a)({},D),{},{type:b.SnapshotType.vote}),e,O,f.k),k=R.domain,S=R.types,P=JSON.stringify({types:S,domain:k,primaryType:F.a,message:D}),r.next=31,Object(b.signMessage)(c,a,P);case 31:return L=r.sent,_(m.f.PENDING),r.next=35,Object(b.submitMessage)(f.D,a,Object(x.a)(Object(x.a)({},T),{},{payload:Object(x.a)(Object(x.a)({},T.payload),{},{proposalId:j})}),L,{actionId:k.actionId,chainId:k.chainId,verifyingContract:k.verifyingContract,message:D});case 35:return M=r.sent,B=M.data,G={data:T,signature:L,uniqueId:B.uniqueId},_(m.f.FULFILLED),v(G),r.abrupt("return",G);case 43:throw r.prev=43,r.t0=r.catch(1),_(m.f.REJECTED),w(r.t0),r.t0;case 48:case"end":return r.stop()}}),r,null,[[1,43]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return T.apply(this,arguments)},voteData:h,voteDataError:A,voteDataStatus:C}}function B(){var e=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(l.c)((function(e){return e.contracts})),r=Object(L.a)(),a=r.account,c=r.provider,s=r.web3Instance,j=Object(d.useState)(),O=Object(u.a)(j,2),h=O[0],v=O[1],g=Object(d.useState)(),E=Object(u.a)(g,2),A=E[0],w=E[1],I=Object(d.useState)(m.f.STANDBY),y=Object(u.a)(I,2),C=y[0],_=y[1];function T(e){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.D){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,s.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Object(p.f)(m.b.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=12,Object(b.buildProposalMessage)(Object(x.a)(Object(x.a)({},n),{},{votingTimeSeconds:a,snapshot:r}),f.D);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(i.a)(o.a.mark((function t(r){var i,u,d,l,j,O,h,g,E,A,I,y,C,D,R,k,S,P,L,M,B,G;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.partialProposalData,u=r.adapterAddress,d=r.adapterName,l=r.type,t.prev=1,a){t.next=4;break}throw new Error("No account was found to send.");case 4:if(s){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(f.D){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(f.E){t.next=12;break}throw new Error('No Snapshot "SPACE" was found.');case 12:if(l===b.SnapshotType.draft||l===b.SnapshotType.proposal){t.next=14;break}throw new Error('Handling for type "vote" is not implemented.');case 14:return _(m.f.AWAITING_CONFIRM),j=u||(d?Object(p.d)(d,n):N.a),O=i.body,h=i.name,g=i.metadata,E=i.timestamp,t.next=19,Object(b.getSpace)(f.D,f.E);case 19:if(A=t.sent,I=A.data,y={name:h,body:O,metadata:g,token:I.token,space:f.E},l!==b.SnapshotType.draft){t.next=28;break}return t.next=25,Object(b.buildDraftMessage)(y,f.D);case 25:t.t0=t.sent,t.next=31;break;case 28:return t.next=30,T(Object(x.a)(Object(x.a)({},y),{},{timestamp:E}));case 30:t.t0=t.sent;case 31:return C=t.t0,D=l===b.SnapshotType.draft?Object(b.prepareDraftMessage)(C):Object(b.prepareProposalMessage)(C),R=Object(b.getDomainDefinition)(Object(x.a)(Object(x.a)({},D),{},{type:l}),e,j,f.k),k=R.domain,S=R.types,P=JSON.stringify({types:S,domain:k,primaryType:F.a,message:D}),t.next=37,Object(b.signMessage)(c,a,P);case 37:return L=t.sent,_(m.f.PENDING),t.next=41,Object(b.submitMessage)(f.D,a,C,L,{actionId:k.actionId,chainId:k.chainId,verifyingContract:k.verifyingContract,message:D});case 41:return M=t.sent,B=M.data,G={data:C,signature:L,uniqueId:B.uniqueId,uniqueIdDraft:B.uniqueIdDraft||""},_(m.f.FULFILLED),v(G),t.abrupt("return",G);case 49:throw t.prev=49,t.t1=t.catch(1),_(m.f.REJECTED),w(t.t1),t.t1;case 54:case"end":return t.stop()}}),t,null,[[1,49]])})))).apply(this,arguments)}return{proposalData:h,proposalSignAndSendError:A,proposalSignAndSendStatus:C,signAndSendProposal:function(e){return R.apply(this,arguments)}}}function G(e,t){var n=Object(d.useRef)({start:j.a.STANDBY,end:j.a.STANDBY}),r=Object(d.useState)(!1),a=Object(u.a)(r,2),c=a[0],s=a[1],o=Object(d.useState)(!1),i=Object(u.a)(o,2),l=i[0],b=i[1],p=Object(d.useState)(m(n.current)),f=Object(u.a)(p,2),O=f[0],h=f[1];function m(e){return Object.values(e).every((function(e){return e===j.a.FULFILLED}))}return Object(d.useEffect)((function(){if(!c&&void 0!==e&&void 0!==t){h((function(){return n.current.start=j.a.PENDING,m(n.current)}));var r=setInterval((function(){h((function(){return n.current.start=j.a.FULFILLED,m(n.current)}));var t=Math.floor(Date.now()/1e3)>e;t&&s(t)}),1e3);return function(){clearInterval(r)}}h((function(){return n.current.start=j.a.FULFILLED,m(n.current)}))}),[t,c,e]),Object(d.useEffect)((function(){if(!l&&void 0!==e&&void 0!==t){h((function(){return n.current.end=j.a.PENDING,m(n.current)}));var r=setInterval((function(){h((function(){return n.current.end=j.a.FULFILLED,m(n.current)}));var e=Math.ceil(Date.now()/1e3)>t;e&&b(e)}),1e3);return function(){clearInterval(r)}}h((function(){return n.current.end=j.a.FULFILLED,m(n.current)}))}),[t,l,e]),{hasVotingTimeStarted:c,hasVotingTimeEnded:l,votingTimeStartEndInitReady:O}}},5:function(e,t,n){"use strict";var r,a,c,s,o,i;n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return i})),function(e){e[e.EXISTS=0]="EXISTS"}(r||(r={})),function(e){e.bank="bank",e.configuration="configuration",e.coupon_onboarding="coupon-onboarding",e.dao_registry="daoRegistry",e.distribute="distribute",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.nft="nft",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.tribute_nft="tribute-nft",e.voting="voting"}(a||(a={})),function(e){e.bank="bank",e.erc20="erc20-ext",e.nft="nft"}(c||(c={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingUnitsPerChunk="onboarding.unitsPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(s||(s={})),function(e){e.Yes="Yes",e.No="No"}(o||(o={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(i||(i={}))},513:function(e,t){},515:function(e,t){},525:function(e,t){},527:function(e,t){},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return x}));var r=n(4),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return s.current=!0,!n&&c(new AbortController),function(){s.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:s}}var s={count:0};function o(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(o,s),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}var u=n(957),d=n(15),l=n(109);function b(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(u.a)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(r.a)(t,2),c=n[0],s=n[1],o=s.called,i=s.loading,b=s.data,j=s.error,p=Object(a.useState)(),f=Object(r.a)(p,2),O=f[0],h=f[1],m=Object(a.useState)(),v=Object(r.a)(m,2),x=v[0],N=v[1],g=Object(a.useCallback)((function(){try{if(!i&&b){if(h(b.tributeDaos[0]),0===b.tributeDaos.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){N(j)}}),[null===e||void 0===e?void 0:e.contractAddress,b,j,i]);return Object(a.useEffect)((function(){o||c()}),[o,c]),Object(a.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&g()}),[null===e||void 0===e?void 0:e.contractAddress,g,i]),{dao:O,gqlError:x}}function j(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var p=n(140),f=n.n(p),O=n(17),h=n(21),m=n(92),v=n(0);function x(e){var t=(e||{}).skipIsActiveMemberCheck,n=void 0!==t&&t,c=Object(a.useState)([]),s=Object(r.a)(c,2),o=s[0],i=s[1],u=Object(a.useState)(!1),l=Object(r.a)(u,2),b=l[0],j=l[1],p=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),x=Object(O.e)().connected,N=o&&o.find((function(e){return e})),g=function(){if(!x)return"Your wallet is not connected.";if(!p&&!n)return"Either you are not a member, or your membership is not active.";return N||""}(),E=!!g||!!N,A=!(!E||!g),w=Object(a.useCallback)((function(e){if(!A)return null;var t=e.title;return Object(v.jsx)(f.a,{ariaHideApp:!1,className:"modal-container",isOpen:b,onRequestClose:function(){j(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(v.jsx)(h.a,{children:Object(v.jsxs)("div",{className:"modal",children:[Object(v.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){j(!1)},children:Object(v.jsx)(m.a,{})}),Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(v.jsx)("p",{children:g})]})]})})})}),[A,g,b]),I=Object(a.useCallback)((function(e){i(e.filter(Boolean))}),[]);return{disabledReason:g,isDisabled:E,openWhyDisabledModal:function(){j(!0)},setOtherDisabledReasons:I,WhyDisabledModal:w}}n(141)},54:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x0000000000000000000000000000000000000000"},553:function(e,t){},554:function(e,t){},560:function(e,t){},573:function(e,t){},58:function(e,t,n){"use strict";var r=n(185);n.d(t,"a",(function(){return r.a}))},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},628:function(e,t){},630:function(e,t){},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(5),a=(r.e.Yes,r.e.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(4),a=n(1),c=n(14);function s(e){var t=e.intervalMs,n=e.messages,s=e.useFirstItemStart?n[0]:Object(c.a)(n),o=Object(a.useState)(s),i=Object(r.a)(o,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(59),a=n.n(r),c=function(e){return a.a.utils.isAddress(e)}},899:function(e,t){},9:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return G})),n.d(t,"D",(function(){return V})),n.d(t,"g",(function(){return U})),n.d(t,"s",(function(){return Y})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return W})),n.d(t,"k",(function(){return H})),n.d(t,"o",(function(){return K})),n.d(t,"v",(function(){return J})),n.d(t,"n",(function(){return Q})),n.d(t,"j",(function(){return X})),n.d(t,"h",(function(){return $})),n.d(t,"b",(function(){return Z})),n.d(t,"J",(function(){return ee})),n.d(t,"e",(function(){return te})),n.d(t,"C",(function(){return ne})),n.d(t,"w",(function(){return re})),n.d(t,"q",(function(){return ae})),n.d(t,"B",(function(){return ce})),n.d(t,"t",(function(){return se})),n.d(t,"i",(function(){return oe})),n.d(t,"a",(function(){return ie})),n.d(t,"z",(function(){return ue})),n.d(t,"f",(function(){return de})),n.d(t,"G",(function(){return le})),n.d(t,"l",(function(){return be})),n.d(t,"H",(function(){return je})),n.d(t,"A",(function(){return pe})),n.d(t,"y",(function(){return fe})),n.d(t,"u",(function(){return Oe})),n.d(t,"F",(function(){return he})),n.d(t,"I",(function(){return me})),n.d(t,"x",(function(){return ve})),n.d(t,"p",(function(){return xe})),n.d(t,"E",(function(){return Ne})),n.d(t,"r",(function(){return ge}));var r,a,c,s,o,i,u,d,l,b,j,p,f,O,h,m,v,x,N,g,E,A,w=n(7),I=n(416),y=n(255);Object(I.config)({path:Object(y.resolve)(e,"../.env")});var C=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_COUPON_API_URL:"https://coupon.dev.openlaw.io",REACT_APP_SNAPSHOT_SPACE:"tribute",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0xf5af0d9c3e4091a48925902eaAB2982e44E7a4C5",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xde0Ca6340FDE1906B3c4c1A2bdEE060933e4b253",REACT_APP_GRAPH_API_URL:"https://api.thegraph.com/subgraphs/name/openlawteam/tribute-dev"}),_=C.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,T=C.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,D=C.REACT_APP_ENVIRONMENT,R=C.REACT_APP_GRAPH_API_URL,k=C.REACT_APP_INFURA_PROJECT_ID_DEV,S=C.REACT_APP_INFURA_PROJECT_ID_LOCAL,P=C.REACT_APP_INFURA_PROJECT_ID_PROD,F=C.REACT_APP_MULTICALL_CONTRACT_ADDRESS,L=C.REACT_APP_SNAPSHOT_HUB_API_URL,M=C.REACT_APP_COUPON_API_URL,B=C.REACT_APP_SNAPSHOT_SPACE,G=D,V="localhost"===G?"/snapshot-hub":L,U=M,Y=R,z={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},W=(r={},Object(w.a)(r,z.MAINNET,"Main Ethereum Network"),Object(w.a)(r,z.ROPSTEN,"Ropsten Test Network"),Object(w.a)(r,z.RINKEBY,"Rinkeby Test Network"),Object(w.a)(r,z.GOERLI,"G\xf6rli Test Network"),Object(w.a)(r,z.KOVAN,"Kovan Test Network"),Object(w.a)(r,z.GANACHE,"Ganache Test Network"),r),H="production"===D?z.MAINNET:"development"===D?z.RINKEBY:T?z[T]:z.GANACHE,K=(a={},Object(w.a)(a,z.MAINNET,"https://etherscan.io"),Object(w.a)(a,z.ROPSTEN,"https://ropsten.etherscan.io"),Object(w.a)(a,z.RINKEBY,"https://rinkeby.etherscan.io"),Object(w.a)(a,z.GOERLI,"https://goerli.etherscan.io"),Object(w.a)(a,z.KOVAN,"https://kovan.etherscan.io"),a),q=(c={},Object(w.a)(c,z.MAINNET,"wss://mainnet.infura.io/ws/v3"),Object(w.a)(c,z.ROPSTEN,"wss://ropsten.infura.io/ws/v3"),Object(w.a)(c,z.RINKEBY,"wss://rinkeby.infura.io/ws/v3"),Object(w.a)(c,z.GOERLI,"wss://goerli.infura.io/ws/v3"),Object(w.a)(c,z.KOVAN,"wss://kovan.infura.io/ws/v3"),c),J="production"===D?P:"development"===D?k:S,Q=q[H]?"".concat(q[H],"/").concat(J):H===z.GANACHE?"ws://127.0.0.1:7545":"",X=_,$=(s={},Object(w.a)(s,z.MAINNET,""),Object(w.a)(s,z.ROPSTEN,""),Object(w.a)(s,z.RINKEBY,"0x392E9D1c7FaE6C62853e089466FFAE3F0a93c680"),Object(w.a)(s,z.GOERLI,""),Object(w.a)(s,z.KOVAN,""),Object(w.a)(s,z.GANACHE,"0x6d92a8E4aB80adcBbFDA44ef69fe847f82def641"),s),Z=(o={},Object(w.a)(o,z.MAINNET,""),Object(w.a)(o,z.ROPSTEN,""),Object(w.a)(o,z.RINKEBY,"0x0d316BAa42a0538f2aAca3F08D368FE9C4A87A7A"),Object(w.a)(o,z.GOERLI,""),Object(w.a)(o,z.KOVAN,""),Object(w.a)(o,z.GANACHE,"0xcD1639FD072113CC86e15f65f1505C6D58Aa7412"),o),ee=(i={},Object(w.a)(i,z.MAINNET,""),Object(w.a)(i,z.ROPSTEN,""),Object(w.a)(i,z.RINKEBY,"0xf0D4BC92F8aD06CC163B96459787Dd563aAFC1f7"),Object(w.a)(i,z.GOERLI,""),Object(w.a)(i,z.KOVAN,""),Object(w.a)(i,z.GANACHE,"0xcF34FFFBba648719DAe106202674949f1679772B"),u={},Object(w.a)(u,z.MAINNET,""),Object(w.a)(u,z.ROPSTEN,""),Object(w.a)(u,z.RINKEBY,"0x69Bd1bE55Fff22bE1d5468dFf1a6d0a184c520F7"),Object(w.a)(u,z.GOERLI,""),Object(w.a)(u,z.KOVAN,""),Object(w.a)(u,z.GANACHE,"0x862d71d6E9Be8a7495EfEBa6f2b657b00E629c95"),d={},Object(w.a)(d,z.MAINNET,""),Object(w.a)(d,z.ROPSTEN,""),Object(w.a)(d,z.RINKEBY,"0xc9415afc432CC56912f54682cC2Ea80ADdE1a89B"),Object(w.a)(d,z.GOERLI,""),Object(w.a)(d,z.KOVAN,""),Object(w.a)(d,z.GANACHE,"0xfB4E7C2FD8Ceb2757D2C4cE4749ebE326fc369D4"),d),te=(l={},Object(w.a)(l,z.MAINNET,""),Object(w.a)(l,z.ROPSTEN,""),Object(w.a)(l,z.RINKEBY,"0x92866ac08edFEAA8C52dEF0c12926FA7E95df8fB"),Object(w.a)(l,z.GOERLI,""),Object(w.a)(l,z.KOVAN,""),Object(w.a)(l,z.GANACHE,"0x65CaCA9F2638Fb2B245E9694f00343F0b6CB6F77"),l),ne=(b={},Object(w.a)(b,z.MAINNET,""),Object(w.a)(b,z.ROPSTEN,""),Object(w.a)(b,z.RINKEBY,"0xD3C2cE38c905B9207e35D7EcE51c17b22EAb4afe"),Object(w.a)(b,z.GOERLI,""),Object(w.a)(b,z.KOVAN,""),Object(w.a)(b,z.GANACHE,"0x314C824Ea4586798DF8B46121E881Defa40CB47E"),b),re=(j={},Object(w.a)(j,z.MAINNET,""),Object(w.a)(j,z.ROPSTEN,""),Object(w.a)(j,z.RINKEBY,"0x03BE4284E9F3E7d1fd19cB0442713609105db7E7"),Object(w.a)(j,z.GOERLI,""),Object(w.a)(j,z.KOVAN,""),Object(w.a)(j,z.GANACHE,"0xeD025b5BA14b8f3A085057b9D7Baa13998343aA8"),j),ae=(p={},Object(w.a)(p,z.MAINNET,""),Object(w.a)(p,z.ROPSTEN,""),Object(w.a)(p,z.RINKEBY,"0xA007fc56f540670F6ba17FD2b3B931FC72A7820a"),Object(w.a)(p,z.GOERLI,""),Object(w.a)(p,z.KOVAN,""),Object(w.a)(p,z.GANACHE,"0x4a7A5946567672c577EaF2b866BCeBc177E455E8"),p),ce=(f={},Object(w.a)(f,z.MAINNET,""),Object(w.a)(f,z.ROPSTEN,""),Object(w.a)(f,z.RINKEBY,"0x6fA3f2BC09fB13091BF40C6920a9251B72348456"),Object(w.a)(f,z.GOERLI,""),Object(w.a)(f,z.KOVAN,""),Object(w.a)(f,z.GANACHE,"0x4e1Ccf6Bca8d14B670478d8C4e2aEc9f6277A7f5"),f),se=(O={},Object(w.a)(O,z.MAINNET,""),Object(w.a)(O,z.ROPSTEN,""),Object(w.a)(O,z.RINKEBY,"0xf6F042cB61E409dbFE34A5fbC76Db334B7a93364"),Object(w.a)(O,z.GOERLI,""),Object(w.a)(O,z.KOVAN,""),Object(w.a)(O,z.GANACHE,"0x72a011Aa67F8214a146A162A99B322017ad763fD"),O),oe=(h={},Object(w.a)(h,z.MAINNET,""),Object(w.a)(h,z.ROPSTEN,""),Object(w.a)(h,z.RINKEBY,"0x35B3babfB8FF455903f6e89cEaa83140e09495F9"),Object(w.a)(h,z.GOERLI,""),Object(w.a)(h,z.KOVAN,""),Object(w.a)(h,z.GANACHE,"0x4d4243f2d605282CBd27C8391f05b77316d1a561"),h),ie=(m={},Object(w.a)(m,z.MAINNET,""),Object(w.a)(m,z.ROPSTEN,""),Object(w.a)(m,z.RINKEBY,"0xed65eD0c561E77597E4D8472be1b4b184c31Fde4"),Object(w.a)(m,z.GOERLI,""),Object(w.a)(m,z.KOVAN,""),Object(w.a)(m,z.GANACHE,"0xA8EA078cF1D3837a025329c46A4E0F441Cb2eE87"),m),ue=(v={},Object(w.a)(v,z.MAINNET,""),Object(w.a)(v,z.ROPSTEN,""),Object(w.a)(v,z.RINKEBY,"0xc69DF0C3855A6CaBF0c5983bD504770E5BFA8e84"),Object(w.a)(v,z.GOERLI,""),Object(w.a)(v,z.KOVAN,""),Object(w.a)(v,z.GANACHE,"0x538a4f00d64d2597717cAAd4D01C963317e3Ae40"),v),de=(x={},Object(w.a)(x,z.MAINNET,""),Object(w.a)(x,z.ROPSTEN,""),Object(w.a)(x,z.RINKEBY,"0xb5935758c16B785d3749F20D65F5B501578dCb1c"),Object(w.a)(x,z.GOERLI,""),Object(w.a)(x,z.KOVAN,""),Object(w.a)(x,z.GANACHE,"0x9A2E533FBa58Ec8b0dA34438154C48E295C80576"),x),le=(N={},Object(w.a)(N,z.MAINNET,""),Object(w.a)(N,z.ROPSTEN,""),Object(w.a)(N,z.RINKEBY,"0xD0dCB66d60f6EbF838e22423f58B01D6F7a60187"),Object(w.a)(N,z.GOERLI,""),Object(w.a)(N,z.KOVAN,""),Object(w.a)(N,z.GANACHE,"0xa7D723BFc4deC341da03E70Af4026B3926b1E8Db"),N),be=(g={},Object(w.a)(g,z.MAINNET,""),Object(w.a)(g,z.ROPSTEN,""),Object(w.a)(g,z.RINKEBY,"0xB54D48D8471839D670C0e24548A7CfEA78bB1879"),Object(w.a)(g,z.GOERLI,""),Object(w.a)(g,z.KOVAN,""),Object(w.a)(g,z.GANACHE,"0x6749b9151B654A77ddA3Fa8f2b259E0E592065F6"),g),je=(E={},Object(w.a)(E,z.MAINNET,""),Object(w.a)(E,z.ROPSTEN,""),Object(w.a)(E,z.RINKEBY,"0x939Fd23C38496aB54fa4BD0b2ED535DE100f7d8F"),Object(w.a)(E,z.GOERLI,""),Object(w.a)(E,z.KOVAN,""),Object(w.a)(E,z.GANACHE,"0x4Df3729e7B952EBE6d18b52132D2A8af2F2D167A"),E),pe=(A={},Object(w.a)(A,z.MAINNET,""),Object(w.a)(A,z.ROPSTEN,""),Object(w.a)(A,z.RINKEBY,"0xDfbe754ec9c2aA26ac2f429CfcEd819910eF5926"),Object(w.a)(A,z.GOERLI,""),Object(w.a)(A,z.KOVAN,""),Object(w.a)(A,z.GANACHE,"0xae02a075290D2efD74F0D3fE2DfE64831320855a"),A),fe=F,Oe="0x000000000000000000000000000000000000dead",he="0x000000000000000000000000000000000000babe",me="0x00000000000000000000000000000000000FF1CE",ve="0x00000000000000000000000000000000DECAFBAD",xe="0x0000000000000000000000000000000000000000",Ne=B,ge="production"===D?1e4:5e3}).call(this,"/")},902:function(e,t){},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},927:function(e,t,n){},930:function(e,t,n){"use strict";n.r(t),n.d(t,"getApolloClient",(function(){return Ir}));var r=n(33),a=n(96),c=n.n(a),s=n(15),o=n(42),i=n(955),u=n(254),d=n(157),l=n(956),b=n(932),j=n(412),p=n.n(j),f=n(125),O=n(14),h=n(9),m=n(109),v=n(127),x=n(420),N=n(421),g=n(3),E=n(62),A=n(158),w=["type"],I=null;function y(e,t){return Object(g.a)(Object(g.a)({},e),t)}function C(){return I}var _=n(18),T=["type"],D={BankAdapterContract:null,BankExtensionContract:null,BankFactoryContract:null,ConfigurationContract:null,CouponOnboardingContract:null,DaoFactoryContract:null,DaoRegistryAdapterContract:null,DaoRegistryContract:null,DistributeContract:null,ERC20ExtensionContract:null,FinancingContract:null,GuildBankContract:null,ManagingContract:null,NFTAdapterContract:null,NFTExtensionContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,TributeNFTContract:null,VotingContract:null};function R(e,t){return Object(g.a)(Object(g.a)({},e),{},{BankFactoryContract:Object(g.a)({},t)})}function k(e,t){return Object(g.a)(Object(g.a)({},e),{},{DaoFactoryContract:Object(g.a)({},t)})}function S(e,t){return Object(g.a)(Object(g.a)({},e),{},{DaoRegistryContract:Object(g.a)({},t)})}function P(e,t){return Object(g.a)(Object(g.a)({},e),{},{DaoRegistryAdapterContract:Object(g.a)({},t)})}function F(e,t){return Object(g.a)(Object(g.a)({},e),{},{BankExtensionContract:Object(g.a)({},t)})}function L(e,t){return Object(g.a)(Object(g.a)({},e),{},{ConfigurationContract:Object(g.a)({},t)})}function M(e,t){return Object(g.a)(Object(g.a)({},e),{},{DistributeContract:Object(g.a)({},t)})}function B(e,t){return Object(g.a)(Object(g.a)({},e),{},{FinancingContract:Object(g.a)({},t)})}function G(e,t){return Object(g.a)(Object(g.a)({},e),{},{GuildBankContract:Object(g.a)({},t)})}function V(e,t){return Object(g.a)(Object(g.a)({},e),{},{OnboardingContract:Object(g.a)({},t)})}function U(e,t){return Object(g.a)(Object(g.a)({},e),{},{RagequitContract:Object(g.a)({},t)})}function Y(e,t){return Object(g.a)(Object(g.a)({},e),{},{TributeContract:Object(g.a)({},t)})}function z(e,t){return Object(g.a)(Object(g.a)({},e),{},{VotingContract:Object(g.a)({},t)})}function W(e,t){return Object(g.a)(Object(g.a)({},e),{},{ManagingContract:Object(g.a)({},t)})}function H(e,t){return Object(g.a)(Object(g.a)({},e),{},{BankAdapterContract:Object(g.a)({},t)})}function K(e,t){return Object(g.a)(Object(g.a)({},e),{},{NFTAdapterContract:Object(g.a)({},t)})}function q(e,t){return Object(g.a)(Object(g.a)({},e),{},{TributeNFTContract:Object(g.a)({},t)})}function J(e,t){return Object(g.a)(Object(g.a)({},e),{},{CouponOnboardingContract:Object(g.a)({},t)})}function Q(e,t){return Object(g.a)(Object(g.a)({},e),{},{NFTExtensionContract:Object(g.a)({},t)})}function X(e,t){return Object(g.a)(Object(g.a)({},e),{},{ERC20ExtensionContract:Object(g.a)({},t)})}var $=n(184),Z=n(97),ee=["type"],te={status:Z.a.OK};function ne(e,t){return Object(g.a)(Object(g.a)({},e),t)}var re=Object(v.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(E.a)(t,w);switch(n){case A.b:return y(e,r);case A.a:return C();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(E.a)(t,T);switch(n){case _.a:return H(e,r);case _.b:return F(e,r);case _.c:return R(e,r);case _.d:return L(e,r);case _.e:return J(e,r);case _.f:return k(e,r);case _.g:return S(e,r);case _.h:return P(e,r);case _.i:return M(e,r);case _.j:return X(e,r);case _.k:return B(e,r);case _.l:return G(e,r);case _.m:return W(e,r);case _.n:return K(e,r);case _.o:return Q(e,r);case _.p:return V(e,r);case _.q:return U(e,r);case _.r:return Y(e,r);case _.s:return q(e,r);case _.t:case _.u:return z(e,r);default:return e}},subgraphNetworkStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(E.a)(t,ee);switch(n){case $.a:return ne(e,r);default:return e}}}),ae=Object(v.createStore)(re,Object(x.composeWithDevTools)(Object(v.applyMiddleware)(N.a))),ce=n(57),se=n(1),oe=n.n(se),ie=n(0);function ue(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 14"},e),{},{children:Object(ie.jsx)("g",{fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(ie.jsx)("g",{transform:"translate(-737 -124)",children:Object(ie.jsx)("g",{transform:"translate(596 124)",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M151.166.8h-8.679c-.733 0-1.344.611-1.344 1.345v8.8c0 .734.611 1.345 1.344 1.345h7.395l-.366-1.223.855.795.795.733 1.405 1.223V2.145c-.06-.734-.61-1.345-1.405-1.345zm-2.506 8.495s-.244-.306-.428-.55c.49-.122.917-.367 1.161-.795a2.065 2.065 0 01-.733.367c-.306.122-.611.245-.917.306a4.039 4.039 0 01-1.71 0 6.007 6.007 0 01-.979-.306 1.83 1.83 0 01-.489-.244s-.06 0-.06-.061c-.123-.062-.184-.123-.184-.123.305.367.672.673 1.161.795-.183.244-.428.55-.428.55a2.579 2.579 0 01-2.017-.978c0-1.344.367-2.628.917-3.79.55-.427 1.161-.671 1.834-.671l.06.06c-.61.184-1.222.429-1.71.856l.366-.183c.49-.183.978-.367 1.467-.428h.122a4.947 4.947 0 011.345 0c.672.061 1.344.306 1.955.611a5.299 5.299 0 00-1.65-.855l.061-.122c.673.06 1.284.244 1.834.672.611 1.161.917 2.506.917 3.789-.367.733-1.1 1.1-1.895 1.1zm-2.995-3.056c-.427-.06-.733.245-.794.673-.061.427.244.733.672.794.428.061.734-.244.795-.672v-.061c0-.367-.306-.734-.673-.734zm2.384 0c-.428-.06-.733.245-.795.673-.06.427.245.733.673.794.427.061.733-.244.794-.672v-.061c0-.367-.305-.734-.672-.734z"})})})})}))}var de,le=n(26),be=n(29),je=n(37),pe=n(36),fe=function(e){Object(je.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(le.a)(this,n),t.apply(this,arguments)}return Object(be.a)(n,[{key:"render",value:function(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"github","data-prefix":"fab",viewBox:"0 0 496 512",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}}]),n}(oe.a.Component),Oe=function(e){Object(je.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(le.a)(this,n),t.apply(this,arguments)}return Object(be.a)(n,[{key:"render",value:function(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"medium","data-prefix":"fab",viewBox:"0 0 448 512",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"})})}}]),n}(oe.a.Component);function he(){return Object(ie.jsxs)("div",{className:"socialmedia",children:[Object(ie.jsx)("a",{href:de.MEDIUM,target:"_blank",rel:"noopener noreferrer",children:Object(ie.jsx)(Oe,{})}),Object(ie.jsx)("a",{href:de.DISCORD,target:"_blank",rel:"noopener noreferrer",children:Object(ie.jsx)(ue,{})}),Object(ie.jsx)("a",{href:de.GITHUB,target:"_blank",rel:"noopener noreferrer",children:Object(ie.jsx)(fe,{})})]})}function me(){return"/"===Object(ce.g)().pathname?null:Object(ie.jsx)("div",{className:"footer",children:Object(ie.jsx)(he,{})})}function ve(e){return Object(ie.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"TRIBUTE"})}function xe(){return Object(ie.jsx)("div",{className:"logo-container logo-container--center",children:Object(ie.jsx)(ve,{size:"small"})})}function Ne(){return Object(ie.jsx)("div",{className:"logo-container logo-container--header",children:Object(ie.jsx)(ve,{size:"medium"})})}function ge(){return Object(ie.jsx)("div",{className:"logo-container logo-container--center",children:Object(ie.jsx)(ve,{size:"large"})})}!function(e){e.DISCORD="#",e.GITHUB="https://github.com/search?q=org%3Aopenlawteam+tribute-ui+OR+tribute-contracts+in%3Aname&type=repositories",e.MEDIUM="#"}(de||(de={}));var Ee=n(4),Ae=n(940),we=n(140),Ie=n.n(we),ye=n(432),Ce=n(2),_e=n.n(Ce),Te=n(8),De=n(259);function Re(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(ie.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(ie.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(ie.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(ie.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(ie.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(ie.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function ke(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(ie.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(ie.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(ie.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var Se={injected:Object(ie.jsx)(Re,{}),walletconnect:Object(ie.jsx)(ke,{})},Pe=n(17);function Fe(e){var t=e.showAfterMs,n=Object(se.useState)(!1),r=Object(Ee.a)(n,2),a=r[0],c=r[1];return Object(se.useEffect)((function(){var e=t&&setTimeout((function(){return c(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&a?Object(ie.jsx)("div",{className:"loader--large","aria-label":"Loading content..."}):null}var Le=n(21);function Me(e){var t=e.children,n=e.keyProp,r=e.isOpen,a=e.styleProps,c=e.modalClassNames,s=e.isOpenHandler;return Object(ie.jsx)(Ie.a,{ariaHideApp:!1,className:"modal-container ".concat(c),isOpen:r,onRequestClose:function(){s(r)},overlayClassName:"modal-overlay",role:"dialog",style:Object(g.a)({overlay:{zIndex:"99"}},a),children:Object(ie.jsx)(Le.a,{children:Object(ie.jsx)("div",{className:"modal",children:t})})},n)}var Be=n(92);function Ge(e){var t,n=e.customWalletText,r=e.showWalletETHBadge,a=Object(Pe.e)(),c=a.account,s=a.connected,o=a.providerOptions,i=a.onConnectTo,u=a.onDisconnect,d=a.networkId,l=a.web3Modal,b=Object(Pe.d)(),j=b.defaultChain,p=b.defaultChainError,f=b.isDefaultChain,m=Object(se.useState)(!1),v=Object(Ee.a)(m,2),x=v[0],N=v[1],g=null!==(t=d!==j)&&void 0!==t?t:f,E=d===h.c.GANACHE,A=De.isMobile?c?Object(O.j)(c):"Connect":r&&c?Object(O.j)(c):n||"";return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(g&&s?"walletconnect__connect-button--error":""),onClick:function(){N(!0)},children:[Object(ie.jsx)("span",{className:"connect-button-text ".concat(s?"connect-button-text--ethAddress":""),children:A||"Connect"}),r&&g&&s&&Object(ie.jsx)("span",{children:"Wrong Network"}),r&&Object(ie.jsx)(Ve,{providerName:null===l||void 0===l?void 0:l.cachedProvider})]}),x&&function(){var e=Object.entries(o).filter((function(e){return"injected"!==e[0]})),t=(De.isMobile?e:Object.entries(o)).map((function(e){return Object(ie.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(s&&(null===l||void 0===l?void 0:l.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object(Te.a)(_e.a.mark((function t(){return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:E&&"walletconnect"===e[0],children:[Object(ie.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(ie.jsx)(Ve,{providerName:e[0]})]},e[0])}));return Object(ie.jsxs)(Me,{keyProp:"web3modal",isOpen:x,isOpenHandler:function(){N(!1)},children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){N(!1)},children:Object(ie.jsx)(Be.a,{})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),s&&g?null:Object(ie.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),c&&Object(ie.jsx)("div",{className:"walletconnect__connected-address-text",children:Object(O.j)(c,7)}),s&&g?Object(ie.jsx)(Ue,{defaultChainError:(null===p||void 0===p?void 0:p.message)||""}):Object(ie.jsx)("div",{className:"walletconnect__options",children:t}),s&&Object(ie.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:u,children:"Disconnect Wallet"})]})]})}()]})}function Ve(e){var t=e.providerName;return t?Object(ie.jsx)("span",{className:"walletconnect__wallet-icon",children:Se[t]}):null}function Ue(e){var t=e.defaultChainError;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"error-message",children:Object(ie.jsx)("small",{children:t})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})}),Object(ie.jsxs)("div",{children:[Object(ie.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(ie.jsx)("br",{}),Object(ie.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var Ye=oe.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(ie.jsx)(Ge,{customWalletText:t,showWalletETHBadge:n})}));function ze(){return Object(ie.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(ie.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var We={transition:"0.1s"},He={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},Ke={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function qe(){return Object(ie.jsx)("nav",{role:"navigation",id:"navigation",children:Object(ie.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(o.c,{to:"/membership",children:Object(ie.jsx)("span",{children:"Membership"})})}),Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(o.c,{to:"/governance",children:Object(ie.jsx)("span",{children:"Governance"})})}),Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(o.c,{to:"/transfers",children:Object(ie.jsx)("span",{children:"Transfer"})})}),Object(ie.jsx)("li",{tabIndex:0,children:Object(ie.jsx)(o.c,{to:"/tributes",children:Object(ie.jsx)("span",{children:"Tribute"})})})]})})}function Je(){var e=Object(s.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),t=Object(se.useState)(!1),n=Object(Ee.a)(t,2),r=n[0],a=n[1],c=Object(se.useState)(He),i=Object(Ee.a)(c,2),u=i[0],d=i[1],l=Object(Pe.e)().account,b=Object(se.useRef)();function j(e){if(!e)return d(Ke),b.current=setTimeout((function(){return a(e)}),500),function(){return b.current&&clearTimeout(b.current)};a(e),d(He)}return Object(se.useEffect)((function(){return function(){b.current&&clearTimeout(b.current)}}),[]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(ie.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),j(!0)},children:Object(ie.jsx)(ze,{})})}),Object(ie.jsx)(Ie.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:r,onRequestClose:function(){j(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(ie.jsx)(Ae.a,{appear:!0,in:r,timeout:200,children:function(t){return Object(ie.jsx)("nav",{role:"navigation",id:"navigation",children:Object(ie.jsxs)("div",{style:Object(g.a)(Object(g.a)({},We),u[t]),className:"nav-modal",children:[Object(ie.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),j(!1)},children:Object(ie.jsx)(Be.a,{})}),Object(ie.jsx)(xe,{}),Object(ie.jsx)("div",{className:"nav-modal__walletconnect-button-container",children:Object(ie.jsx)(Ye,{showWalletETHBadge:!0})}),Object(ie.jsxs)("ul",{className:"nav__list",children:[Object(ie.jsx)("li",{onClick:function(){j(!1)},children:Object(ie.jsx)(o.c,{to:"/membership",children:Object(ie.jsx)("span",{children:"Membership"})})}),Object(ie.jsx)("li",{onClick:function(){j(!1)},children:Object(ie.jsx)(o.c,{to:"/governance",children:Object(ie.jsx)("span",{children:"Governance"})})}),Object(ie.jsx)("li",{onClick:function(){j(!1)},children:Object(ie.jsx)(o.c,{to:"/transfers",children:Object(ie.jsx)("span",{children:"Transfer"})})}),Object(ie.jsx)("li",{onClick:function(){j(!1)},children:Object(ie.jsx)(o.c,{to:"/tributes",children:Object(ie.jsx)("span",{children:"Tribute"})})}),l&&e&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("li",{onClick:function(){j(!1)},children:Object(ie.jsx)(o.c,{to:"/members/".concat(l),children:Object(ie.jsx)("span",{children:"Profile"})})}),Object(ie.jsx)("li",{onClick:function(){j(!1)},children:Object(ie.jsx)(o.c,{to:"/dao-manager",children:Object(ie.jsx)("span",{children:"Manage DAO"})})})]})]})]})})}})})]})}function Qe(){return Object(ie.jsx)(ye.a,{query:"(max-width: 62em)",children:function(e){return Object(ie.jsx)("div",{className:"nav-header",children:Object(ie.jsxs)("div",{className:"nav-header__menu-container",children:[Object(ie.jsx)(qe,{}),Object(ie.jsx)(Je,{}),Object(ie.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(ie.jsx)(Ye,{showWalletETHBadge:!0})})]})})}})}function Xe(){function e(e){return Object(ie.jsx)(o.b,{to:"/",children:e.children})}return"/"===Object(ce.g)().pathname?null:Object(ie.jsxs)("header",{className:"header",children:[Object(ie.jsx)(e,{children:Object(ie.jsx)(Ne,{})}),Object(ie.jsx)("div",{className:"header__nav-container",children:Object(ie.jsx)(Qe,{})})]})}var $e=n(423);function Ze(){return Object(ie.jsxs)($e.a,{children:[Object(ie.jsx)("title",{children:"Tribute"}),Object(ie.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var et=n(93),tt=n(20),nt=n(58),rt=n(25),at=n(35),ct=n(49),st=n(5),ot=n(30),it=["error"];function ut(e){var t=e.error,n=Object(E.a)(e,it);return Object(ie.jsx)(ie.Fragment,{children:t&&Object(ie.jsx)(Le.a,{children:Object(ie.jsx)("p",Object(g.a)(Object(g.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var dt=n(44),lt=n(193);function bt(e){var t=e.value;return t?Object(ie.jsxs)("details",{children:[Object(ie.jsx)("summary",{style:{cursor:"pointer",outline:"none"},children:Object(ie.jsx)("small",{children:"Preview Markdown"})}),Object(ie.jsx)("div",{style:{marginTop:"1em"},children:Object(ie.jsx)(lt.a,{children:t})})]}):null}var jt,pt=["children"],ft=function(e){var t=e.children,n=Object(E.a)(e,pt);return Object(ie.jsx)("div",Object(g.a)(Object(g.a)({style:{position:"relative"}},n),{},{children:t}))};function Ot(){var e=Object(s.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),t=Object(se.useState)(),n=Object(Ee.a)(t,2),r=n[0],a=n[1],c=Object(Pe.e)(),o=c.connected,i=c.account,u=Object(ct.g)(),d=u.proposalSignAndSendStatus,l=u.signAndSendProposal,b=Object(Pe.d)().defaultChainError,j=Object(et.a)({mode:"onBlur",reValidateMode:"onChange"}),p=Object(ce.f)(),f=j.errors,h=j.getValues,m=j.register,v=j.trigger,x=j.watch,N=o&&i,g=d===st.f.AWAITING_CONFIRM||d===st.f.PENDING,E=d===st.f.FULFILLED,A=g||E;function w(e){return I.apply(this,arguments)}function I(){return(I=Object(Te.a)(_e.a.mark((function e(t){var n,r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({partialProposalData:{name:t.title,body:t.description,metadata:{type:at.d.Governance}},type:tt.SnapshotType.proposal});case 3:n=e.sent,r=n.uniqueId,p.push("/governance/".concat(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return N&&e&&!b?Object(ie.jsx)(ht,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:jt.title,children:"Title"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(jt.title),"aria-invalid":f.title?"true":"false",id:jt.title,name:jt.title,ref:m({required:rt.a.REQUIRED}),type:"text",disabled:A}),Object(ie.jsx)(ut,{error:Object(O.f)(jt.title,f),id:"error-".concat(jt.title)})]})]}),Object(ie.jsxs)("div",{className:"form__textarea-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:jt.description,children:"Description"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("textarea",{"aria-describedby":"error-".concat(jt.description),"aria-invalid":f.description?"true":"false",id:jt.description,name:jt.description,placeholder:"Say something about your governance proposal...",ref:m({required:rt.a.REQUIRED}),disabled:A}),Object(ie.jsx)(ut,{error:Object(O.f)(jt.description,f),id:"error-".concat(jt.description)}),Object(ie.jsx)(bt,{value:x(jt.description)})]})]}),Object(ie.jsx)("button",{"aria-label":g?"Submitting your proposal...":"",className:"button",disabled:A,onClick:Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:w(h());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:g?Object(ie.jsx)(dt.a,{}):E?"Done":"Submit"}),A&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(d){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(nt.a,{intervalMs:500})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:["Submitting",Object(ie.jsx)(nt.a,{intervalMs:500})]});case st.f.FULFILLED:return"Done!";default:return""}}()}),r&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while submitting the proposal.",error:r})})]})}):Object(ie.jsx)(ht,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:N?b?b.message:e?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a governance proposal."})})})}function ht(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.title="title",e.description="description"}(jt||(jt={}));var mt,vt=n(23),xt=n(86);function Nt(){var e=Object(Pe.d)().defaultChainError,t=Object(Pe.e)(),n=t.connected,r=t.account,a=t.web3Instance,c=Object(ct.g)(),s=c.proposalData,o=c.proposalSignAndSendError,i=c.proposalSignAndSendStatus,u=c.signAndSendProposal,d=Object(et.a)({mode:"onBlur",reValidateMode:"onChange"}),l=Object(ce.f)(),b=Object(se.useState)(),j=Object(Ee.a)(b,2),p=j[0],f=j[1],m=Object(se.useState)(),v=Object(Ee.a)(m,2),x=v[0],N=v[1],g=d.errors,E=d.getValues,A=d.setValue,w=d.register,I=d.trigger,y=p||o,C=n&&r,_=i===st.f.AWAITING_CONFIRM||i===st.f.PENDING,T=i===st.f.FULFILLED,D=_||T,R=Object(se.useCallback)((function(){return k.apply(this,arguments)}),[r,a]);function k(){return(k=Object(Te.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&r){e.next=3;break}return N(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,a.eth.getBalance(r);case 6:t=e.sent,N(a.utils.fromWei(t,"ether")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),N(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(Te.a)(_e.a.mark((function e(t){var n,a,c,o,i,d,b,j,p,m,v;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,C){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(r){e.next=5;break}throw new Error("No account found.");case 5:if(n=(null===s||void 0===s?void 0:s.uniqueId)||"",a=t.ethAddress,c=t.ethAmount,o=Object(vt.toChecksumAddress)(a),i=Object(vt.toWei)(Object(O.i)(c),"ether"),d=Object(vt.toChecksumAddress)(r),b={tributeAmount:c,tributeAmountUnit:"ETH"},j=[o,h.I,i],n){e.next=19;break}return p=Object(O.g)(a)===Object(O.g)(r)?"Membership for ".concat(Object(O.j)(o,7),"."):"Membership proposal from ".concat(Object(O.j)(d,7)," for applicant ").concat(Object(O.j)(o,7),"."),e.next=16,u({partialProposalData:{name:o,body:p,metadata:{proposalAmountValues:b,submitActionArgs:j,accountAuthorizedToProcessPassedProposal:d}},adapterName:st.a.onboarding,type:tt.SnapshotType.draft});case 16:m=e.sent,v=m.uniqueId,n=v;case 19:l.push("/membership/".concat(n)),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),f(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){R()}),[R]),Object(se.useEffect)((function(){A(mt.ethAddress,r)}),[r,A]),!C||e?Object(ie.jsx)(gt,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:C?e?e.message:void 0:"Connect your wallet to submit a membership proposal."})})}):Object(ie.jsx)(gt,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:mt.ethAddress,children:"Applicant Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(mt.ethAddress),"aria-invalid":g.ethAddress?"true":"false",id:mt.ethAddress,name:mt.ethAddress,ref:w({validate:function(e){return e?!!Object(xt.a)(e)||rt.a.INVALID_ETHEREUM_ADDRESS:rt.a.REQUIRED}}),type:"text",disabled:D}),Object(ie.jsx)(ut,{error:Object(O.f)(mt.ethAddress,g),id:"error-".concat(mt.ethAddress)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",htmlFor:mt.ethAmount,children:"Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsxs)("div",{className:"input__suffix-wrap",children:[Object(ie.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(mt.ethAmount),"aria-invalid":g.ethAmount?"true":"false",id:mt.ethAmount,name:mt.ethAmount,onChange:function(){return A(mt.ethAmount,Object(O.e)(E().ethAmount))},ref:w({validate:function(e){var t=Number(Object(O.i)(e));return""===e?rt.a.REQUIRED:isNaN(t)?rt.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(x))||"Insufficient funds."}}),type:"text",disabled:D}),Object(ie.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(ie.jsx)(ut,{error:Object(O.f)(mt.ethAmount,g),id:"error-".concat(mt.ethAmount)})]}),Object(ie.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(ie.jsx)("span",{children:x?Number.isInteger(Number(x))?x:Object(O.d)(Number(x)):"---"})]})]}),Object(ie.jsx)("button",{"aria-label":_?"Submitting your proposal.":"",className:"button",disabled:D,onClick:Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,I();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:S(E());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:_?Object(ie.jsx)(dt.a,{}):T?"Done":"Submit"}),D&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(i){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(nt.a,{intervalMs:500})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:["Submitting",Object(ie.jsx)(nt.a,{intervalMs:500})]});case st.f.FULFILLED:return"Done!";default:return""}}()}),y&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while submitting the proposal.",error:y})})]})})}function gt(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(mt||(mt={}));var Et,At,wt=n(54),It=n(64),yt=n(31),Ct=n(73),_t=n(60),Tt=n(427);function Dt(){var e=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),t=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),a=Object(s.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),c=Object(Pe.d)().defaultChainError,o=Object(Pe.e)(),i=o.connected,u=o.account,d=o.web3Instance,l=Object(Pe.b)(),b=Object(Pe.a)(),j=b.txError,p=b.txEtherscanURL,f=b.txIsPromptOpen,m=b.txSend,v=b.txStatus,x=Object(ct.g)(),N=x.proposalData,E=x.proposalSignAndSendStatus,A=x.signAndSendProposal,w=Object(et.a)({mode:"onBlur",reValidateMode:"onChange"}),I=Object(ce.f)(),y=Object(se.useState)(),C=Object(Ee.a)(y,2),_=C[0],T=C[1],D=Object(se.useState)(),R=Object(Ee.a)(D,2),k=R[0],S=R[1],P=Object(se.useState)(),F=Object(Ee.a)(P,2),L=F[0],M=F[1],B=w.errors,G=w.getValues,V=w.setValue,U=w.register,Y=w.trigger,z=w.watch,W="all members"===z("type"),H=z("selectedToken"),K=_||j,q=i&&u,J=Tt,Q=v===st.f.AWAITING_CONFIRM||v===st.f.PENDING||E===st.f.AWAITING_CONFIRM||E===st.f.PENDING,X=v===st.f.FULFILLED&&E===st.f.FULFILLED,$=Q||X||f,Z=Object(se.useCallback)((function(){return te.apply(this,arguments)}),[n,u,J,d]),ee=Object(se.useCallback)((function(){return ne.apply(this,arguments)}),[u,H]);function te(){return(te=Object(Te.a)(_e.a.mark((function e(){var t,a,c,s,o,i,l,b,j,p,f,O,m,v,x,N,E,A,w,I,y,C,_,T,D,R,k;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&n&&d){e.next=3;break}return S(void 0),e.abrupt("return");case 3:return e.prev=3,t=n.abi,a=n.contractAddress,c=n.instance.methods,e.next=7,c.nbTokens().call();case 7:if(s=e.sent,!(Number(s)<1)){e.next=12;break}S([]),e.next=44;break;case 12:return o=[],i=t.find((function(e){return"getToken"===e.name})),l=Object(r.a)(Array(Number(s)).keys()).map((function(e){return[a,i,[e.toString()]]})),e.next=17,Object(yt.j)({calls:l,web3Instance:d});case 17:return b=e.sent,j=t.find((function(e){return"balanceOf"===e.name})),p=b.map((function(e){return[a,j,[h.u,e]]})),e.next=22,Object(yt.j)({calls:p,web3Instance:d});case 22:if(f=e.sent,O=b.map((function(e,t){return{address:e,daoBalance:f[t]}})).filter((function(e){return Object(vt.toBN)(e.daoBalance).gt(Object(vt.toBN)(0))})),(m=O.find((function(e){return e.address===h.p})))&&o.push(Object(g.a)(Object(g.a)({},m),{},{name:"Ether",symbol:"ETH",decimals:18})),!((v=O.filter((function(e){return e.address!==h.p}))).length>0)){e.next=43;break}return x=J.find((function(e){return"name"===e.name})),N=v.map((function(e){return[e.address,x,[]]})),E=J.find((function(e){return"symbol"===e.name})),A=v.map((function(e){return[e.address,E,[]]})),w=J.find((function(e){return"decimals"===e.name})),I=v.map((function(e){return[e.address,w,[]]})),y=[].concat(Object(r.a)(N),Object(r.a)(A),Object(r.a)(I)),e.next=37,Object(yt.j)({calls:y,web3Instance:d});case 37:for(C=e.sent,_=[];C.length;)_.push(C.splice(0,v.length));T=_[0],D=_[1],R=_[2],k=v.map((function(e,t){return Object(g.a)(Object(g.a)({},e),{},{name:T[t],symbol:D[t],decimals:R[t]})})).sort((function(e,t){return e.name.localeCompare(t.name)})),o=[].concat(Object(r.a)(o),Object(r.a)(k));case 43:S(o);case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),console.error(e.t0),S(void 0);case 50:case"end":return e.stop()}}),e,null,[[3,46]])})))).apply(this,arguments)}function ne(){return(ne=Object(Te.a)(_e.a.mark((function e(){var t,n,r,a,c,s,o,i;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&H){e.next=3;break}return M(void 0),e.abrupt("return");case 3:try{t=JSON.parse(H),n=t.daoBalance,r=Object(vt.toBN)(n),a=t.decimals,c=Object(vt.toBN)(10).pow(Object(vt.toBN)(a)),s=r.div(c),o=r.mod(c),i=o.eq(Object(vt.toBN)(0))?s.toString():"".concat(s.toString(),".").concat(o.toString()),M(i)}catch(d){console.error(d),M(void 0)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e){return ae.apply(this,arguments)}function ae(){return(ae=Object(Te.a)(_e.a.mark((function n(r){var a,c,s,o,i,b,j,p,f,v,x,E,w,y,C,_,D,R,k,S,P,F,L,M,B,G,V,U;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,q){n.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No DistributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(u){n.next=9;break}throw new Error("No account found.");case 9:if(d){n.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(a=r.selectedToken,c=r.memberAddress,s=r.amount,o=r.notes,i=Object(vt.toChecksumAddress)(c),b=JSON.parse(a),j=b.symbol,p=b.decimals,(f=b.address)===h.p?v=Object(vt.toWei)(Object(O.i)(s),"ether"):(x=Object(vt.toBN)(10).pow(Object(vt.toBN)(p)),E=Object(vt.toBN)(Object(O.i)(s)).mul(x),v=E.toString()),w=(null===N||void 0===N?void 0:N.uniqueId)||"",y=null===N||void 0===N?void 0:N.data,C=(null===N||void 0===N?void 0:N.signature)||"",_=W?"Transfer to all members pro rata.":"Transfer to ".concat(Object(O.j)(i,7),"."),D={transferAmount:s,transferAmountUnit:j},w){n.next=34;break}return R=o?"".concat(_,"\n").concat(o):_,k=W?"All members":i,S=Math.floor(Date.now()/1e3),n.next=27,A({partialProposalData:{name:k,body:R,metadata:{proposalAmountValues:D,isTypeAllMembers:W},timestamp:S.toString()},adapterName:st.a.distribute,type:tt.SnapshotType.proposal});case 27:P=n.sent,F=P.uniqueId,L=P.data,M=P.signature,w=F,y=L,C=M;case 34:return B=W?wt.a:i,G=y?Object(tt.prepareVoteProposalData)({payload:{name:y.payload.name,body:y.payload.body,choices:y.payload.choices,snapshot:y.payload.snapshot.toString(),start:y.payload.start,end:y.payload.end},sig:C,space:y.space,timestamp:parseInt(y.timestamp)},d):"",V=[t.contractAddress,w,B,f,v,G],U=Object(g.a)({from:u||""},l?{gasPrice:l.fast}:null),n.next=40,m("submitProposal",e.instance.methods,V,U);case 40:I.push("/transfers/".concat(w)),n.next=46;break;case 43:n.prev=43,n.t0=n.catch(0),T(n.t0);case 46:case"end":return n.stop()}}),n,null,[[0,43]])})))).apply(this,arguments)}function oe(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(Te.a)(_e.a.mark((function e(t){var r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("No BankExtensionContract found."),e.abrupt("return",!1);case 3:return e.next=5,n.instance.methods.balanceOf(t,h.I).call();case 5:return r=e.sent,e.abrupt("return",Object(vt.toBN)(r).gt(Object(vt.toBN)(0)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(se.useEffect)((function(){Z()}),[Z]),Object(se.useEffect)((function(){ee()}),[ee]),q&&!c&&a?Object(ie.jsx)(Rt,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Type"}),Object(ie.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(ie.jsxs)("select",{name:Et.type,ref:U,disabled:$,children:[Object(ie.jsx)("option",{value:"single member",children:"Single member"}),Object(ie.jsx)("option",{value:"all members",children:"All members"})]})})]}),!W&&Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Member Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(Et.memberAddress),"aria-invalid":B.memberAddress?"true":"false",name:Et.memberAddress,ref:U({validate:function(){var e=Object(Te.a)(_e.a.mark((function e(t){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}e.t0=rt.a.REQUIRED,e.next=17;break;case 4:if(Object(xt.a)(t)){e.next=8;break}e.t1=rt.a.INVALID_ETHEREUM_ADDRESS,e.next=16;break;case 8:return e.next=10,oe(t);case 10:if(e.sent){e.next=14;break}e.t2="The address is not an active member with membership tokens.",e.next=15;break;case 14:e.t2=!0;case 15:e.t1=e.t2;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:$}),Object(ie.jsx)(ut,{error:Object(O.f)(Et.memberAddress,B),id:"error-".concat(Et.memberAddress)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Asset"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsxs)("select",{"aria-describedby":"error-".concat(Et.selectedToken),"aria-invalid":B.selectedToken?"true":"false",name:Et.selectedToken,ref:U({validate:function(e){return!k||k.length<1?"No tokens available for distribution.":!!e||rt.a.REQUIRED}}),disabled:$,children:[Object(ie.jsx)("option",{value:"",children:"Select from DAO assets"}),null===k||void 0===k?void 0:k.map((function(e){return Object(ie.jsx)("option",{value:JSON.stringify(e),children:"".concat(e.name," (").concat(e.symbol,")")},e.address)}))]}),Object(ie.jsx)(ut,{error:Object(O.f)(Et.selectedToken,B),id:"error-".concat(Et.selectedToken)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsxs)("div",{className:"input__suffix-wrap",children:[Object(ie.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Et.amount),"aria-invalid":B.amount?"true":"false",name:Et.amount,onChange:function(){return V(Et.amount,Object(O.e)(G().amount))},ref:U({validate:function(e){var t=Number(Object(O.i)(e)),n=H&&JSON.parse(H),r=(null===n||void 0===n?void 0:n.address)===h.p;return""===e?rt.a.REQUIRED:isNaN(t)?rt.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(L)?"Insufficient funds.":!!r||(!!Number.isInteger(t)||"The value must be an integer for an ERC20 token.")}}),type:"text",disabled:$}),Object(ie.jsx)("div",{className:"input__suffix-item",children:H&&JSON.parse(H).symbol||"___"})]}),Object(ie.jsx)(ut,{error:Object(O.f)(Et.amount,B),id:"error-".concat(Et.amount)}),Object(ie.jsx)("div",{className:"form__input-description",children:W?"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of membership tokens held by each member.":"If the proposal passes, this amount will be distributed to the member's internal account."})]}),Object(ie.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(ie.jsx)("span",{children:L?Number.isInteger(Number(L))?L:Object(O.d)(Number(L)):"---"})]})]}),Object(ie.jsxs)("div",{className:"form__textarea-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Notes"}),Object(ie.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(ie.jsx)("textarea",{name:Et.notes,placeholder:"Transactions purpose...",ref:U,disabled:$})})]}),Object(ie.jsx)("button",{className:"button",disabled:$,onClick:Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Y();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:re(G());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:Q?Object(ie.jsx)(dt.a,{}):X?"Done":"Submit"}),$&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){if(v===st.f.AWAITING_CONFIRM||E===st.f.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(v){case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ct.a,{intervalMs:2e3,messages:It.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Le.a,{children:e},e)}}),Object(ie.jsx)(_t.a,{url:p,isPending:!0})]});case st.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Proposal submitted!"}),Object(ie.jsx)(_t.a,{url:p})]});default:return null}}()}),K&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while submitting the proposal.",error:K})})]})}):Object(ie.jsx)(Rt,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:q?c?c.message:a?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a transfer proposal."})})})}function Rt(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function kt(){var e=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(Pe.d)().defaultChainError,r=Object(Pe.e)(),a=r.connected,c=r.account,o=r.web3Instance,i=Object(ct.g)(),u=i.proposalData,d=i.proposalSignAndSendError,l=i.proposalSignAndSendStatus,b=i.signAndSendProposal,j=Object(et.a)({mode:"onBlur",reValidateMode:"onChange"}),p=Object(ce.f)(),f=Object(se.useState)(),m=Object(Ee.a)(f,2),v=m[0],x=m[1],N=Object(se.useState)(),g=Object(Ee.a)(N,2),E=g[0],A=g[1],w=Object(se.useState)(),I=Object(Ee.a)(w,2),y=I[0],C=I[1],_=Object(se.useState)(),T=Object(Ee.a)(_,2),D=T[0],R=T[1],k=j.errors,S=j.getValues,P=j.setValue,F=j.register,L=j.trigger,M=(0,j.watch)("erc20Address"),B=v||d,G=a&&c,V=l===st.f.AWAITING_CONFIRM||l===st.f.PENDING,U=l===st.f.FULFILLED,Y=V||U,z=Object(se.useCallback)((function(){return K.apply(this,arguments)}),[M,o]),W=Object(se.useCallback)((function(){return q.apply(this,arguments)}),[c,D]),H=Object(se.useCallback)((function(){return J.apply(this,arguments)}),[c,D]);function K(){return(K=Object(Te.a)(_e.a.mark((function e(){var t,r,a,c;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&M){e.next=3;break}return R(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.resolve().then(n.t.bind(null,427,3));case 6:t=e.sent,r=t.default,a=r,c=new o.eth.Contract(a,M),R(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),R(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function q(){return(q=Object(Te.a)(_e.a.mark((function e(){var t,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&D){e.next=3;break}return C(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,D.methods.symbol().call();case 6:return t=e.sent,e.next=9,D.methods.decimals().call();case 9:n=e.sent,C({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),C(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function J(){return(J=Object(Te.a)(_e.a.mark((function e(){var t,n,r,a,s,o,i;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&D){e.next=3;break}return A(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,D.methods.balanceOf(c).call();case 6:return t=e.sent,n=Object(vt.toBN)(t),e.next=10,D.methods.decimals().call();case 10:r=e.sent,a=Object(vt.toBN)(10).pow(Object(vt.toBN)(r)),s=n.div(a),o=n.mod(a),i=o.eq(Object(vt.toBN)(0))?s.toString():"".concat(s.toString(),".").concat(o.toString()),A(i),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),A(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(Te.a)(_e.a.mark((function t(){return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return t.abrupt("return","UNITS");case 4:return t.prev=4,t.next=7,e.instance.methods.symbol().call();case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return","UNITS");case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))).apply(this,arguments)}function $(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(Te.a)(_e.a.mark((function e(t){var n,r,a,s,o,i,d,l,j,f,m,v,N,g,E,A,w;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,G){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(c){e.next=5;break}throw new Error("No account found.");case 5:if(D){e.next=7;break}throw new Error("No ERC20Contract found.");case 7:if(y){e.next=9;break}throw new Error("No ERC20 details found.");case 9:if(n=t.applicantAddress,r=t.erc20Address,a=t.tributeAmount,s=t.requestAmount,o=t.description,i=Object(vt.toBN)(10).pow(Object(vt.toBN)(y.decimals)),d=Object(vt.toBN)(Object(O.i)(a)).mul(i),l=Object(O.i)(s),j=Object(vt.toChecksumAddress)(n),f=Object(vt.toChecksumAddress)(c),m=(null===u||void 0===u?void 0:u.uniqueId)||""){e.next=32;break}return v=Object(O.g)(n)===Object(O.g)(c)?"Tribute from ".concat(Object(O.j)(j,7),"."):"Tribute from ".concat(Object(O.j)(f,7)," for applicant ").concat(Object(O.j)(j,7),"."),N=o?"".concat(v,"\n").concat(o):v,e.t0=s,e.next=22,Q();case 22:return e.t1=e.sent,e.t2=a,e.t3=y.symbol,g={requestAmount:e.t0,requestAmountUnit:e.t1,tributeAmount:e.t2,tributeAmountUnit:e.t3},E=[j,h.I,l,Object(vt.toChecksumAddress)(r),d.toString(),f],e.next=29,b({partialProposalData:{name:j,body:N,metadata:{proposalAmountValues:g,submitActionArgs:E,accountAuthorizedToProcessPassedProposal:f}},adapterName:st.a.tribute,type:tt.SnapshotType.draft});case 29:A=e.sent,w=A.uniqueId,m=w;case 32:p.push("/tributes/".concat(m)),e.next=38;break;case 35:e.prev=35,e.t4=e.catch(0),x(e.t4);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){z()}),[z]),Object(se.useEffect)((function(){W()}),[W]),Object(se.useEffect)((function(){H()}),[H]),Object(se.useEffect)((function(){P(At.applicantAddress,c)}),[c,P]),!G||t?Object(ie.jsx)(St,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{children:G?t?t.message:void 0:"Connect your wallet to submit a tribute proposal."})})}):Object(ie.jsx)(St,{children:Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(At.applicantAddress),"aria-invalid":k.applicantAddress?"true":"false",name:At.applicantAddress,ref:F({validate:function(e){return e?!!Object(xt.a)(e)||rt.a.INVALID_ETHEREUM_ADDRESS:rt.a.REQUIRED}}),type:"text",disabled:Y}),Object(ie.jsx)(ut,{error:Object(O.f)(At.applicantAddress,k),id:"error-".concat(At.applicantAddress)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(At.erc20Address),"aria-invalid":k.erc20Address?"true":"false",name:At.erc20Address,ref:F({validate:function(e){return e?!!Object(xt.a)(e)||rt.a.INVALID_ETHEREUM_ADDRESS:rt.a.REQUIRED}}),type:"text",disabled:Y}),Object(ie.jsx)(ut,{error:Object(O.f)(At.erc20Address,k),id:"error-".concat(At.erc20Address)})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsxs)("div",{className:"input__suffix-wrap",children:[Object(ie.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(At.tributeAmount),"aria-invalid":k.tributeAmount?"true":"false",name:At.tributeAmount,onChange:function(){return P(At.tributeAmount,Object(O.e)(S().tributeAmount))},ref:F({validate:function(e){var t=Number(Object(O.i)(e));return""===e?rt.a.REQUIRED:isNaN(t)?rt.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(E)?"Insufficient funds.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:Y}),Object(ie.jsx)("div",{className:"input__suffix-item",children:(null===y||void 0===y?void 0:y.symbol)||"___"})]}),Object(ie.jsx)(ut,{error:Object(O.f)(At.tributeAmount,k),id:"error-".concat(At.tributeAmount)}),Object(ie.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(ie.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(ie.jsx)("span",{children:E?Number.isInteger(Number(E))?E:Object(O.d)(Number(E)):"---"})]})]}),Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(At.requestAmount),"aria-invalid":k.requestAmount?"true":"false",name:At.requestAmount,onChange:function(){return P(At.requestAmount,Object(O.e)(S().requestAmount))},ref:F({validate:function(e){var t=Number(Object(O.i)(e));return""===e?rt.a.REQUIRED:isNaN(t)?rt.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:Y}),Object(ie.jsx)(ut,{error:Object(O.f)(At.requestAmount,k),id:"error-".concat(At.requestAmount)}),Object(ie.jsx)("div",{className:"form__input-description",children:"This is the amount of DAO membership tokens you are requesting be sent to the Applicant Address in exchange for your tribute."})]})]}),Object(ie.jsxs)("div",{className:"form__textarea-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(ie.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(ie.jsx)("textarea",{name:At.description,placeholder:"Say something about your tribute...",ref:F,disabled:Y})})]}),Object(ie.jsx)("button",{className:"button",disabled:Y,onClick:Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,L();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:$(S());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:V?Object(ie.jsx)(dt.a,{}):U?"Done":"Submit"}),Y&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(l){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(nt.a,{intervalMs:500})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:["Submitting",Object(ie.jsx)(nt.a,{intervalMs:500})]});case st.f.FULFILLED:return"Done!";default:return""}}()}),B&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while submitting the proposal.",error:B})})]})})}function St(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.type="type",e.selectedToken="selectedToken",e.memberAddress="memberAddress",e.amount="amount",e.notes="notes"}(Et||(Et={})),function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(At||(At={}));var Pt=n(428),Ft=n.n(Pt),Lt=(n(926),oe.a.memo((function(){return Object(ie.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(ie.jsx)("div",{className:"cube__segment--top"}),Object(ie.jsx)("div",{className:"cube__segment--left"}),Object(ie.jsx)("div",{className:"cube__segment--right"})]})})));function Mt(){return Object(ie.jsxs)("div",{"data-testid":"header",className:"landing__header",children:[Object(ie.jsx)(he,{}),Object(ie.jsx)(Je,{})]})}function Bt(){var e=Object(ce.f)();return Object(se.useEffect)((function(){Ft.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Mt,{}),Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)(ge,{}),Object(ie.jsxs)("div",{className:"landing",children:[Object(ie.jsx)("div",{className:"landing__subtitle",children:"A next generation DAO framework"}),Object(ie.jsx)("div",{className:"landing__img",children:Object(ie.jsx)(Lt,{})}),Object(ie.jsx)("div",{className:"landing__button",children:Object(ie.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})})]})]})})]})}var Gt=n(10),Vt=n(126);function Ut(e){var t,n,r=e.proposal,a=Object(ct.h)(null===(t=r.snapshotProposal)||void 0===t?void 0:t.msg.payload.start,null===(n=r.snapshotProposal)||void 0===n?void 0:n.msg.payload.end),c=a.hasVotingTimeEnded,s=a.hasVotingTimeStarted,o=a.votingTimeStartEndInitReady;return Object(ie.jsxs)(ie.Fragment,{children:[o&&s&&Object(ie.jsx)(Vt.c,{proposal:r}),o&&s&&!c&&Object(ie.jsx)(Vt.b,{proposal:r})]})}function Yt(){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsx)(Le.a,{children:Object(ie.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(ie.jsxs)("h3",{children:["4",Object(ie.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}function zt(e){var t=e.proposal,n=e.renderAmountBadge,r=e.renderActions,a=t.getCommonSnapshotProposalData();return a?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(ie.jsxs)("div",{className:"proposaldetails",children:[Object(ie.jsxs)("div",{className:"proposaldetails__content",children:[Object(ie.jsx)("h3",{children:Object(O.j)(a.msg.payload.name||"",7)}),Object(ie.jsx)(lt.a,{children:a.msg.payload.body})]}),Object(ie.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),r()]})]})]}):null}function Wt(){var e=Object(ce.h)().proposalId,t=Object(ct.b)(e,tt.SnapshotType.proposal),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus;return c===Gt.a.PENDING?Object(ie.jsx)(Ht,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})})}):a?Object(ie.jsx)(Ht,{children:Object(ie.jsx)(Yt,{})}):c===Gt.a.REJECTED||r?Object(ie.jsx)(Ht,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:r,renderText:"Something went wrong."})})}):n?Object(ie.jsx)(Ht,{children:Object(ie.jsx)(zt,{proposal:n,renderActions:function(){return Object(ie.jsx)(Ut,{proposal:n})}})}):Object(ie.jsx)(ie.Fragment,{})}function Ht(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance")},children:"View all"})]}),e.children]})})}var Kt=n(53);var qt=n(429),Jt=n(430),Qt="View Proposal",Xt=n.n(Jt)()()(qt.a);function $t(e){var t=e.buttonText,n=void 0===t?Qt:t,r=e.proposalOnClickId,a=e.onClick,c=e.name,s=e.renderStatus;return Object(ie.jsxs)("div",{className:"proposalcard",onClick:function(){a(r)},children:[Object(ie.jsx)("h3",{className:"proposalcard__title",children:function(e){return Object(xt.a)(e)?Object(O.j)(e,7):Object(ie.jsx)(Xt,{text:e,maxLine:1,ellipsis:"...",trimRight:!0,basedOn:"letters"})}(c)}),s&&s(),Object(ie.jsx)("button",{className:"proposalcard__button",children:n||Qt})]})}function Zt(e){var t=e.actionId,n=void 0===t?wt.a:t,r=e.onProposalClick,a=void 0===r?function(){}:r,c=e.renderProposalCard,s=Object(se.useState)([]),o=Object(Ee.a)(s,2),i=o[0],u=o[1],d=Object(se.useState)({failedProposals:[],passedProposals:[],votingProposals:[]}),l=Object(Ee.a)(d,2),b=l[0],j=l[1],p=function(e){var t=e.actionId,n=void 0===t?wt.a:t,r=Object(se.useState)([]),a=Object(Ee.a)(r,2),c=a[0],s=a[1],o=Object(se.useState)(),i=Object(Ee.a)(o,2),u=i[0],d=i[1],l=Object(se.useState)(Gt.a.STANDBY),b=Object(Ee.a)(l,2),j=b[0],p=b[1],f=Object(Kt.d)().isMountedRef,O=Object(se.useCallback)((function(){return x.apply(this,arguments)}),[n,f]);function m(e){return v.apply(this,arguments)}function v(){return(v=Object(Te.a)(_e.a.mark((function e(t){var n,r,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(h.D,"/api/").concat(h.E),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,e.abrupt("return",Object.entries(a).map((function(e){var t=Object(Ee.a)(e,2),n=t[0],r=t[1];return{daoProposal:void 0,snapshotDraft:void 0,snapshotProposal:Object(g.a)(Object(g.a)({},r),{},{idInSnapshot:n,idInDAO:""}),getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotType:tt.SnapshotType.proposal}})));case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function x(){return(x=Object(Te.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(Gt.a.PENDING),e.next=4,m(n);case 4:if(t=e.sent,f.current){e.next=7;break}return e.abrupt("return");case 7:p(Gt.a.FULFILLED),s(t),e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),f.current){e.next=15;break}return e.abrupt("return");case 15:p(Gt.a.REJECTED),s([]),d(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){O()}),[O]),{governanceProposals:c,governanceProposalsError:u,governanceProposalsStatus:j}}({actionId:n}),f=p.governanceProposals,m=p.governanceProposalsError,v=p.governanceProposalsStatus,x=Object(ct.a)(i),N=x.offchainVotingResults,E=x.offchainVotingResultsError,A=x.offchainVotingResultsStatus,w=b.failedProposals,I=b.passedProposals,y=b.votingProposals,C=v===Gt.a.STANDBY||v===Gt.a.PENDING||A===Gt.a.STANDBY&&i.length>0||A===Gt.a.PENDING,_=v===Gt.a.REJECTED||A===Gt.a.REJECTED;function T(e){return e.map((function(e){var t,n,r,s=null===(t=e.snapshotProposal)||void 0===t?void 0:t.idInSnapshot,o=(null===(n=e.snapshotProposal)||void 0===n?void 0:n.msg.payload.name)||"";if(!s)return null;var i=null===(r=N.find((function(e){var t=Object(Ee.a)(e,2),n=t[0];t[1];return Object(O.g)(n)===Object(O.g)(s)})))||void 0===r?void 0:r[1];return c?Object(ie.jsx)(se.Fragment,{children:c({proposalData:e,votingResult:i})},s):Object(ie.jsx)($t,{name:o,onClick:a,proposalOnClickId:s,renderStatus:function(){return Object(ie.jsx)(Vt.c,{proposal:e,votingResult:i})}},s)}))}return Object(se.useEffect)((function(){u(f.map((function(e){return e.snapshotProposal})))}),[f]),Object(se.useEffect)((function(){if(v===Gt.a.FULFILLED){var e={failedProposals:[],passedProposals:[],votingProposals:[]};f.forEach((function(t){var n,r;if(((null===(n=t.snapshotProposal)||void 0===n?void 0:n.msg.payload.end)||0)<Math.ceil(Date.now()/1e3)){var a=null===(r=N.find((function(e){var n,r=Object(Ee.a)(e,2),a=r[0];r[1];return Object(O.g)(a)===Object(O.g)((null===(n=t.snapshotProposal)||void 0===n?void 0:n.idInSnapshot)||"")})))||void 0===r?void 0:r[1];if(a){var c,s=(c=a).Yes.units>c.No.units;s?e.passedProposals.push(t):s||e.failedProposals.push(t)}}else e.votingProposals.push(t)})),j((function(t){return Object(g.a)(Object(g.a)({},t),e)}))}}),[f,v,N]),C&&!_?Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})}):f.length||Object.values(b).flatMap((function(e){return e})).length||v!==Gt.a.FULFILLED?_?Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:m||E,renderText:"Something went wrong while getting the proposals."})}):Object(ie.jsxs)("div",{className:"grid--fluid grid-container",children:[y.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.VOTING}),Object(ie.jsx)("div",{className:"grid__cards",children:T(y)})]}),I.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.PASSED}),Object(ie.jsx)("div",{className:"grid__cards",children:T(I)})]}),w.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.FAILED}),Object(ie.jsx)("div",{className:"grid__cards",children:T(w)})]})]}):Object(ie.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function en(){var e=Object(ce.f)();return Object(ie.jsx)(tn,{children:Object(ie.jsx)(Zt,{actionId:wt.a,onProposalClick:function(t){t&&e.push("/governance/".concat(t))}})})}function tn(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}var nn=n(957),rn=n(59),an=n.n(rn),cn=["createdAt","didFullyRagequit"];function sn(){var e=Object(s.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(s.c)((function(e){return e.contracts.BankExtensionContract})),n=Object(s.c)((function(e){return e.subgraphNetworkStatus.status})),a=Object(Pe.e)().web3Instance,c=Object(nn.a)(m.c,{pollInterval:h.r,variables:{daoAddress:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),o=Object(Ee.a)(c,2),i=o[0],u=o[1],d=u.called,l=u.loading,b=u.data,j=u.error,p=u.stopPolling,f=Object(se.useState)([]),v=Object(Ee.a)(f,2),x=v[0],N=v[1],A=Object(se.useState)(Gt.a.STANDBY),w=Object(Ee.a)(A,2),I=w[0],y=w[1],C=Object(se.useState)(),_=Object(Ee.a)(C,2),T=_[0],D=_[1],R=Object(se.useCallback)((function(){return S.apply(this,arguments)}),[t,e,a]),k=Object(se.useCallback)((function(){try{if(y(Gt.a.PENDING),!l&&b){var e=b.tributeDaos[0].members.filter((function(e){return!e.didFullyRagequit})).map((function(e){e.createdAt,e.didFullyRagequit;var t=Object(E.a)(e,cn);return Object(g.a)(Object(g.a)({},t),{},{address:an.a.utils.toChecksumAddress(e.address),delegateKey:an.a.utils.toChecksumAddress(e.delegateKey)})}));y(Gt.a.FULFILLED),N(e)}else if(j)throw new Error(j.message)}catch(j){console.log("subgraph query error: ".concat(j.message)),p&&p(),R()}}),[b,j,R,l,p]);function S(){return(S=Object(Te.a)(_e.a.mark((function n(){var c,s,o,i,u,d,l,b,j,p,f,m,v,x,g,E,A;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t&&a){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,y(Gt.a.PENDING),c=e.abi,s=e.contractAddress,o=e.instance.methods,n.next=7,o.getNbMembers().call();case 7:if(i=n.sent,!(Number(i)>0)){n.next=28;break}return u=c.find((function(e){return"getMemberAddress"===e.name})),d=Object(r.a)(Array(Number(i)).keys()).map((function(e){return[s,u,[e.toString()]]})),n.next=13,Object(yt.j)({calls:d,web3Instance:a});case 13:return l=n.sent,b=c.find((function(e){return"memberAddressesByDelegatedKey"===e.name})),j=l.map((function(e){return[s,b,[e]]})),n.next=18,Object(yt.j)({calls:j,web3Instance:a});case 18:return p=n.sent,f=t.abi,m=t.contractAddress,v=f.find((function(e){return"balanceOf"===e.name})),x=p.map((function(e){return[m,v,[e,h.I]]})),n.next=24,Object(yt.j)({calls:x,web3Instance:a});case 24:g=n.sent,E=l.map((function(e,t){return{address:e,delegateKey:p[t],isDelegated:Object(O.g)(e)!==Object(O.g)(p[t]),units:g[t]}})),A=E.filter((function(e){return Object(vt.toBN)(e.units).gt(Object(vt.toBN)(0))})).reverse(),N(A);case 28:y(Gt.a.FULFILLED),n.next=36;break;case 31:n.prev=31,n.t0=n.catch(2),y(Gt.a.REJECTED),N([]),D(n.t0);case 36:case"end":return n.stop()}}),n,null,[[2,31]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){d||i()}),[d,i]),Object(se.useEffect)((function(){n===Z.a.OK?!l&&(null===e||void 0===e?void 0:e.contractAddress)&&k():(p&&p(),R())}),[null===e||void 0===e?void 0:e.contractAddress,R,k,l,p,n]),{members:x,membersError:T,membersStatus:I}}function on(){var e=sn(),t=e.members,n=e.membersError,r=e.membersStatus,a=Object(ce.h)().ethereumAddress,c=Object(se.useState)(),s=Object(Ee.a)(c,2),o=s[0],i=s[1],u=Object(se.useState)(!1),d=Object(Ee.a)(u,2),l=d[0],b=d[1];Object(se.useEffect)((function(){if(r===Gt.a.FULFILLED){var e=t.find((function(e){return Object(O.g)(e.address)===Object(O.g)(a)}));i(e),e||b(!0)}}),[a,t,r]);var j=r===Gt.a.STANDBY||r===Gt.a.PENDING,p=r===Gt.a.FULFILLED,f=r===Gt.a.REJECTED;return j&&!f?Object(ie.jsx)(un,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})})}):f?Object(ie.jsx)(un,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:n,renderText:"Something went wrong while getting the member."})})}):l&&p?Object(ie.jsx)(un,{children:Object(ie.jsx)(Yt,{})}):Object(ie.jsx)(un,{children:o?Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(ie.jsxs)("div",{className:"proposaldetails",children:[Object(ie.jsxs)("div",{className:"memberprofile__left-column",children:[Object(ie.jsx)("h3",{children:Object(O.j)(o.address,7)}),Object(ie.jsx)("div",{children:"MemberProfile Info @todo"})]}),Object(ie.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile Actions @todo"})]})]}):Object(ie.jsx)(ie.Fragment,{})})}function un(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function dn(e){var t=e.member,n=e.onClick;return Object(ie.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;n(e)},children:Object(ie.jsx)("h3",{className:"membercard__title",children:Object(O.j)(t.address,7)})})}function ln(){var e=sn(),t=e.members,n=e.membersError,r=e.membersStatus,a=Object(ce.f)(),c=r===Gt.a.STANDBY||r===Gt.a.PENDING,s=r===Gt.a.FULFILLED,o=r===Gt.a.REJECTED;return c&&!o?Object(ie.jsx)(bn,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})})}):o?Object(ie.jsx)(bn,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:n,renderText:"Something went wrong while getting the members."})})}):!Object.values(t).length&&s?Object(ie.jsx)(bn,{children:Object(ie.jsx)("p",{className:"text-center",children:"No members, yet!"})}):Object(ie.jsx)(bn,{children:Object(ie.jsx)("div",{className:"grid--fluid grid-container",children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(ie.jsx)("div",{className:"grid__cards",children:function(e){return e.map((function(e){return Object(ie.jsx)(dn,{onClick:(t=e.address,function(){t&&a.push("/members/".concat(t))}),member:e},e.address);var t}))}(t)})]})})})}function bn(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}var jn=n(12),pn=n(48),fn=n(47);function On(e){var t=e.adapterName,n=e.onProposalClick,r=void 0===n?function(){}:n,a=e.renderProposalCard,c=e.includeProposalsExistingOnlyOffchain,s=void 0!==c&&c,o=Object(se.useState)({failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]}),i=Object(Ee.a)(o,2),u=i[0],d=i[1],l=Object(ct.d)({adapterName:t,includeProposalsExistingOnlyOffchain:s}),b=l.proposals,j=l.proposalsError,p=l.proposalsStatus,f=u.failedProposals,O=u.nonsponsoredProposals,h=u.passedProposals,m=u.votingProposals,v=p===Gt.a.STANDBY||p===Gt.a.PENDING,x=p===Gt.a.REJECTED;function N(e){return e.map((function(e){var t,n,c,s,o=(null===(t=e.snapshotDraft)||void 0===t?void 0:t.idInDAO)||(null===(n=e.snapshotProposal)||void 0===n?void 0:n.idInDAO),i=(null===(c=e.snapshotDraft)||void 0===c?void 0:c.msg.payload.name)||(null===(s=e.snapshotProposal)||void 0===s?void 0:s.msg.payload.name)||"";return o?a?Object(ie.jsx)(se.Fragment,{children:a({proposalData:e})},o):Object(ie.jsx)($t,{onClick:r,proposalOnClickId:o,name:i,renderStatus:function(){var t;switch(null===(t=e.daoProposalVotingAdapter)||void 0===t?void 0:t.votingAdapterName){case jn.c.OffchainVotingContract:return Object(ie.jsx)(Vt.c,{proposal:e});default:return Object(ie.jsx)(ie.Fragment,{})}}},o):null}))}return Object(se.useEffect)((function(){if(p===Gt.a.FULFILLED){var e={failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]};b.forEach((function(t){var n,r,a,c=t.daoProposal,o=t.daoProposalVotingState,i=t.daoProposalVotes;if(c){var u=0===(null===(n=t.snapshotProposal)||void 0===n||null===(r=n.votes)||void 0===r?void 0:r.length),d=void 0!==o&&Object(pn.e)(fn.a.TIE,o)&&Object(pn.d)(at.b.SPONSORED,c.flags)&&(null===i||void 0===i||null===(a=i.OffchainVotingContract)||void 0===a?void 0:a.reporter)===wt.a;void 0!==o?void 0!==o&&Object(pn.e)(fn.a.PASS,o)&&(Object(pn.d)(at.b.SPONSORED,c.flags)||Object(pn.d)(at.b.PROCESSED,c.flags))?e.passedProposals.push(t):d&&!1===u?e.votingProposals.push(t):void 0===o||!Object(pn.e)(fn.a.NOT_PASS,o)&&!Object(pn.e)(fn.a.TIE,o)||!Object(pn.d)(at.b.SPONSORED,c.flags)&&!Object(pn.d)(at.b.PROCESSED,c.flags)?void 0!==o&&(Object(pn.e)(fn.a.GRACE_PERIOD,o)||Object(pn.e)(fn.a.TIE,o))&&Object(pn.d)(at.b.SPONSORED,c.flags)&&d&&u?e.failedProposals.push(t):void 0!==o&&(Object(pn.e)(fn.a.GRACE_PERIOD,o)||Object(pn.e)(fn.a.IN_PROGRESS,o))&&Object(pn.d)(at.b.SPONSORED,c.flags)&&e.votingProposals.push(t):e.failedProposals.push(t):(s||Object(pn.d)(at.b.EXISTS,c.flags))&&e.nonsponsoredProposals.push(t)}})),d((function(t){return Object(g.a)(Object(g.a)({},t),e)}))}}),[s,b,p]),v&&!x?Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})}):x?Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:j,renderText:"Something went wrong while getting the proposals."})}):Object.values(u).flatMap((function(e){return e})).length||p!==Gt.a.FULFILLED?Object(ie.jsxs)("div",{className:"grid--fluid grid-container",children:[m.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.VOTING}),Object(ie.jsx)("div",{className:"grid__cards",children:N(m)})]}),O.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.REQUESTS}),Object(ie.jsx)("div",{className:"grid__cards",children:N(O)})]}),h.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.PASSED}),Object(ie.jsx)("div",{className:"grid__cards",children:N(h)})]}),f.length>0&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{className:"grid__header",children:rt.d.FAILED}),Object(ie.jsx)("div",{className:"grid__cards",children:N(f)})]})]}):Object(ie.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function hn(){var e=Object(ce.f)();return Object(ie.jsx)(mn,{children:Object(ie.jsx)(On,{adapterName:jn.a.ONBOARDING,onProposalClick:function(t){t&&e.push("/membership/".concat(t))},includeProposalsExistingOnlyOffchain:!0})})}function mn(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var vn=Object(se.lazy)((function(){return n.e(6).then(n.bind(null,983))})),xn={duration:150},Nn={display:"inline-block",width:"100%",fontSize:"1.5rem"};function gn(e){var t,n=e.adapterName,r=e.proposal,a=e.renderAction,c=Object(s.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName})),o=(null===(t=r.daoProposalVotingAdapter)||void 0===t?void 0:t.votingAdapterName)||c;return Object(ie.jsx)(se.Suspense,{fallback:Object(ie.jsx)("span",{className:"text-center",style:Nn,children:Object(ie.jsx)(nt.a,{intervalMs:200,fadeInProps:xn})}),children:function(){if(!o)return Object(ie.jsx)(ie.Fragment,{});switch(o){case jn.c.OffchainVotingContract:return Object(ie.jsx)(vn,{adapterName:n,proposal:r,renderAction:a});case jn.c.VotingContract:return Object(ie.jsx)(ie.Fragment,{});default:return Object(ie.jsx)(ot.a,{error:new Error('"'.concat(o,'" is not a valid voting adapter name.')),renderText:"Something went wrong"})}}()})}function En(e){var t=e.amount,n=e.amountUnit,r=e.amount2,a=e.amount2Unit;return Object(ie.jsx)("div",{className:"proposaldetails__amount",children:Object(ie.jsxs)("span",{children:["".concat(t," ").concat(n),r&&Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("br",{}),Object(ie.jsx)("small",{children:"for"}),Object(ie.jsx)("br",{}),"".concat(r," ").concat(a)]})]})})}var An={skipIsActiveMemberCheck:!0};function wn(e){var t=e.disabled,n=e.proposal.snapshotProposal,r=Object(se.useState)(),a=Object(Ee.a)(r,2),c=a[0],o=a[1],i=Object(se.useState)(),u=Object(Ee.a)(i,2),d=u[0],l=u[1],b=Object(se.useRef)({notProposerMessage:""}),j=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),p=Object(s.c)((function(e){return e.contracts.DaoRegistryContract})),f=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),O=Object(se.useState)(),h=Object(Ee.a)(O,2),m=h[0],v=h[1],x=Object(Pe.e)(),N=x.account,E=x.web3Instance,A=Object(Pe.a)(),w=A.txEtherscanURL,I=A.txIsPromptOpen,y=A.txSend,C=A.txStatus,T=Object(Kt.e)(An),D=T.isDisabled,R=T.openWhyDisabledModal,k=T.WhyDisabledModal,S=T.setOtherDisabledReasons,P=Object(Pe.b)(),F=Object(s.b)(),L=C===st.f.AWAITING_CONFIRM||C===st.f.PENDING,M=C===st.f.FULFILLED,B=L||M||I,G=D||B||t,V=Object(se.useCallback)((function(){return Y.apply(this,arguments)}),[j,null===p||void 0===p?void 0:p.contractAddress,n]),U=Object(se.useCallback)((function(){return K.apply(this,arguments)}),[f]);function Y(){return(Y=Object(Te.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n&&j){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.instance.methods.proposals(null===p||void 0===p?void 0:p.contractAddress,n.idInDAO).call();case 5:t=e.sent,l(t.amount),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0),l(void 0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function z(){return(z=Object(Te.a)(_e.a.mark((function e(){var t,r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(j){e.next=7;break}throw new Error("No OnboardingContract found.");case 7:if(N){e.next=9;break}throw new Error("No account found.");case 9:return t=[p.contractAddress,n.idInDAO],r=Object(g.a)({from:N||"",value:d},P?{gasPrice:P.fast}:null),e.next=13,y("processProposal",j.instance.methods,t,r);case 13:if(!e.sent){e.next=19;break}return e.next=17,W();case 17:return e.next=19,F(Object(_.w)({account:N,daoRegistryContract:p,web3Instance:E}));case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),o(e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}function W(){return H.apply(this,arguments)}function H(){return(H=Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:m}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function K(){return(K=Object(Te.a)(_e.a.mark((function e(){var t,n,r,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=f.contractAddress,e.next=6,f.instance.methods.symbol().call();case 6:return n=e.sent,e.next=9,f.instance.methods.decimals().call();case 9:r=e.sent,a="".concat(window.location.origin,"/favicon.ico"),v({address:t,symbol:n,decimals:Number(r),image:a}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),v(void 0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){V()}),[V]),Object(se.useEffect)((function(){var e=n.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&N&&(b.current=Object(g.a)(Object(g.a)({},b.current),{},{notProposerMessage:e.toLowerCase()!==N.toLowerCase()?"Only the original proposer can process the proposal.":""})),S(Object.values(b.current))}),[N,S,n]),Object(se.useEffect)((function(){var e=n.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&N&&e.toLowerCase()===N.toLowerCase()&&U()}),[N,U,n]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"proposaldetails__button",disabled:G,onClick:G?function(){}:function(){return z.apply(this,arguments)},children:L?Object(ie.jsx)(dt.a,{}):M?"Done":"Process"}),Object(ie.jsx)(ot.a,{error:c,renderText:"Something went wrong"}),B&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(C){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to process the proposal",Object(ie.jsx)(nt.a,{})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ct.a,{intervalMs:2e3,messages:It.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Le.a,{children:e},e)}}),Object(ie.jsx)(_t.a,{url:w,isPending:!0})]});case st.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Proposal submitted!"}),Object(ie.jsx)(_t.a,{url:w})]});default:return null}}()}),D&&Object(ie.jsx)("button",{className:"button--help-centered",onClick:R,children:"Why is processing disabled?"})]}),Object(ie.jsx)(k,{title:"Why is processing disabled?"})]})}function In(){var e=Object(ce.h)().proposalId,t=Object(ct.b)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus;function s(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal,a=t.status;return a===at.c.Process||a===at.c.OffchainVotingGracePeriod?n&&fn.a[n]!==fn.a[fn.a.PASS]?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsx)(wn,{disabled:a===at.c.OffchainVotingGracePeriod,proposal:r}):null}if(c===Gt.a.PENDING)return Object(ie.jsx)(yn,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})})});if(a)return Object(ie.jsx)(yn,{children:Object(ie.jsx)(Yt,{})});if(c===Gt.a.REJECTED||r)return Object(ie.jsx)(yn,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:r,renderText:"Something went wrong."})})});if(n){var o=n.getCommonSnapshotProposalData(),i="\u2014",u="";try{var d=null===o||void 0===o?void 0:o.msg.payload.metadata.proposalAmountValues;i=d.tributeAmount,u=d.tributeAmountUnit}catch(l){i="\u2014",u=""}return Object(ie.jsx)(yn,{children:Object(ie.jsx)(zt,{proposal:n,renderAmountBadge:function(){return Object(ie.jsx)(En,{amount:i,amountUnit:u})},renderActions:function(){return Object(ie.jsx)(gn,{adapterName:st.a.onboarding,proposal:n,renderAction:s})}})})}return Object(ie.jsx)(ie.Fragment,{})}function yn(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function Cn(e){var t=e.showAfterMs,n=Object(se.useState)(!1),r=Object(Ee.a)(n,2),a=r[0],c=r[1];return Object(se.useEffect)((function(){var e=t&&setTimeout((function(){return c(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&a?Object(ie.jsx)("div",{className:"loader--emoji",children:Object(ie.jsx)("span",{role:"img","aria-label":"Loading content...",children:e.emoji})}):null}var _n=n(185),Tn=n(182);function Dn(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({"aria-hidden":"true",focusable:"false","data-icon":"copy",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},e),{},{children:Object(ie.jsx)("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"})}))}function Rn(e){return Object(ie.jsx)("svg",Object(g.a)(Object(g.a)({"aria-hidden":"true",focusable:"false","data-icon":"wallet",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),{},{children:Object(ie.jsx)("path",{fill:"currentColor",d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"})}))}function kn(e){var t=e.erc20Details;function n(){return(n=Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:t}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}return t?Object(ie.jsxs)("div",{children:["Token: ",Object(ie.jsx)("span",{children:Object(Tn.a)(t.address,7)}),Object(ie.jsx)("div",{className:"daotoken__tooltip",children:Object(ie.jsxs)("button",{className:"daotoken__button",onClick:function(){if(t){var e=document.createElement("input");document.body.appendChild(e),e.setAttribute("value",t.address),e.select(),document.execCommand("copy"),document.body.removeChild(e),document.getElementById("copyTooltip").innerHTML="copied!"}},onMouseLeave:function(){document.getElementById("copyTooltip").innerHTML="copy address"},children:[Object(ie.jsx)("span",{className:"daotoken__tooltiptext",id:"copyTooltip",children:"copy address"}),Object(ie.jsx)(Dn,{})]})}),Object(ie.jsx)("div",{className:"daotoken__tooltip",children:Object(ie.jsxs)("button",{className:"daotoken__button",onClick:function(){return n.apply(this,arguments)},children:[Object(ie.jsx)("span",{className:"daotoken__tooltiptext",children:"add to wallet"}),Object(ie.jsx)(Rn,{})]})})]}):Object(ie.jsx)(ie.Fragment,{})}var Sn=n(141);function Pn(e){var t=e.redeemables,n=e.erc20Details;return Object(ie.jsx)(Ln,{children:Object(ie.jsx)(Fn,{redeemable:t[0],erc20Details:n})})}function Fn(e){var t=e.redeemable,n=e.erc20Details,r=Object(Sn.b)(),a=r.redeemCoupon,c=r.submitStatus,s=r.submitError,o=r.txStatus,i=r.txEtherscanURL,u=r.txIsPromptOpen,d=c===Sn.a.PENDING||o===st.f.AWAITING_CONFIRM||o===st.f.PENDING,l=c===Sn.a.FULFILLED||o===st.f.FULFILLED||t.isRedeemd,b=d||l||u;return Object(ie.jsxs)("div",{className:"redeemcard redeemcard__content ".concat(l?"fireworks":""," "),children:[Object(ie.jsxs)("p",{className:"redeemcard__recipient",children:["Recipient:"," ",Object(O.j)(Object(vt.toChecksumAddress)(t.recipient),7)]}),Object(ie.jsxs)("p",{className:"redeemcard__unit",children:[Object(O.e)(t.amount),Object(ie.jsx)("sup",{children:Object(ie.jsx)("small",{children:(null===n||void 0===n?void 0:n.symbol)||"tokens"})})]}),Object(ie.jsx)(kn,{erc20Details:n}),l&&Object(ie.jsx)("p",{className:"redeemcard__redeemed",children:Object(ie.jsx)("span",{className:"pulse",role:"img","aria-label":"Redeemed!",style:{display:"inline-block"},children:"\ud83e\udd73"})}),Object(ie.jsx)("button",{className:"button",style:{marginTop:l?"1rem":"1.5rem"},onClick:Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t,n);case 2:case"end":return e.stop()}}),e)}))),disabled:b,children:d?Object(ie.jsx)(dt.a,{}):l?"Redeemed!":"Redeem"}),b&&!t.isRedeemd&&Object(ie.jsx)("div",{className:"form__submit-status-container",style:{marginTop:"1rem"},children:function(){switch(o){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(_n.a,{})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ct.a,{intervalMs:2e3,messages:It.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Le.a,{children:e},e)}}),Object(ie.jsx)(_t.a,{url:i,isPending:!0})]});case st.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Finalized!"}),Object(ie.jsx)(_t.a,{url:i})]});default:return null}}()}),s&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while redeeming the coupon.",error:s})})]})}function Ln(e){return Object(ie.jsx)(Le.a,{children:Object(ie.jsx)("div",{className:"grid--fluid grid-container",children:e.children})})}function Mn(){var e=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),t=Object(se.useState)([]),n=Object(Ee.a)(t,2),r=n[0],a=n[1],c=Object(se.useState)(Gt.a.STANDBY),o=Object(Ee.a)(c,2),i=o[0],u=o[1],d=Object(se.useState)(),l=Object(Ee.a)(d,2),b=l[0],j=l[1],p=Object(se.useState)(Gt.a.STANDBY),f=Object(Ee.a)(p,2),O=f[0],m=f[1],v=Object(Pe.e)(),x=v.connected,N=v.account,g=Object(ce.g)(),E=new URLSearchParams(g.search).get("coupon"),A=i===Gt.a.STANDBY||i===Gt.a.PENDING||O===Gt.a.STANDBY||O===Gt.a.PENDING,w=Object(se.useCallback)((function(){return y.apply(this,arguments)}),[E]),I=Object(se.useCallback)((function(){return C.apply(this,arguments)}),[e]);function y(){return(y=Object(Te.a)(_e.a.mark((function e(){var t,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(Gt.a.PENDING),e.next=4,fetch("".concat(h.g,"/api/coupon/redeem"),{method:"POST",body:JSON.stringify({signature:E}),headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,a(n),u(Gt.a.FULFILLED),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),u(Gt.a.REJECTED);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function C(){return(C=Object(Te.a)(_e.a.mark((function t(){var n,r,a,c;return _e.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,m(Gt.a.PENDING),n=e.contractAddress,t.next=7,e.instance.methods.symbol().call();case 7:return r=t.sent,t.next=10,e.instance.methods.decimals().call();case 10:a=t.sent,c="".concat(window.location.origin,"/favicon.ico"),j({address:n,symbol:r,decimals:Number(a),image:c}),m(Gt.a.FULFILLED),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(2),console.log(t.t0),j(void 0),m(Gt.a.REJECTED);case 21:case"end":return t.stop()}}),t,null,[[2,16]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){N&&x&&w()}),[N,x,w]),Object(se.useEffect)((function(){I()}),[I]),x?x&&A?Object(ie.jsxs)(Bn,{children:[Object(ie.jsx)(Cn,{emoji:"\ud83c\udf9f"}),Object(ie.jsx)("p",{children:"Checking... please wait"})]}):void 0!==E&&E?r&&r.length?Object(ie.jsx)(Bn,{children:Object(ie.jsx)(Pn,{redeemables:r,erc20Details:b})}):Object(ie.jsx)(Bn,{children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:"Coupon not found."})}):Object(ie.jsx)(Bn,{children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:"Coupon signature missing."})}):Object(ie.jsx)(Bn,{children:Object(ie.jsx)("div",{className:"form__description--unauthorized",children:Object(ie.jsx)("p",{className:"color-brightsalmon",children:"Connect your wallet to view coupon."})})})}function Bn(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Redeem Coupon"})}),Object(ie.jsxs)("div",{className:"form-wrapper",children:[Object(ie.jsx)("div",{className:"form__description",children:Object(ie.jsx)("p",{children:"Redeem coupon to issue the membership tokens."})}),e.children]})]})})}function Gn(e){var t=e.proposal.snapshotProposal,n=Object(se.useState)(),r=Object(Ee.a)(n,2),a=r[0],c=r[1],o=Object(se.useRef)({alreadyCompletedMessage:""}),i=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),u=Object(s.c)((function(e){return e.contracts.DaoRegistryContract})),d=Object(Pe.e)(),l=d.account,b=d.web3Instance,j=Object(Pe.a)(),p=j.txEtherscanURL,f=j.txIsPromptOpen,O=j.txSend,h=j.txStatus,m=Object(Kt.e)(),v=m.isDisabled,x=m.openWhyDisabledModal,N=m.WhyDisabledModal,E=m.setOtherDisabledReasons,A=Object(Pe.b)(),w=Object(s.b)(),I=h===st.f.AWAITING_CONFIRM||h===st.f.PENDING,y=h===st.f.FULFILLED,C=I||y||f,T=v||C;function D(){return(D=Object(Te.a)(_e.a.mark((function e(){var n,r,a,s;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(t){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(i){e.next=7;break}throw new Error("No DistributeContract found.");case 7:if(l){e.next=9;break}throw new Error("No account found.");case 9:if(n="0",!(null===t||void 0===t?void 0:t.msg.payload.metadata.isTypeAllMembers)){e.next=22;break}return e.prev=12,e.next=15,u.instance.methods.getNbMembers().call();case 15:r=e.sent,n=r.toString(),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(12),new Error("Error while retrieving number of DAO members");case 22:return a=[u.contractAddress,n],s=Object(g.a)({from:l||""},A?{gasPrice:A.fast}:null),e.next=26,O("distribute",i.instance.methods,a,s);case 26:if(!e.sent){e.next=30;break}return e.next=30,w(Object(_.w)({account:l,daoRegistryContract:u,web3Instance:b}));case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),c(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[12,19]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){function e(){return(e=Object(Te.a)(_e.a.mark((function e(){var n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No Snapshot proposal was found.");case 3:if(u){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:if(i){e.next=7;break}throw new Error("No DistributeContract found.");case 7:return e.next=9,i.instance.methods.distributions(u.contractAddress,t.idInDAO).call();case 9:n=e.sent,o.current=Object(g.a)(Object(g.a)({},o.current),{},{alreadyCompletedMessage:at.a[n.status]!==at.a[at.a.IN_PROGRESS]?"The transfer has already been completed.":""}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:E(Object.values(o.current));case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,u,E,t]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"proposaldetails__button",disabled:T,onClick:T?function(){}:function(){return D.apply(this,arguments)},children:I?Object(ie.jsx)(dt.a,{}):y?"Transfer done":"Transfer assets"}),Object(ie.jsx)(ot.a,{error:a,renderText:"Something went wrong"}),C&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(h){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to transfer assets",Object(ie.jsx)(nt.a,{})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ct.a,{intervalMs:2e3,messages:It.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Le.a,{children:e},e)}}),Object(ie.jsx)(_t.a,{url:p,isPending:!0})]});case st.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Assets transferred!"}),Object(ie.jsx)(_t.a,{url:p})]});default:return null}}()}),v&&Object(ie.jsx)("button",{className:"button--help-centered",onClick:x,children:"Why is action disabled?"})]}),Object(ie.jsx)(N,{title:"Why is transfer disabled?"})]})}function Vn(){var e=Object(ce.h)().proposalId,t=Object(ct.b)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus;function s(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal;return t.status===at.c.Completed&&n&&fn.a[n]===fn.a[fn.a.PASS]?Object(ie.jsx)(Gn,{proposal:r}):null}if(c===Gt.a.PENDING)return Object(ie.jsx)(Un,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})})});if(a)return Object(ie.jsx)(Un,{children:Object(ie.jsx)(Yt,{})});if(c===Gt.a.REJECTED||r)return Object(ie.jsx)(Un,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:r,renderText:"Something went wrong."})})});if(n){var o=n.getCommonSnapshotProposalData(),i="\u2014",u="";try{var d=null===o||void 0===o?void 0:o.msg.payload.metadata.proposalAmountValues;i=d.transferAmount,u=d.transferAmountUnit}catch(l){i="\u2014",u=""}return Object(ie.jsx)(Un,{children:Object(ie.jsx)(zt,{proposal:n,renderAmountBadge:function(){return Object(ie.jsx)(En,{amount:i,amountUnit:u})},renderActions:function(){return Object(ie.jsx)(gn,{adapterName:st.a.distribute,proposal:n,renderAction:s})}})})}return Object(ie.jsx)(ie.Fragment,{})}function Un(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}function Yn(){var e=Object(ce.f)();return Object(ie.jsx)(zn,{children:Object(ie.jsx)(On,{adapterName:jn.a.DISTRIBUTE,onProposalClick:function(t){t&&e.push("/transfers/".concat(t))}})})}function zn(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}var Wn={skipIsActiveMemberCheck:!0};function Hn(e){var t=e.disabled,r=e.proposal.snapshotProposal,a=Object(se.useState)(),c=Object(Ee.a)(a,2),o=c[0],i=c[1],u=Object(se.useState)(),d=Object(Ee.a)(u,2),l=d[0],b=d[1],j=Object(se.useRef)({notProposerMessage:""}),p=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),f=Object(s.c)((function(e){return e.contracts.DaoRegistryContract})),O=Object(s.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.ERC20ExtensionContract})),h=Object(se.useState)(),m=Object(Ee.a)(h,2),v=m[0],x=m[1],N=Object(Pe.e)(),E=N.account,A=N.web3Instance,w=Object(Pe.a)(),I=w.txEtherscanURL,y=w.txIsPromptOpen,C=w.txSend,T=w.txStatus,D=Object(Pe.a)(),R=D.txEtherscanURL,k=D.txIsPromptOpen,S=D.txSend,P=D.txStatus,F=Object(Kt.e)(Wn),L=F.isDisabled,M=F.openWhyDisabledModal,B=F.WhyDisabledModal,G=F.setOtherDisabledReasons,V=Object(Pe.b)(),U=Object(s.b)(),Y=T===st.f.AWAITING_CONFIRM||T===st.f.PENDING||P===st.f.AWAITING_CONFIRM||P===st.f.PENDING,z=T===st.f.FULFILLED,W=Y||z||y||k,H=L||W||t,K=Object(se.useCallback)((function(){return J.apply(this,arguments)}),[p,null===f||void 0===f?void 0:f.contractAddress,r]),q=Object(se.useCallback)((function(){return te.apply(this,arguments)}),[O]);function J(){return(J=Object(Te.a)(_e.a.mark((function e(){var t,n,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r&&p){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,p.instance.methods.proposals(null===f||void 0===f?void 0:f.contractAddress,r.idInDAO).call();case 5:t=e.sent,n=t.token,a=t.tributeAmount,b({tokenAddress:n,tributeAmount:a}),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),b(void 0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(Te.a)(_e.a.mark((function e(){var t,r,a,c,s,o,i,u,d,b,j,f,O;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,l){e.next=3;break}throw new Error("No Tribute proposal details found.");case 3:if(p){e.next=5;break}throw new Error("No TributeContract found.");case 5:if(E){e.next=7;break}throw new Error("No account found.");case 7:return t=l.tokenAddress,r=l.tributeAmount,e.next=10,Promise.resolve().then(n.t.bind(null,427,3));case 10:return a=e.sent,c=a.default,s=c,o=new A.eth.Contract(s,t),e.next=16,o.methods.allowance(E,p.contractAddress).call();case 16:if(i=e.sent,u=Object(vt.toBN)(r),d=Object(vt.toBN)(i),!u.gt(d)){e.next=32;break}return e.prev=20,b=u.sub(d),j=d.add(b),f=[p.contractAddress,j.toString()],O=Object(g.a)({from:E||""},V?{gasPrice:V.fast}:null),e.next=27,S("approve",o.methods,f,O);case 27:e.next=32;break;case 29:throw e.prev=29,e.t0=e.catch(20),e.t0;case 32:e.next=37;break;case 34:throw e.prev=34,e.t1=e.catch(0),e.t1;case 37:case"end":return e.stop()}}),e,null,[[0,34],[20,29]])})))).apply(this,arguments)}function $(){return($=Object(Te.a)(_e.a.mark((function e(){var t,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(r){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(p){e.next=7;break}throw new Error("No TributeContract found.");case 7:if(E){e.next=9;break}throw new Error("No account found.");case 9:return e.next=11,Q();case 11:return t=[f.contractAddress,r.idInDAO],n=Object(g.a)({from:E||""},V?{gasPrice:V.fast}:null),e.next=15,C("processProposal",p.instance.methods,t,n);case 15:if(!e.sent){e.next=21;break}return e.next=19,Z();case 19:return e.next=21,U(Object(_.w)({account:E,daoRegistryContract:f,web3Instance:A}));case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),i(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})))).apply(this,arguments)}function Z(){return ee.apply(this,arguments)}function ee(){return(ee=Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,window.ethereum.request({method:"wallet_watchAsset",params:{type:"ERC20",options:v}});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function te(){return(te=Object(Te.a)(_e.a.mark((function e(){var t,n,r,a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t=O.contractAddress,e.next=6,O.instance.methods.symbol().call();case 6:return n=e.sent,e.next=9,O.instance.methods.decimals().call();case 9:r=e.sent,a="".concat(window.location.origin,"/favicon.ico"),x({address:t,symbol:n,decimals:Number(r),image:a}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0),x(void 0);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){K()}),[K]),Object(se.useEffect)((function(){var e=r.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&E&&(j.current=Object(g.a)(Object(g.a)({},j.current),{},{notProposerMessage:e.toLowerCase()!==E.toLowerCase()?"Only the original proposer can process the proposal.":""})),G(Object.values(j.current))}),[E,G,r]),Object(se.useEffect)((function(){var e=r.msg.payload.metadata.accountAuthorizedToProcessPassedProposal;e&&E&&e.toLowerCase()===E.toLowerCase()&&q()}),[E,q,r]),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:[Object(ie.jsx)("button",{className:"proposaldetails__button",disabled:H,onClick:H?function(){}:function(){return $.apply(this,arguments)},children:Y?Object(ie.jsx)(dt.a,{}):z?"Done":"Process"}),Object(ie.jsx)(ot.a,{error:o,renderText:"Something went wrong"}),W&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){if(P===st.f.AWAITING_CONFIRM)return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to transfer your tokens",Object(ie.jsx)(nt.a,{})]});if(P===st.f.PENDING)return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{children:["Approving your tokens for transfer",Object(ie.jsx)(nt.a,{})]}),Object(ie.jsx)(_t.a,{url:R,isPending:!0})]});switch(T){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Confirm to process the proposal",Object(ie.jsx)(nt.a,{})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ct.a,{intervalMs:2e3,messages:It.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Le.a,{children:e},e)}}),Object(ie.jsx)(_t.a,{url:I,isPending:!0})]});case st.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Proposal submitted!"}),Object(ie.jsx)(_t.a,{url:I})]});default:return null}}()}),L&&Object(ie.jsx)("button",{className:"button--help-centered",onClick:M,children:"Why is processing disabled?"})]}),Object(ie.jsx)(B,{title:"Why is processing disabled?"})]})}var Kn="\u2014";function qn(){var e=Object(ce.h)().proposalId,t=Object(ct.b)(e),n=t.proposalData,r=t.proposalError,a=t.proposalNotFound,c=t.proposalStatus;function s(e){var t=e.OffchainVotingContract,n=t.daoProposalVoteResult,r=t.proposal,a=t.status;return a===at.c.Process||a===at.c.OffchainVotingGracePeriod?n&&fn.a[n]!==fn.a[fn.a.PASS]?Object(ie.jsx)(ie.Fragment,{}):Object(ie.jsx)(Hn,{disabled:a===at.c.OffchainVotingGracePeriod,proposal:r}):null}if(c===Gt.a.PENDING)return Object(ie.jsx)(Jn,{children:Object(ie.jsx)("div",{className:"loader--large-container",children:Object(ie.jsx)(Fe,{})})});if(a)return Object(ie.jsx)(Jn,{children:Object(ie.jsx)(Yt,{})});if(c===Gt.a.REJECTED||r)return Object(ie.jsx)(Jn,{children:Object(ie.jsx)("div",{className:"text-center",children:Object(ie.jsx)(ot.a,{error:r,renderText:"Something went wrong."})})});if(n){var o=n.getCommonSnapshotProposalData(),i=Kn,u="",d=Kn,l="";try{var b=null===o||void 0===o?void 0:o.msg.payload.metadata.proposalAmountValues;i=b.tributeAmount,u=b.tributeAmountUnit,d=b.requestAmount,l=b.requestAmountUnit}catch(j){i=Kn,u="",d=Kn,l=""}return Object(ie.jsx)(Jn,{children:Object(ie.jsx)(zt,{proposal:n,renderAmountBadge:function(){return Object(ie.jsx)(En,{amount:i,amountUnit:u,amount2:d,amount2Unit:l})},renderActions:function(){return Object(ie.jsx)(gn,{adapterName:st.a.tribute,proposal:n,renderAction:s})}})})}return Object(ie.jsx)(ie.Fragment,{})}function Jn(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function Qn(){var e=Object(ce.f)();return Object(ie.jsx)(Xn,{children:Object(ie.jsx)(On,{adapterName:jn.a.TRIBUTE,onProposalClick:function(t){t&&e.push("/tributes/".concat(t))},includeProposalsExistingOnlyOffchain:!0})})}function Xn(e){var t=Object(ce.f)();return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsxs)("div",{className:"titlebar",children:[Object(ie.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(ie.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}var $n=n(7);function Zn(e){return t=e,an.a.utils.sha3(t);var t}function er(e){var t;return{acl:tr((t={},Object($n.a)(t,jn.b.BANK,{}),Object($n.a)(t,jn.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object($n.a)(t,jn.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object($n.a)(t,jn.a.EXECUTION,{}),Object($n.a)(t,jn.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object($n.a)(t,jn.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object($n.a)(t,jn.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object($n.a)(t,jn.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object($n.a)(t,jn.a.OFFCHAINVOTING,{}),Object($n.a)(t,jn.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object($n.a)(t,jn.a.NONVOTING_ONBOARDING,{}),Object($n.a)(t,jn.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object($n.a)(t,jn.a.VOTING,{}),Object($n.a)(t,jn.a.BANK,{WITHDRAW:!0,SUB_FROM_BALANCE:!0,UPDATE_TOKEN:!0}),Object($n.a)(t,jn.a.NFT,{COLLECT_NFT:!0}),Object($n.a)(t,jn.a.COUPON_ONBOARDING,{SUBMIT_PROPOSAL:!1,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!1,NEW_MEMBER:!0}),Object($n.a)(t,jn.a.TRIBUTE_NFT,{SUBMIT_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,COLLECT_NFT:!0}),Object($n.a)(t,jn.b.NFT,{WITHDRAW_NFT:!0,COLLECT_NFT:!0,INTERNAL_TRANSFER:!0}),Object($n.a)(t,jn.a.DAO_REGISTRY,{UPDATE_DELEGATE_KEY:!0}),t)[e])}}function tr(e){var t=[e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER],n=[e.TRANSFER_NFT];return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([].concat(t,n))}var nr,rr=[{name:jn.a.CONFIGURATION,adapterId:Zn(jn.a.CONFIGURATION),contractAddress:h.e[h.k],abiFunctionName:"submitConfigurationProposal",description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:jn.a.DISTRIBUTE,adapterId:Zn(jn.a.DISTRIBUTE),contractAddress:h.l[h.k],abiFunctionName:"submitProposal",description:"Allows the members to distribute funds to one or all members of the DAO."},{name:jn.a.FINANCING,adapterId:Zn(jn.a.FINANCING),contractAddress:h.q[h.k],abiFunctionName:"createFinancingRequest",description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:jn.a.GUILDKICK,adapterId:Zn(jn.a.GUILDKICK),contractAddress:h.t[h.k],abiFunctionName:"submitKickProposal",description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:jn.a.MANAGING,adapterId:Zn(jn.a.MANAGING),contractAddress:h.w[h.k],abiFunctionName:"submitProposal",description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:jn.a.ONBOARDING,adapterId:Zn(jn.a.ONBOARDING),contractAddress:h.B[h.k],abiFunctionName:"configureDao",description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:jn.a.RAGEQUIT,adapterId:Zn(jn.a.RAGEQUIT),contractAddress:h.C[h.k],abiFunctionName:"ragequit",description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:jn.a.TRIBUTE,adapterId:Zn(jn.a.TRIBUTE),contractAddress:h.G[h.k],abiFunctionName:"configureDao",description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{name:jn.a.TRIBUTE_NFT,adapterId:Zn(jn.a.TRIBUTE_NFT),contractAddress:h.H[h.k],abiFunctionName:"provideTributeNFT",description:"Allows potential DAO members to contribute a registered ERC-721 asset to the DAO in exchange for any amount of DAO units."},{options:[{name:jn.a.VOTING,displayName:jn.a.OFFCHAINVOTING,adapterId:Zn(jn.a.VOTING),contractAddress:h.A[h.k],abiFunctionName:"configureDao",description:"Adds the offchain voting governance process to the DAO to support gasless voting.",setAclToExtensionForAdapter:!0},{name:jn.a.VOTING,displayName:jn.a.VOTING,adapterId:Zn(jn.a.VOTING),contractAddress:h.J[h.k],abiFunctionName:"configureDao",description:"Adds the simple on chain voting governance process to the DAO.",setAclToExtensionForAdapter:!0}],optionDefaultTarget:jn.a.VOTING},{name:jn.a.BANK,adapterId:Zn(jn.a.BANK),contractAddress:h.a[h.k],abiFunctionName:"withdraw",description:"Allows the members to withdraw their funds from the DAO bank."},{name:jn.a.NFT,adapterId:Zn(jn.a.NFT),contractAddress:h.z[h.k],abiFunctionName:"collect",description:"Transfers ownership of an NFT to the DAO collection."},{name:jn.a.COUPON_ONBOARDING,adapterId:Zn(jn.a.COUPON_ONBOARDING),contractAddress:h.f[h.k],abiFunctionName:"configureDao",description:"Provides a way to onboard an initial group of members quickly without requiring multiple proposals."},{name:jn.a.DAO_REGISTRY,adapterId:Zn(jn.a.DAO_REGISTRY),contractAddress:h.i[h.k],abiFunctionName:"updateDelegateKey",description:"Allows the member to update delegate key."}],ar=["DaoRegistryContract"];function cr(){var e=Object(s.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(E.a)(e,ar),r=Object(nn.a)(m.a,{pollInterval:h.r,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(Ee.a)(r,2),c=a[0],o=a[1],i=o.called,u=o.data,d=o.error,l=Object(se.useState)(),b=Object(Ee.a)(l,2),j=b[0],p=b[1],f=Object(se.useState)(),O=Object(Ee.a)(f,2),v=O[0],x=O[1],N=Object(se.useState)(Gt.a.STANDBY),A=Object(Ee.a)(N,2),w=A[0],I=A[1],y=Object(se.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return rr.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(g.a)(Object(g.a)(Object(g.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var s=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),o=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(s||o){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(g.a)(Object(g.a)(Object(g.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}else{var s=a(e.adapterId);if(s)return n.push(Object(g.a)(Object(g.a)(Object(g.a)({},s),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(g.a)(Object(g.a)(Object(g.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(g.a)(Object(g.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(se.useEffect)((function(){i||c()}),[i,c]),Object(se.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(I(Gt.a.PENDING),u){var e=u.tributeDaos[0],n=e.adapters,r=e.extensions,a=y(n,r),c=a.registeredList,s=a.unRegisteredList;p(c),x(s),I(Gt.a.FULFILLED)}else if(d)throw new Error(d.message)}catch(d){p(void 0),x(void 0),I(Gt.a.REJECTED)}}),[t,u,d,y]),{adapterExtensionStatus:w,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:j,unRegisteredAdaptersOrExtensions:v}}function sr(){var e=Object(Pe.d)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString();return n===nr.ADDRESS?function(t){try{return!!t&&(an.a.utils.checkAddressChecksum(t,e)||an.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===nr.BYTES32?function(e){try{return!!e&&(66===e.length&&an.a.utils.isHex(e))}catch(t){return!1}}(r):n===nr.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&an.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===nr.UINT256?function(e){return!isNaN(Number(e))}(r):n!==nr.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r)},getFormFieldError:function(e){return e===nr.ADDRESS?rt.a.INVALID_ETHEREUM_ADDRESS:e===nr.BYTES32?rt.a.INVALID_BYTES32:e===nr.BYTES32_ARRAY?rt.a.INVALID_BYTES32_ARRAY:e===nr.UINT256?rt.a.INVALID_NUMBER:e===nr.UINT256_ARRAY?rt.a.INVALID_NUMBER_ARRAY:rt.a.REQUIRED},formatInputByType:function(e,t){return t===nr.BYTES32_ARRAY?Array.from(e.split(",")):t===nr.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===nr.UINT256?Number(e):e}}}function or(e){var t=e.adapterOrExtension,n=e.defaultTarget,r=e.renderActions,a=e.renderCheckboxAction,c=Object(se.useState)(n||null),s=Object(Ee.a)(c,2),o=s[0],i=s[1],u=Object(se.useState)({}),d=Object(Ee.a)(u,2),l=d[0],b=d[1];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[a({selectedTargetOption:o}),Object(ie.jsxs)("div",{className:"adapter-extension__info",children:[Object(ie.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(ie.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;i(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));b(r)},children:[Object(ie.jsxs)("option",{value:"",disabled:null!==o,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(ie.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(ie.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(r){console.warn(r)}}(o)]})]}),r({selectedTargetOption:o,selectedTargetOptionProps:l})]})}function ir(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,r=e.adapterOrExtension,a=e.closeHandler,c=Object(s.c)((function(e){return e.contracts})).DaoRegistryContract,o=Object(se.useState)(),i=Object(Ee.a)(o,2),u=i[0],d=i[1],l=Object(se.useState)(st.f.STANDBY),b=Object(Ee.a)(l,2),j=b[0],p=b[1],f=Object(se.useState)(st.f.STANDBY),h=Object(Ee.a)(f,2),m=h[0],v=h[1],x=Object(Pe.a)(),N=x.txError,E=x.txIsPromptOpen,A=x.txSend,w=x.txStatus,I=Object(Pe.b)(),y=Object(Pe.e)(),C=y.connected,_=y.account,T=sr(),D=T.isParamInputValid,R=T.getFormFieldError,k=T.formatInputByType,S=cr().getAdapterOrExtensionFromRedux,P=Object(et.a)({mode:"onBlur",reValidateMode:"onChange"}),F=P.errors,L=P.formState,M=P.getValues,B=P.setValue,G=P.register,V=P.trigger,U=u||N,Y=C&&_,z=(null===r||void 0===r?void 0:r.isExtension)?"extension":"adapter",W=L.isValid,H=(w===st.f.AWAITING_CONFIRM||w===st.f.PENDING)&&(j===st.f.AWAITING_CONFIRM||j===st.f.PENDING),K=(w===st.f.AWAITING_CONFIRM||w===st.f.PENDING)&&(m===st.f.AWAITING_CONFIRM||m===st.f.PENDING),q=w===st.f.FULFILLED&&j===st.f.FULFILLED,J=w===st.f.FULFILLED&&m===st.f.FULFILLED,Q=(H||q)&&E,X=(K||J)&&E;function $(){return($=Object(Te.a)(_e.a.mark((function e(){var t,n,s;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,v(st.f.AWAITING_CONFIRM),t=[null===r||void 0===r?void 0:r.extensionId],n=[null===r||void 0===r?void 0:r.adapterId,wt.a,0,[],[]],s=Object(g.a)({from:_||""},I?{gasPrice:I.fast}:null),e.next=9,A((null===r||void 0===r?void 0:r.isExtension)?"removeExtension":"replaceAdapter",c.instance.methods,(null===r||void 0===r?void 0:r.isExtension)?t:n,s);case 9:v(st.f.FULFILLED),a&&setTimeout((function(){a()}),3e3),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),d(e.t0),v(st.f.REJECTED);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})))).apply(this,arguments)}function Z(){return(Z=Object(Te.a)(_e.a.mark((function e(a){var c,s,o,i,u;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,p(st.f.PENDING),c=S(null===r||void 0===r?void 0:r.name),s=c.contractAddress,o=c.instance.methods,Y){e.next=5;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 5:if(s){e.next=7;break}throw new Error("No ".concat(null===r||void 0===r?void 0:r.name," contract found."));case 7:if(_){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(a).find((function(t){return t[0]===e.name}));if(t){var n=k(t[1],e.type);i.push(n)}})),u=Object(g.a)({from:_||""},I?{gasPrice:I.fast}:null),p(st.f.AWAITING_CONFIRM),e.next=15,A(n,o,i,u);case 15:p(st.f.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),d(e.t0),p(st.f.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(ie.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(ie.jsxs)("div",{className:"form__input-row",children:[Object(ie.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(ie.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(ie.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":F[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return B(e.name[0],M()[e.name])},ref:G({validate:function(t){return""===t?rt.a.REQUIRED:!!D(t,e.type)||R(e.type)}}),disabled:Q}),Object(ie.jsx)(ut,{error:Object(O.f)(e.name,F),id:"error-".concat(e.name)})]})]},e.name)})),Object(ie.jsx)("button",{className:"button",disabled:Q||X,onClick:function(){Q||(W?function(e){Z.apply(this,arguments)}(M()):V())},type:"submit",children:H?Object(ie.jsx)(dt.a,{}):q?"Done":"Submit"}),U&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:U})}),Object(ie.jsxs)("div",{className:"adapter-extension__remove",children:[Object(ie.jsxs)("p",{children:["Delete this ",z,". Once you delete this"," ",z,", it can be re-added if the DAO isn't finalized."]}),Object(ie.jsx)("button",{className:"button--secondary",disabled:X||Q,onClick:function(){return J?{}:function(){return $.apply(this,arguments)}()},children:K?Object(ie.jsx)(dt.a,{}):J?"Done":"Remove"})]})]})}function ur(e){var t=e.abiMethodName,n=e.adapterOrExtension,r=e.configurationInputs,a=e.isOpen,c=e.closeHandler;return Object(ie.jsx)(Me,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:a,isOpenHandler:function(){c()},children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){c()},children:Object(ie.jsx)(Be.a,{})}),Object(ie.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(ie.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(ie.jsx)(ir,{abiConfigurationInputs:r,abiMethodName:t,adapterOrExtension:n,closeHandler:c})]})})}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(nr||(nr={}));var dr,lr,br=["size"];function jr(e){var t=e.size,n=Object(E.a)(e,br);return Object(ie.jsxs)(se.Fragment,{children:[Object(ie.jsx)("input",Object(g.a)(Object(g.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(ie.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(ie.jsx)("span",{className:"checkbox-box ".concat(t||dr.SMALL)}),Object(ie.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}function pr(e){var t=e.isOpen,n=e.closeHandler,r=Object(se.useState)(),a=Object(Ee.a)(r,2),c=a[0],o=a[1],i=Object(s.c)((function(e){return e.contracts})).DaoRegistryContract,u=Object(Pe.a)(),d=u.txError,l=u.txEtherscanURL,b=u.txIsPromptOpen,j=u.txSend,p=u.txStatus,f=Object(Pe.b)(),h=Object(Kt.c)().dao,m=Object(Pe.e)(),v=m.connected,x=m.account,N=v&&x,E=p===st.f.AWAITING_CONFIRM||p===st.f.PENDING,A=p===st.f.FULFILLED,w=E||A||b,I=c||d;function y(){return(y=Object(Te.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=3;break}throw new Error("No user account was found. Please make sure your wallet is connected.");case 3:if(i){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:return t=Object(g.a)({from:x||""},f?{gasPrice:f.fast}:null),e.next=9,j("finalizeDao",i.instance.methods,[],t);case 9:n&&setTimeout((function(){n()}),3e3),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(ie.jsx)(Me,{keyProp:"adapter-extension-finalize",isOpen:t,isOpenHandler:function(){n()},children:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("span",{className:"modal__close-button",onClick:function(){n()},children:Object(ie.jsx)(Be.a,{})}),Object(ie.jsx)("h1",{children:"Finalize"}),Object(ie.jsxs)("h2",{children:[h&&h.name," ",Object(ie.jsx)("small",{children:h&&Object(O.j)(h.daoAddress,7)})]}),Object(ie.jsx)("p",{children:"After your DAO is finalized you will need to submit a proposal to make changes."}),Object(ie.jsx)("button",{className:"button",disabled:w,onClick:function(){w||function(){y.apply(this,arguments)}()},type:"submit",children:E?Object(ie.jsx)(dt.a,{}):A?"Done":"Submit"}),w&&Object(ie.jsx)("div",{className:"form__submit-status-container",children:function(){switch(p){case st.f.AWAITING_CONFIRM:return Object(ie.jsxs)(ie.Fragment,{children:["Awaiting your confirmation",Object(ie.jsx)(nt.a,{})]});case st.f.PENDING:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ct.a,{intervalMs:2e3,messages:It.b,useFirstItemStart:!0,render:function(e){return Object(ie.jsx)(Le.a,{children:e},e)}}),Object(ie.jsx)(_t.a,{url:l,isPending:!0})]});case st.f.FULFILLED:return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("div",{children:"Finalized!"}),Object(ie.jsx)(_t.a,{url:l})]});default:return null}}()}),I&&Object(ie.jsx)("div",{className:"form__submit-error-container",children:Object(ie.jsx)(ot.a,{renderText:"Something went wrong while trying to finalize the DAO.",error:I})})]})})}function fr(){var e=Object(s.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,r=Object(s.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),a=Object(se.useState)(""),c=Object(Ee.a)(a,2),o=c[0],i=c[1],u=Object(se.useState)(),d=Object(Ee.a)(u,2),l=d[0],b=d[1],j=Object(se.useState)(),p=Object(Ee.a)(j,2),f=p[0],h=p[1],m=Object(se.useState)(),v=Object(Ee.a)(m,2),x=v[0],N=v[1],E=Object(se.useState)(),A=Object(Ee.a)(E,2),w=A[0],I=A[1],y=Object(se.useState)(!1),C=Object(Ee.a)(y,2),T=C[0],D=C[1],R=Object(se.useState)(!1),k=Object(Ee.a)(R,2),S=k[0],P=k[1],F=Object(se.useState)(!1),L=Object(Ee.a)(F,2),M=L[0],B=L[1],G=Object(se.useState)(0),V=Object(Ee.a)(G,2),U=V[0],Y=V[1],z=Object(se.useState)(),W=Object(Ee.a)(z,2),H=W[0],K=W[1],q=Object(se.useState)(),J=Object(Ee.a)(q,2),Q=J[0],X=J[1],$=Object(se.useState)(),Z=Object(Ee.a)($,2),ee=Z[0],te=Z[1],ne=Object(se.useState)(),re=Object(Ee.a)(ne,2),ae=re[0],ce=re[1],oe=Object(Pe.d)().defaultChainError,ue=Object(Pe.e)(),de=ue.connected,le=ue.account,be=cr(),je=be.adapterExtensionStatus,pe=be.getAdapterOrExtensionFromRedux,fe=be.registeredAdaptersOrExtensions,Oe=be.unRegisteredAdaptersOrExtensions,he=function(){var e=Object(Pe.e)().web3Instance,t=Object(s.b)();function n(){return(n=Object(Te.a)(_e.a.mark((function n(r){return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=r,n.next=n.t0===jn.a.CONFIGURATION?3:n.t0===jn.a.FINANCING?6:n.t0===jn.a.GUILDKICK?9:n.t0===jn.a.MANAGING?12:n.t0===jn.a.RAGEQUIT?15:n.t0===jn.a.BANK?18:n.t0===jn.b.NFT?21:n.t0===jn.a.ONBOARDING?24:n.t0===jn.a.TRIBUTE?27:n.t0===jn.a.DISTRIBUTE?30:n.t0===jn.a.VOTING?33:n.t0===jn.a.COUPON_ONBOARDING?36:n.t0===jn.a.TRIBUTE_NFT?39:n.t0===jn.a.NFT?42:n.t0===jn.a.DAO_REGISTRY?45:n.t0===jn.b.ERC20?48:51;break;case 3:return n.next=5,t(Object(_.A)(e));case 5:return n.abrupt("break",51);case 6:return n.next=8,t(Object(_.H)(e));case 8:return n.abrupt("break",51);case 9:return n.next=11,t(Object(_.I)(e));case 11:return n.abrupt("break",51);case 12:return n.next=14,t(Object(_.J)(e));case 14:return n.abrupt("break",51);case 15:return n.next=17,t(Object(_.N)(e));case 17:return n.abrupt("break",51);case 18:return n.next=20,t(Object(_.x)(e));case 20:return n.abrupt("break",51);case 21:return n.next=23,t(Object(_.L)(e));case 23:return n.abrupt("break",51);case 24:return n.next=26,t(Object(_.M)(e));case 26:return n.abrupt("break",51);case 27:return n.next=29,t(Object(_.O)(e));case 29:return n.abrupt("break",51);case 30:return n.next=32,t(Object(_.F)(e));case 32:return n.abrupt("break",51);case 33:return n.next=35,t(Object(_.Q)(e));case 35:return n.abrupt("break",51);case 36:return n.next=38,t(Object(_.B)(e));case 38:return n.abrupt("break",51);case 39:return n.next=41,t(Object(_.P)(e));case 41:return n.abrupt("break",51);case 42:return n.next=44,t(Object(_.K)(e));case 44:return n.abrupt("break",51);case 45:return n.next=47,t(Object(_.E)(e));case 47:return n.abrupt("break",51);case 48:return n.next=50,t(Object(_.G)(e));case 50:return n.abrupt("break",51);case 51:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{initAdapterExtensionContract:function(e){return n.apply(this,arguments)}}}().initAdapterExtensionContract,me=Object(Kt.c)(),ve=me.dao,xe=me.gqlError,Ne=Object(Pe.a)().txSend,ge=Object(Pe.b)(),Ae=Object(Kt.e)(),we=Ae.isDisabled,Ie=Ae.openWhyDisabledModal,ye=Ae.setOtherDisabledReasons,Ce=Ae.WhyDisabledModal,De=de&&le,Re=ve,ke=l===yt.a.READY,Se=je===Gt.a.REJECTED&&void 0===fe&&void 0===Oe,Fe=je===Gt.a.PENDING,Le=Object(se.useCallback)((function(){return Me.apply(this,arguments)}),[t,null===ve||void 0===ve?void 0:ve.name,ye]);function Me(){return(Me=Object(Te.a)(_e.a.mark((function e(){var n,r;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===ve||void 0===ve?void 0:ve.name," is already finalized"),e.next=6,Object(yt.g)(t.instance);case 6:r=e.sent,b(r),r===yt.a.READY&&ye([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),b(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Be(e){new Promise((function(t,n){try{t(pe(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ve(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function Ge(e){new Promise((function(t,n){try{t(pe(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ve(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function Ve(e,t,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(Te.a)(_e.a.mark((function e(n,r,a){var c,s,o,i,u,d,l;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(void 0),t){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(e.prev=3,te((function(e){return Object(g.a)(Object(g.a)({},e),{},Object($n.a)({},r,!0))})),n){e.next=7;break}throw new Error("".concat(a," address must not be empty"));case 7:return c=Zn(r),s=er(r),o=s.acl,i="ADAPTER"===a?[c,n,o,[],[]]:[c,n,le],u=Object(g.a)({from:le||""},ge?{gasPrice:ge.fast}:null),d="ADAPTER"===a?"replaceAdapter":"addExtension",e.next=14,Ne(d,t.instance.methods,i,u);case 14:te((function(e){return Object(g.a)(Object(g.a)({},e),{},Object($n.a)({},r,!1))})),h((function(e){return Object(g.a)(Object(g.a)({},e),{},Object($n.a)({},r,!0))})),he(r),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),te((function(e){return Object(g.a)(Object(g.a)({},e),{},Object($n.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),I(l);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})))).apply(this,arguments)}function Ye(){return(Ye=Object(Te.a)(_e.a.mark((function e(){var t,r,a,c,s,o,i,u,d;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:for(a in e.prev=3,t=[],r=function(e){if(H[e]){var n=rr.filter((function(t){return t.name===e}))[0],r=n.adapterId,a=n.contractAddress;if(!a){var c=pe(e);a=null===c||void 0===c?void 0:c.contractAddress}var s=er(e).acl;r&&a&&(t.push([r,a,s]),te((function(t){return Object(g.a)(Object(g.a)({},t),{},Object($n.a)({},e,!0))})))}},H)r(a);return c=[null===ve||void 0===ve?void 0:ve.daoAddress,t],s=Object(g.a)({from:le||""},ge?{gasPrice:ge.fast}:null),e.next=11,Ne("addAdapters",n.instance.methods,c,s);case 11:for(o in H)H[o]&&o&&he(o);e.next=21;break;case 14:for(d in e.prev=14,e.t0=e.catch(3),i=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),I(i),We(!1),u=function(e){te((function(t){return Object(g.a)(Object(g.a)({},t),{},Object($n.a)({},e,!1))}))},H)u(d);case 21:case"end":return e.stop()}}),e,null,[[3,14]])})))).apply(this,arguments)}function ze(){return(ze=Object(Te.a)(_e.a.mark((function e(t){var n,r,a,c,s,o;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(void 0),e.prev=1,n=t.abiFunctionName,r=t.name,n){e.next=5;break}throw new Error("ABI function not found for ".concat(r));case 5:a=pe(r),c=a.abi,s=c.filter((function(e){return e.name===n}))[0].inputs,i(n),X(t),N(s),D(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"".concat(t.name," contract not found")),I(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function We(e){B(e);var t=function(t){K((function(n){return Object(g.a)(Object(g.a)({},n),{},Object($n.a)({},t,e))}))};for(var n in H)t(n)}return Object(se.useEffect)((function(){Le()}),[Le,t]),Object(se.useEffect)((function(){B(!1),Oe&&Oe&&(null===Oe||void 0===Oe||Oe.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&!e.isExtension&&K((function(t){return Object(g.a)(Object(g.a)({},t),{},Object($n.a)({},e.name,!1))}))})))}),[we,Oe]),Object(se.useEffect)((function(){H&&Y(Object.values(H).filter((function(e){return!0===e})).length)}),[H]),De&&r&&!oe?Object(ie.jsx)(Or,{children:Object(ie.jsxs)("div",{className:"adaptermanager",children:[!ve&&xe?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(ie.jsx)(ot.a,{error:xe,renderText:"Something went wrong"})):ve?Object(ie.jsxs)("h3",{children:[ve.name," ",Object(ie.jsx)("small",{children:Object(O.j)(ve.daoAddress,7)})]}):void 0,w?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(ie.jsx)(ot.a,{error:w,renderText:"Something went wrong"})):Object(ie.jsx)(ie.Fragment,{}),Object(ie.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(ie.jsxs)("div",{className:"adapter-extension__selection",children:[Object(ie.jsx)("div",{children:Object(ie.jsx)(jr,{id:"selectAll",label:"".concat(U," selected"),checked:!0===M,disabled:Se||we||0===(null===Oe||void 0===Oe?void 0:Oe.length)||!Re,name:"selectAll",size:dr.LARGE,onChange:function(e){We(e.target.checked)}})}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--secondary",disabled:0===U||we,onClick:function(){return Ye.apply(this,arguments)},children:"Add selected"})})]}),Fe&&Object(ie.jsx)("div",{className:"adapter-extension__loader",children:Object(ie.jsx)(dt.a,{text:"Loading data from subgraph..."})}),Se&&Object(ie.jsx)("p",{children:"No adapters/extensions available"}),Re&&Oe&&(null===Oe||void 0===Oe?void 0:Oe.length)>0&&Oe.map((function(e,t){return Object(ie.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(ie.jsx)(or,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:"adapter-extension__checkbox",children:Object(ie.jsx)(jr,{id:n||"empty",label:"",checked:n&&H&&!0===H[n]||!1,disabled:we||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:dr.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;K((function(e){return Object(g.a)(Object(g.a)({},e),{},Object($n.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsx)("div",{className:"adapter-extension__add",children:Object(ie.jsx)("button",{className:"button--secondary",disabled:null===t||ee&&ee[n.name]||we,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?Ge(n):Be(n)},children:ee&&ee[n.name]?Object(ie.jsx)(dt.a,{}):f&&f[n.name]?"Done":"Add"})})})}}):Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[Object(ie.jsx)("div",{className:"adapter-extension__checkbox",children:!(null===e||void 0===e?void 0:e.isExtension)&&Object(ie.jsx)(jr,{id:e.name,label:"",checked:H&&!0===H[e.name]||!1,disabled:we,name:e.name,size:dr.LARGE,onChange:function(t){K((function(n){return Object(g.a)(Object(g.a)({},n),{},Object($n.a)({},e.name,t.target.checked))}))}})}),Object(ie.jsxs)("div",{className:"adapter-extension__info",children:[Object(ie.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(ie.jsx)("span",{className:"adapter-extension__desc",children:e.description})]})]}),Object(ie.jsx)("div",{className:"adapter-extension__add",children:Object(ie.jsx)("button",{className:"button--secondary",disabled:ee&&ee[e.name]||f&&f[e.name]||we,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?Ge(e):Be(e)},children:ee&&ee[e.name]?Object(ie.jsx)(dt.a,{}):f&&f[e.name]?"Done":"Add"})})]})},t)})),Re&&fe&&(null===fe||void 0===fe?void 0:fe.length)>0&&fe.map((function(e,t){return Object(ie.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(ie.jsxs)("div",{className:"adapter-extension__info",children:[Object(ie.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(ie.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(ie.jsx)("div",{className:"adapter-extension__configure",children:Object(ie.jsx)("button",{className:"button--secondary",disabled:we||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return ze.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),we&&Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--help",onClick:function(){Ie(),ce(lr.CONFIGURATION_REASON)},children:lr.CONFIGURATION_REASON})}),Object(ie.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(ie.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--secondary finalize",disabled:Se||!Re||ke,onClick:function(){return P(!0)},children:"Finalize Dao"})}),we&&Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{className:"button--help",onClick:function(){Ie(),ce(lr.FINALIZED_REASON)},children:lr.FINALIZED_REASON})}),Object(ie.jsx)(Ce,{title:ae})]}),T&&Object(ie.jsx)(ur,{abiMethodName:o,adapterOrExtension:Q,configurationInputs:x,isOpen:T,closeHandler:function(){D(!1)}}),S&&Object(ie.jsx)(pr,{isOpen:S,closeHandler:function(){P(!1),Le()}})]})}):Object(ie.jsx)(Or,{children:Object(ie.jsx)("div",{className:"adapter-extension__unauthorized-message",children:Object(ie.jsx)("p",{children:De?oe?oe.message:r?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to manage the DAO adapters and extensions."})})})}function Or(e){return Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{className:"titlebar",children:Object(ie.jsx)("h2",{className:"titlebar__title",children:"Adapter/Extension Manager"})}),e.children]})})}!function(e){e.LARGE="large",e.SMALL="small"}(dr||(dr={})),function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(lr||(lr={}));var hr,mr=":proposalId";function vr(){return Object(ie.jsx)(ce.c,{children:[Object(ie.jsx)(ce.a,{exact:!0,path:"/",render:function(){return Object(ie.jsx)(Bt,{})}},"splash"),Object(ie.jsx)(ce.a,{exact:!0,path:"/join",render:function(){return Object(ie.jsx)(Nt,{})}},"join"),Object(ie.jsx)(ce.a,{exact:!0,path:"/membership",render:function(){return Object(ie.jsx)(hn,{})}},"membership"),Object(ie.jsx)(ce.a,{exact:!0,path:"/membership/".concat(mr),render:function(){return Object(ie.jsx)(In,{})}},"membership-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/transfer",render:function(){return Object(ie.jsx)(Dt,{})}},"transfer"),Object(ie.jsx)(ce.a,{exact:!0,path:"/transfers",render:function(){return Object(ie.jsx)(Yn,{})}},"transfers"),Object(ie.jsx)(ce.a,{exact:!0,path:"/transfers/".concat(mr),render:function(){return Object(ie.jsx)(Vn,{})}},"transfer-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/tribute",render:function(){return Object(ie.jsx)(kt,{})}},"tribute"),Object(ie.jsx)(ce.a,{exact:!0,path:"/tributes",render:function(){return Object(ie.jsx)(Qn,{})}},"tributes"),Object(ie.jsx)(ce.a,{exact:!0,path:"/tributes/".concat(mr),render:function(){return Object(ie.jsx)(qn,{})}},"tribute-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(ie.jsx)(Ot,{})}},"governance-proposal"),Object(ie.jsx)(ce.a,{exact:!0,path:"/governance",render:function(){return Object(ie.jsx)(en,{})}},"governance-proposals"),Object(ie.jsx)(ce.a,{exact:!0,path:"/governance/".concat(mr),render:function(){return Object(ie.jsx)(Wt,{})}},"governance-proposal-details"),Object(ie.jsx)(ce.a,{exact:!0,path:"/members",render:function(){return Object(ie.jsx)(ln,{})}},"members"),Object(ie.jsx)(ce.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(ie.jsx)(on,{})}},"member-profile"),Object(ie.jsx)(ce.a,{exact:!0,path:"/dao-manager",render:function(){return Object(ie.jsx)(fr,{})}},"dao-manager"),Object(ie.jsx)(ce.a,{exact:!0,path:"/redeem",render:function(){return Object(ie.jsx)(Mn,{})}},"redeem"),Object(ie.jsx)(ce.a,{component:Yt},"no-match")]})}function xr(){return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Ze,{}),Object(ie.jsx)(Xe,{}),Object(ie.jsx)("main",{children:Object(ie.jsx)(vr,{})}),Object(ie.jsx)(me,{})]})}function Nr(e){var t=e.render,n=Object(s.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(se.useState)(),a=Object(Ee.a)(r,2),c=a[0],o=a[1],i=Object(se.useState)(!1),u=Object(Ee.a)(i,2),d=u[0],l=u[1],b=Object(se.useState)(Object($n.a)({},hr.initSnapshotAPI,Gt.a.STANDBY)),j=Object(Ee.a)(b,2),p=j[0],f=j[1],O=Object(Pe.c)(),m=Object(Pe.e)(),v=m.account,x=m.web3Instance,N=Object(Kt.d)().isMountedRef,E=Object(s.b)(),A=Object(se.useCallback)((function(){return C.apply(this,arguments)}),[O]),w=Object(se.useCallback)((function(){return T.apply(this,arguments)}),[v,n,E,x]),I=Object(se.useCallback)((function(){return y.apply(this,arguments)}),[N]);function y(){return(y=Object(Te.a)(_e.a.mark((function e(){var t;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h.D){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(tt.getApiStatus)(h.D);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(N.current){e.next=11;break}return e.abrupt("return");case 11:f((function(e){return Object(g.a)(Object(g.a)({},e),{},Object($n.a)({},hr.initSnapshotAPI,Gt.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),N.current){e.next=18;break}return e.abrupt("return");case 18:o(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function C(){return(C=Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function T(){return(T=Object(Te.a)(_e.a.mark((function e(){return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v&&n&&x){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,E(Object(_.w)({account:v,daoRegistryContract:n,web3Instance:x}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(se.useEffect)((function(){l(Object.values(p).every((function(e){return e===Gt.a.FULFILLED})))}),[p]),Object(se.useEffect)((function(){x&&A()}),[A,x]),Object(se.useEffect)((function(){w()}),[w]),Object(se.useEffect)((function(){I()}),[I]),t({error:c,isInitComplete:d})}function gr(e){var t=e.error;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(Xe,{}),Object(ie.jsx)(ft,{className:"section-wrapper",children:Object(ie.jsx)("main",{children:Object(ie.jsxs)(Le.a,{children:[Object(ie.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(ie.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(ie.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(ie.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(ie.jsx)(ot.a,{error:t,renderText:""})})]})})})]})}!function(e){e.initSnapshotAPI="initSnapshotAPI"}(hr||(hr={}));var Er=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,982)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Ar=n(192),wr=(n(927),document.getElementById("root"));"production"===h.m&&Object(O.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var Ir=function(e){return new u.a({link:Object(d.concat)(Object(m.d)(e),new l.a({uri:function(e){var t=e.operationName;return"".concat(h.s,"?").concat(t)}})),cache:new b.a({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(r.a)(e),Object(r.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(r.a)(e),Object(r.a)(t))}}}}}})})};null!==wr&&c.a.render(Object(ie.jsx)(s.a,{store:ae,children:Object(ie.jsx)(o.a,{children:Object(ie.jsx)(Ar.b,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:p.a,options:{infuraId:h.v,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:f.a.LIGHT,children:Object(ie.jsx)(i.a,{client:Ir(ae),children:Object(ie.jsx)(Nr,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(ie.jsx)(gr,{error:t}):n?Object(ie.jsx)(xr,{}):null}})})})})}),wr),Er()},97:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.OK="OK",e.ERR="ERR"}(r||(r={}))}},[[930,4,5]]]);
//# sourceMappingURL=main.798213f3.chunk.js.map