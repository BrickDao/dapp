(this["webpackJsonpmolochv3-ui"]=this["webpackJsonpmolochv3-ui"]||[]).push([[0],{101:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(5),a=n(1),c=n(16);function s(e){var t=e.intervalMs,n=e.messages,s=e.useFirstItemStart?n[0]:Object(c.a)(n),o=Object(a.useState)(s),i=Object(r.a)(o,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},102:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(212);function c(){return Object(r.useContext)(a.a)}},103:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},11:function(e,t,n){"use strict";n.d(t,"i",(function(){return T})),n.d(t,"z",(function(){return C})),n.d(t,"q",(function(){return k})),n.d(t,"n",(function(){return P})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return F})),n.d(t,"j",(function(){return M})),n.d(t,"f",(function(){return B})),n.d(t,"e",(function(){return G})),n.d(t,"a",(function(){return V})),n.d(t,"D",(function(){return U})),n.d(t,"d",(function(){return z})),n.d(t,"x",(function(){return W})),n.d(t,"t",(function(){return H})),n.d(t,"l",(function(){return Y})),n.d(t,"w",(function(){return K})),n.d(t,"o",(function(){return q})),n.d(t,"E",(function(){return J})),n.d(t,"C",(function(){return Q})),n.d(t,"h",(function(){return X})),n.d(t,"v",(function(){return $})),n.d(t,"u",(function(){return Z})),n.d(t,"g",(function(){return ee})),n.d(t,"p",(function(){return te})),n.d(t,"B",(function(){return ne})),n.d(t,"y",(function(){return re})),n.d(t,"s",(function(){return ae})),n.d(t,"r",(function(){return ce})),n.d(t,"k",(function(){return se})),n.d(t,"A",(function(){return oe})),n.d(t,"m",(function(){return ie}));var r,a,c,s,o,i,u,d,l,b,j,O,p,f,h,m,v,x=n(10),N=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SNAPSHOT_SPACE:"thelao",REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x83eA12d54D5DCF88FeD2fB80dcEa1336A8Ac8924",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xE1306199D95a1Ee0Ef155A984B0a0B50F7B0c216",REACT_APP_GRAPH_API_URL:"https://api.thegraph.com/subgraphs/name/sophiacodes/molochv3-dev"}),g=N.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,E=N.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,A=N.REACT_APP_ENVIRONMENT,I=N.REACT_APP_GRAPH_API_URL,w=N.REACT_APP_INFURA_PROJECT_ID_DEV,y=N.REACT_APP_INFURA_PROJECT_ID_LOCAL,_=N.REACT_APP_INFURA_PROJECT_ID_PROD,S=N.REACT_APP_MULTICALL_CONTRACT_ADDRESS,R=N.REACT_APP_SNAPSHOT_HUB_API_URL,D=N.REACT_APP_SNAPSHOT_SPACE,T=A,C="localhost"===T?"/snapshot-hub":R,k="production"===A?_:"development"===A?w:y,P=I,L={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},F=(r={},Object(x.a)(r,L.MAINNET,"Main Ethereum Network"),Object(x.a)(r,L.ROPSTEN,"Ropsten Test Network"),Object(x.a)(r,L.RINKEBY,"Rinkeby Test Network"),Object(x.a)(r,L.GOERLI,"G\xf6rli Test Network"),Object(x.a)(r,L.KOVAN,"Kovan Test Network"),Object(x.a)(r,L.GANACHE,"Ganache Test Network"),r),M=(a={},Object(x.a)(a,L.MAINNET,"https://etherscan.io"),Object(x.a)(a,L.ROPSTEN,"https://ropsten.etherscan.io"),Object(x.a)(a,L.RINKEBY,"https://rinkeby.etherscan.io"),Object(x.a)(a,L.GOERLI,"https://goerli.etherscan.io"),Object(x.a)(a,L.KOVAN,"https://kovan.etherscan.io"),a),B=g,G=(c={},Object(x.a)(c,L.MAINNET,""),Object(x.a)(c,L.ROPSTEN,""),Object(x.a)(c,L.RINKEBY,"0xCC7158B10515B266244c643A2527f7EFfc911421"),Object(x.a)(c,L.GOERLI,""),Object(x.a)(c,L.KOVAN,""),Object(x.a)(c,L.GANACHE,"0xFCc30f42843d0848Dc91B1187A1cB1357D671366"),c),V=(s={},Object(x.a)(s,L.MAINNET,""),Object(x.a)(s,L.ROPSTEN,""),Object(x.a)(s,L.RINKEBY,"0xE02769bebC6b0A65d5ffaa58d9f981618077a4Ac"),Object(x.a)(s,L.GOERLI,""),Object(x.a)(s,L.KOVAN,""),Object(x.a)(s,L.GANACHE,"0x7e484173fADC0d777250C0d5D26966bF684F0CeF"),s),U=(o={},Object(x.a)(o,L.MAINNET,""),Object(x.a)(o,L.ROPSTEN,""),Object(x.a)(o,L.RINKEBY,"0x1bF6E52BBD3f8f7Ed6fE8a9621E639aca560A730"),Object(x.a)(o,L.GOERLI,""),Object(x.a)(o,L.KOVAN,""),Object(x.a)(o,L.GANACHE,"0xCDbDa9bf53c579c3FeF20D2BDBAc2550104e35dA"),o),z=(i={},Object(x.a)(i,L.MAINNET,""),Object(x.a)(i,L.ROPSTEN,""),Object(x.a)(i,L.RINKEBY,"0xEF2850b0067C276f65fAAeA9EBA0674819039342"),Object(x.a)(i,L.GOERLI,""),Object(x.a)(i,L.KOVAN,""),Object(x.a)(i,L.GANACHE,"0x120AcB4EeDf8Af8F79D86E3D211C96cBF09e493c"),i),W=(u={},Object(x.a)(u,L.MAINNET,""),Object(x.a)(u,L.ROPSTEN,""),Object(x.a)(u,L.RINKEBY,"0x3044286BFc20080A1D2C06feC1953a0410a4E74c"),Object(x.a)(u,L.GOERLI,""),Object(x.a)(u,L.KOVAN,""),Object(x.a)(u,L.GANACHE,"0xeaB17a16f59004C17AcE36a032939c25C72a08ED"),u),H=(d={},Object(x.a)(d,L.MAINNET,""),Object(x.a)(d,L.ROPSTEN,""),Object(x.a)(d,L.RINKEBY,"0x01e79Fb7a697e871c763D681293eBae74f36CE88"),Object(x.a)(d,L.GOERLI,""),Object(x.a)(d,L.KOVAN,""),Object(x.a)(d,L.GANACHE,"0x4aDB5F4890d57ebFCF542D93F0B9DF974eb214C7"),d),Y=(l={},Object(x.a)(l,L.MAINNET,""),Object(x.a)(l,L.ROPSTEN,""),Object(x.a)(l,L.RINKEBY,"0x80017f240cAd3d761aD7f729796b6275d0Ec57c6"),Object(x.a)(l,L.GOERLI,""),Object(x.a)(l,L.KOVAN,""),Object(x.a)(l,L.GANACHE,"0xd09fa33a5b24B2EE8E407a0702aFF5d84FB694e4"),l),K=(b={},Object(x.a)(b,L.MAINNET,""),Object(x.a)(b,L.ROPSTEN,""),Object(x.a)(b,L.RINKEBY,"0xF2Af0123caBad9Dc851C4BDcA1029b33287d2310"),Object(x.a)(b,L.GOERLI,""),Object(x.a)(b,L.KOVAN,""),Object(x.a)(b,L.GANACHE,"0x2903d738b6B279123F62cb26bf2158146121DBAF"),b),q=(j={},Object(x.a)(j,L.MAINNET,""),Object(x.a)(j,L.ROPSTEN,""),Object(x.a)(j,L.RINKEBY,"0x7c3eE8016C8a4dF00672d2417DB7bbA18ff0b054"),Object(x.a)(j,L.GOERLI,""),Object(x.a)(j,L.KOVAN,""),Object(x.a)(j,L.GANACHE,"0xFDD9a62D95C30d2d694e08987B5597d9a65A1E82"),j),J=(O={},Object(x.a)(O,L.MAINNET,""),Object(x.a)(O,L.ROPSTEN,""),Object(x.a)(O,L.RINKEBY,"0xa257cAa73C01B6748eA8edAfcC7c3B67538f773A"),Object(x.a)(O,L.GOERLI,""),Object(x.a)(O,L.KOVAN,""),Object(x.a)(O,L.GANACHE,"0x93dD90f8082faaE041c661B2645D530979130ff3"),O),Q=(p={},Object(x.a)(p,L.MAINNET,""),Object(x.a)(p,L.ROPSTEN,""),Object(x.a)(p,L.RINKEBY,"0x7a28B101eC1eE1B484a07633c339667BDE3d7A52"),Object(x.a)(p,L.GOERLI,""),Object(x.a)(p,L.KOVAN,""),Object(x.a)(p,L.GANACHE,"0x8D73e2c26Ef729409159a91Cd6768c97242187Fc"),f={},Object(x.a)(f,L.MAINNET,""),Object(x.a)(f,L.ROPSTEN,""),Object(x.a)(f,L.RINKEBY,"0x36615f472822bD067A4746E37267090428874974"),Object(x.a)(f,L.GOERLI,""),Object(x.a)(f,L.KOVAN,""),Object(x.a)(f,L.GANACHE,"0x880b4E5968aD9C230166Ee608b9701c8109c925E"),f),X=(h={},Object(x.a)(h,L.MAINNET,""),Object(x.a)(h,L.ROPSTEN,""),Object(x.a)(h,L.RINKEBY,"0x54b038278f791c511d1ba330C7B9A1578B350Deb"),Object(x.a)(h,L.GOERLI,""),Object(x.a)(h,L.KOVAN,""),Object(x.a)(h,L.GANACHE,"0xbD6Ce04529AdE60bbb5Fbd7185460B7Ae0838f93"),h),$=(m={},Object(x.a)(m,L.MAINNET,""),Object(x.a)(m,L.ROPSTEN,""),Object(x.a)(m,L.RINKEBY,""),Object(x.a)(m,L.GOERLI,""),Object(x.a)(m,L.KOVAN,""),Object(x.a)(m,L.GANACHE,"0x6b2891b859Cd9f097E6D70A1986035AFcCdd9F9a"),v={},Object(x.a)(v,L.MAINNET,""),Object(x.a)(v,L.ROPSTEN,""),Object(x.a)(v,L.RINKEBY,"0x98ED73779Bd0eD4b8fdA8026F60236CBcbdbb1a6"),Object(x.a)(v,L.GOERLI,""),Object(x.a)(v,L.KOVAN,""),Object(x.a)(v,L.GANACHE,"0x01870DaA37605076142099EFD144a7cCc966438c"),v),Z=S,ee="production"===A?L.MAINNET:"development"===A?L.RINKEBY:E?L[E]:L.GANACHE,te="0x000000000000000000000000000000000000dead",ne="0x000000000000000000000000000000000000babe",re="0x00000000000000000000000000000000000FF1CE",ae="0x00000000000000000000000000000000B105F00D",ce="0x00000000000000000000000000000000BAAAAAAD",se="0x0000000000000000000000000000000000000000",oe=D,ie="production"===A?1e4:5e3},112:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(5),c=n(3),s=n(1),o=n(22),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.ariaLabel,n=e.intervalMs,l=void 0===n?1e3:n,b=e.fadeInProps,j=Object(c.a)(Object(c.a)({},b),{},{inline:!0}),O=Object(s.useState)(1),p=Object(a.a)(O,2),f=p[0],h=p[1];return Object(s.useEffect)((function(){var e=setInterval((function(){return h((function(e){return(e+1)%i.length}))}),l);return function(){clearInterval(e)}}),[l]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{"aria-label":t,style:u,children:[Object(r.jsx)("span",{children:f>=0&&i[0]}),Object(r.jsx)("span",{children:f>=1&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},j),{},{children:i[1]}))}),Object(r.jsx)("span",{children:f>=2&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},j),{},{children:i[2]}))}),Object(r.jsx)("span",{children:f>=3&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},j),{},{children:i[3]}))})]}),Object(r.jsx)("span",{style:d,children:"\xa0"})]})}},141:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return v}));var r,a,c=n(4),s=n.n(c),o=n(12),i=n(5),u=n(3),d=n(1),l=n(58),b=n.n(l),j=n(443),O=n.n(j),p=n(11),f=n(23),h="WEB3_CONNECT_CACHED_PROVIDER";function m(e,t){var n=t.type,r=t.payload;switch(n){case a.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case a.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case a.UPDATE:var c=r.provider,s=r.networkId,o=r.account,i=r.connected,d=r.web3Instance;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===c?{}:{provider:c}),void 0===s?{}:{networkId:s}),void 0===o?{}:{account:o}),void 0===i?{}:{connected:i}),void 0===d?{}:{web3Instance:d});case a.UPDATE_FROM_ERROR:var l=r.provider,b=r.networkId,j=r.account;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===l?{}:{provider:l}),void 0===b?{}:{networkId:b}),void 0===j?{}:{account:j}),{},{error:void 0});case a.ERROR:var O=r.error;return{provider:e.provider,error:O};case a.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case a.DEACTIVATE_PROVIDER:return{}}}function v(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(d.useReducer)(m,{}),l=Object(i.a)(c,2),j=l[0],v=l[1],x=n,N=t||p.g,g=Object(d.useCallback)(A,[j.web3Modal]),E=Object(d.useCallback)((function(){switch(N){case f.b.GOERLI:return f.c.GOERLI;case f.b.KOVAN:return f.c.KOVAN;case f.b.RINKEBY:return f.c.RINKEBY;case f.b.ROPSTEN:return f.c.ROPSTEN;case f.b.MAINNET:default:return f.c.MAINNET}}),[N]);function A(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(s.a.mark((function e(t){var n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.web3Modal.connectTo(t);case 5:return y(n=e.sent),r=new b.a(n),e.next=10,r.eth.getAccounts();case 10:return c=e.sent,e.next=13,r.eth.net.getId();case 13:o=e.sent,v({type:a.UPDATE,payload:{account:c[0],connected:!0,provider:n,networkId:o,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function w(){return(w=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!j.provider.close){e.next=4;break}return e.next=4,j.provider.close();case 4:if(e.t0=j.web3Modal,!e.t0){e.next=8;break}return e.next=8,j.web3Modal.clearCachedProvider();case 8:v({type:a.DEACTIVATE_PROVIDER}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function y(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){v({type:a.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),v({type:a.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,g(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=j.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=j.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(d.useEffect)((function(){j.web3Modal||v({type:a.INIT_WEB3MODAL,payload:{web3Modal:new O.a({cacheProvider:!0,network:E(),providerOptions:r,theme:x})}})}),[E,r,x,j.web3Modal]),Object(d.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,g(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.web3Modal&&localStorage.getItem(h)&&function(t){e.apply(this,arguments)}(j.web3Modal.cachedProvider)}),[g,j.web3Modal]),Object(u.a)(Object(u.a)({},j),{},{onConnectTo:A,onDisconnect:function(){return w.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(a||(a={}))},15:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},16:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return j}));var a=n(5);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),s=c[0],o=c[1];t[s]="function"===typeof o?e:null}}function s(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function o(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=function(e){return e.toString().replace(/,/g,"")};var b=n(96);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e||"undefined"===typeof e)return"---";if(Object(b.a)(e)){var n=e.substring(0,t),r=e.substring(e.length-3);return n+"..."+r}return e}},173:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return l}));var r=n(3),a=n(4),c=n.n(a),s=n(12),o=n(63),i=n(16),u="SET_CONNECTED_MEMBER",d="CLEAR_CONNECTED_MEMBER";function l(e,t){return function(){var n=Object(s.a)(c.a.mark((function n(a){var s,d,l,j,O;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=t.instance)&&e){n.next=4;break}return a(b()),n.abrupt("return");case 4:return n.prev=4,n.next=7,s.methods.memberAddressesByDelegatedKey(e).call({from:e});case 7:return d=n.sent,n.next=10,s.methods.isActiveMember(d).call({from:e});case 10:return l=n.sent,n.next=13,s.methods.getCurrentDelegateKey(d).call({from:e});case 13:j=n.sent,O=l&&Object(i.g)(d)!==o.a,a((c={delegateKey:j,isActiveMember:O,memberAddress:d},Object(r.a)({type:u},c))),n.next=22;break;case 18:throw n.prev=18,n.t0=n.catch(4),a(b()),n.t0;case 22:case"end":return n.stop()}var c}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}()}function b(){return{type:d}}},176:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return M}));var r=n(3),a=n(4),c=n.n(a),s=n(0),o=n(12),i=n(5),u=n(1),d=n(17),l=n(19),b=n(6),j=n(39),O=n(11),p=n(70),f=n(75),h=n(20),m=n(101),v=n(34),x=n(65),N=n(22),g=n(57);function E(e){var t=e.adapterName,n=e.proposal.snapshotProposal,a=Object(u.useState)(b.e.STANDBY),E=Object(i.a)(a,2),A=E[0],I=E[1],w=Object(u.useState)(),y=Object(i.a)(w,2),_=y[0],S=y[1],R=Object(d.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),D=Object(d.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.instance.methods})),T=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),C=Object(d.c)((function(e){return e.contracts})),k=Object(h.f)(),P=k.account,L=k.provider,F=Object(h.a)(),M=F.txEtherscanURL,B=F.txIsPromptOpen,G=F.txSend,V=F.txStatus,U=Object(f.e)(),z=U.isDisabled,W=U.openWhyDisabledModal,H=U.WhyDisabledModal,Y=Object(h.b)(),K=A===b.e.AWAITING_CONFIRM||A===b.e.PENDING||V===b.e.AWAITING_CONFIRM||V===b.e.PENDING,q=V===b.e.FULFILLED&&A===b.e.FULFILLED,J=K||q||B;function Q(){return(Q=Object(o.a)(c.a.mark((function e(){var a,s,i,u,d,f,h,m,v,x,N,g,E,A,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,T){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(n.votes){e.next=7;break}throw new Error("No Snapshot proposal votes were found.");case 7:return I(b.e.AWAITING_CONFIRM),a=n.idInDAO,s=Object(j.d)(t,C),i=n.votes.map(function(){var e=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t)[0],e.t0=l.createVote,e.t1=a,e.t2=r.address,e.t3=r.msg.payload.choice===l.VoteChoicesIndex.Yes,e.t4=Number(r.msg.timestamp),e.t5=r.sig,e.next=9,R.getPriorAmount(r.address,O.y,n.msg.payload.snapshot).call();case 9:return e.t6=e.sent,e.t7={proposalHash:e.t1,account:e.t2,voteYes:e.t3,timestamp:e.t4,sig:e.t5,weight:e.t6},e.abrupt("return",(0,e.t0)(e.t7));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=l.prepareVoteResult,e.t1=s,e.t2=O.g,e.t3=T,e.next=17,Promise.all(i);case 17:return e.t4=e.sent,e.t5={actionId:e.t1,chainId:e.t2,daoAddress:e.t3,votes:e.t4},e.next=21,(0,e.t0)(e.t5);case 21:return u=e.sent,d=u.voteResultTree,f=u.votes,h=d.getHexRoot(),m=Object(l.toStepNode)({actionId:s,chainId:O.g,merkleTree:d,step:f[f.length-1],verifyingContract:T}),v=Object(l.getVoteResultRootDomainDefinition)(T,s,O.g),x=v.domain,N=v.types,g=JSON.stringify({domain:x,message:{root:h},primaryType:p.a,types:N}),e.next=30,Object(l.signMessage)(L,P,g);case 30:return E=e.sent,I(b.e.FULFILLED),A=[T,a,h,Object(r.a)(Object(r.a)({},m),{},{rootSig:E})],w=Object(r.a)({from:P||""},Y?{gasPrice:Y.fast}:null),e.next=36,G("submitVoteResult",D,A,w);case 36:e.next=42;break;case 38:e.prev=38,e.t6=e.catch(0),S(e.t6),I(b.e.REJECTED);case 42:case"end":return e.stop()}}),e,null,[[0,38]])})))).apply(this,arguments)}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:"proposaldetails__button",disabled:z||J,onClick:z||J?function(){}:function(){return Q.apply(this,arguments)},children:K?Object(s.jsx)(g.a,{}):q?"Done":"Submit Vote Result"}),Object(s.jsx)(v.a,{error:_,renderText:"Something went wrong"}),J&&Object(s.jsx)("div",{className:"form__submit-status-container",children:function(){if(V===b.e.AWAITING_CONFIRM||A===b.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(V){case b.e.PENDING:return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{intervalMs:2e3,messages:p.b,useFirstItemStart:!0,render:function(e){return Object(s.jsx)(N.a,{children:e},e)}}),Object(s.jsx)(x.a,{url:M,isPending:!0})]});case b.e.FULFILLED:return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:"Result submitted!"}),Object(s.jsx)(x.a,{url:M})]});default:return null}}()}),z&&Object(s.jsx)("button",{className:"button--help-centered",onClick:W,children:"Why is submitting disabled?"})]}),Object(s.jsx)(H,{title:"Why is this disabled?"})]})}var A=n(60),I=n(49);function w(e){var t,n,a,j=e.adapterName,O=e.proposal,p=Object(u.useState)(),m=Object(i.a)(p,2),x=m[0],N=m[1],g=Object(u.useState)(),E=Object(i.a)(g,2),w=E[0],y=E[1],_=Object(u.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),S=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),R=Object(h.f)().account,D=Object(I.g)(),T=D.signAndSendVote,C=D.voteDataStatus,k=Object(h.d)(),P=Object(A.a)(null===(t=O.snapshotProposal)||void 0===t?void 0:t.votes,R||""),L=Object(f.e)(),F=L.isDisabled,B=L.openWhyDisabledModal,G=L.setOtherDisabledReasons,V=L.WhyDisabledModal,U=(null===(n=O.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",z=(null===(a=O.snapshotProposal)||void 0===a?void 0:a.idInSnapshot)||"",W=C===b.e.AWAITING_CONFIRM||C===b.e.PENDING,H=C===b.e.FULFILLED,Y=F||(W||H),K=W?x:void 0;function q(){return(q=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(z){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return N(l.VoteChoices[t]),e.next=8,T(Object(r.a)(Object(r.a)({},j?{adapterName:j}:void 0),{},{partialVoteData:{choice:t},proposalIdInDAO:U,proposalIdInSnapshot:z}));case 8:return e.next=10,O.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),y(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){if(S){var e=k?"Your member address is delegated to ".concat(S,". You must use that address to vote."):"";_.current=Object(r.a)(Object(r.a)({},_.current),{},{addressIsDelegatedMessage:e})}_.current=Object(r.a)(Object(r.a)({},_.current),{},{alreadyVotedMessage:P?"You have already voted.":""}),G(Object.values(_.current))}),[S,k,G,P]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(M,{onClick:Y?function(){}:function(e){return q.apply(this,arguments)},buttonProps:{disabled:Y,"aria-disabled":Y},voteChosen:P,voteProgress:K}),Object(s.jsx)(v.a,{error:w,renderText:"Something went wrong"}),F&&Object(s.jsx)("button",{className:"button--help-centered",onClick:B,children:"Why is voting disabled?"}),Object(s.jsx)(V,{title:"Why is voting disabled?"})]})}var y=n(112);function _(e){var t=e.startLabel,n=e.startPeriodMs,r=e.endLabel,a=e.endedLabel,c=e.endPeriodMs,o=Object(u.useState)(null),d=Object(i.a)(o,2),l=d[0],b=d[1],j=Object(u.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),r=n.days,a=n.hours,c=n.minutes,o=n.seconds;return r>2&&t?"~".concat(r," days"):r>0?"".concat(O(r,"day")," : ").concat(O(a,"hr")," : ").concat(O(c,"min")):a>0?"".concat(O(a,"hr")," : ").concat(O(c,"min")):c>0?"".concat(O(c,"min")," : ").concat(O(o,"sec")):Object(s.jsx)("span",{className:"color-brightsalmon",children:O(o,"sec")})}),[]);function O(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(u.useEffect)((function(){var e=setInterval((function(){var o=new Date,i=new Date(n),u=new Date(c);if(o<i){var d=Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(s.jsx)("span",{className:"votingstatus__timer",children:j(i,!0)})]});b(d)}else if(o<u){var l=Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{className:"votingstatus",children:r||"Ends:"})," ",Object(s.jsx)("span",{className:"votingstatus__timer",children:j(u)})]});b(l)}else{b(Object(s.jsx)("span",{className:"votingstatus",children:a||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[j,r,c,a,t,n]),Object(s.jsx)("div",{children:l})}function S(e){return Object(s.jsxs)("svg",Object(r.a)(Object(r.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(s.jsx)("defs",{children:Object(s.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(s.jsxs)("g",{id:"Group-70",children:[Object(s.jsx)("mask",{id:"mask-2",fill:"white",children:Object(s.jsx)("use",{xlinkHref:"#path-1"})}),Object(s.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function R(e){var t=e.hasVotingEnded,n=e.noShares,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,o=void 0===c||c,i=e.totalShares,u=e.yesShares,d=r();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"votingstatus-container",children:[Object(s.jsx)(S,{"aria-label":"Counting down until voting ends",role:"img"}),d&&Object(s.jsx)("span",{className:"votingstatus",children:d}),a(_)]}),Object(s.jsx)(F,{yesShares:u,noShares:n,totalShares:i,votingExpired:t,showPercentages:o})]})}var D=Object(s.jsxs)("span",{children:["Grace period ends:",Object(s.jsx)("br",{})]}),T=Object(s.jsxs)("span",{children:["Grace period ended ",Object(s.jsx)("br",{})," ",Object(s.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),C={duration:150};function k(e){var t,n=e.countdownGracePeriodStartMs,r=e.proposal,a=e.votingResult,c=r.snapshotProposal,o=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),l=Object(u.useState)(),O=Object(i.a)(l,2),p=O[0],f=O[1],h=Object(u.useState)(0),m=Object(i.a)(h,2),v=m[0],x=m[1],N=Object(I.b)(r),g=N.hasOffchainVotingStarted,E=N.hasOffchainVotingEnded,A=N.offchainVotingStartEndInitReady,w=Object(I.a)(a?void 0:r.snapshotProposal).offchainVotingResults,_=a||(null===(t=w[0])||void 0===t?void 0:t[1]),S=(null===c||void 0===c?void 0:c.msg.payload.start)||0,k=(null===c||void 0===c?void 0:c.msg.payload.end)||0,P=(null===_||void 0===_?void 0:_.Yes.shares)||0,L=(null===_||void 0===_?void 0:_.No.shares)||0,F=null===_||void 0===_?void 0:_.totalShares;return Object(u.useEffect)((function(){E&&f(P>L)}),[E,L,P]),Object(u.useEffect)((function(){n&&o&&Object(j.f)(b.b.offchainVotingGracePeriod,o).then((function(e){return e&&x(1e3*Number(e))})).catch((function(){return x(0)}))}),[n,o]),Object(s.jsx)(R,{renderTimer:function(e){return A&&g&&!E?Object(s.jsx)(e,{startPeriodMs:1e3*S,endPeriodMs:1e3*k}):n&&v?Object(s.jsx)(e,{startPeriodMs:n,endLabel:D,endedLabel:T,endPeriodMs:n+v}):void 0},renderStatus:function(){return A?n?"":"boolean"===typeof p?p?"Approved":"Failed":void 0:Object(s.jsx)(y.a,{ariaLabel:"Getting off-chain voting status",intervalMs:200,fadeInProps:C})},hasVotingEnded:E,noShares:L,totalShares:F,yesShares:P})}function P(e){return Object(s.jsx)("svg",Object(r.a)(Object(r.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(s.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function L(e,t){return(e/t*100).toFixed(0)}function F(e){var t=e.yesShares,n=void 0===t?0:t,r=e.noShares,a=void 0===r?0:r,c=e.totalShares,o=e.votingExpired,i=e.showPercentages,u=c?L(n,c):"0",d=c?L(a,c):"0";return Object(s.jsxs)("div",{className:"votingbar-container",children:[Object(s.jsxs)("div",{className:"votingbar",children:[Object(s.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(u,"% yes votes"),style:{width:"".concat(u,"%")}}),Object(s.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(d,"% no votes"),style:{width:"".concat(d,"%")}})]}),Object(s.jsx)("div",{className:"votingbar__percentages",children:i&&Object(s.jsxs)(s.Fragment,{children:[o&&n>a&&Object(s.jsx)("span",{className:"yes-check",children:Object(s.jsx)(P,{"aria-label":"Vote has passed"})}),Object(s.jsxs)("span",{className:"yes-percent",children:[u,"%"]}),Object(s.jsxs)("span",{className:"no-percent",children:[d,"%"]}),o&&n<=a&&Object(s.jsx)("span",{className:"no-check",children:Object(s.jsx)(P,{"aria-label":"Vote has failed"})})]})})]})}function M(e){var t=e.buttonProps,n=e.onClick,a=e.voteChosen,c=e.voteProgress,o=function(e){return a===e?"votingbutton--voted":""};function i(e){return c===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function u(e){return c===e?Object(s.jsx)(g.a,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):a===e?"Voted ".concat(e):"Vote ".concat(e)}function d(e){return function(){n(e)}}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(o(l.VoteChoices.Yes)),onClick:d(l.VoteChoices.Yes),children:u(l.VoteChoices.Yes)})),Object(s.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(o(l.VoteChoices.No)),onClick:d(l.VoteChoices.No),children:u(l.VoteChoices.No)}))]})}},18:function(e,t,n){"use strict";var r,a,c,s;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e.CONFIGURATION="configuration",e.DISTRIBUTE="distribute",e.EXECUTION="execution",e.FINANCING="financing",e.GUILDKICK="guildkick",e.ONBOARDING="onboarding",e.NONVOTING_ONBOARDING="nonvoting-onboarding",e.MANAGING="managing",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.VOTING="voting",e.WITHDRAW="withdraw"}(r||(r={})),function(e){e.OFFCHAINVOTING="offchainvoting"}(a||(a={})),function(e){e.BANK="bank"}(c||(c={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(s||(s={}))},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l.a}));var r=n(4),a=n.n(r),c=n(12),s=n(5),o=n(1),i=n(11),u=n(39),d=n(16),l=n(102),b=n(6);function j(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(""),O=Object(s.a)(j,2),p=O[0],f=O[1],h=Object(o.useState)(!1),m=Object(s.a)(h,2),v=m[0],x=m[1],N=Object(o.useState)(),g=Object(s.a)(N,2),E=g[0],A=g[1],I=Object(o.useState)(b.e.STANDBY),w=Object(s.a)(I,2),y=w[0],_=w[1],S=Object(l.a)().networkId;function R(e){return function(t){_(b.e.PENDING),x(!1),S&&S!==i.b.GANACHE&&f("".concat(i.j[S],"/tx/").concat(t)),e&&e(t)}}function D(){return(D=Object(c.a)(a.a.mark((function e(){var t,n,c,s,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),f(""),_(b.e.AWAITING_CONFIRM),x(!0),n=i.length,c=new Array(n),s=0;s<n;s++)c[s]=i[s];return c[4]=R(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return o=e.sent,A(o),_(b.e.FULFILLED),t(),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),_(b.e.REJECTED),x(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:p,txIsPromptOpen:v,txReceipt:E,txSend:function(){return D.apply(this,arguments)},txStatus:y}}var O="https://ethgasstation.info/json/ethgasAPI.json";function p(){var e=Object(o.useState)(O),t=Object(s.a)(e,2),n=t[0],r=(t[1],Object(o.useState)()),a=Object(s.a)(r,2),c=a[0];a[1],Object(o.useRef)();return Object(o.useEffect)((function(){}),[n]),c}var f=n(17),h=n(32);function m(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(o.useState)(!1),a=Object(s.a)(r,2),c=a[0],u=a[1],d=Object(o.useState)(),b=Object(s.a)(d,2),j=b[0],O=b[1];return Object(o.useEffect)((function(){u(t===i.g),n&&t!==i.g?O(new Error("Please connect to the ".concat(i.c[i.g],"."))):O(void 0)}),[n,t]),{defaultChain:i.g,defaultChainError:j,isDefaultChain:c}}function v(){var e=m().isDefaultChain,t=Object(l.a)().web3Instance,n=Object(f.b)();function r(){return(r=Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(Object(h.s)(t));case 5:return r.next=7,n(Object(h.r)(t));case 7:return r.next=9,n(Object(h.q)(t));case 9:return r.next=11,n(Object(h.u)(t));case 11:return r.next=13,n(Object(h.v)(t));case 13:return r.next=15,n(Object(h.w)(t));case 15:return r.next=17,n(Object(h.y)(t));case 17:return r.next=19,n(Object(h.A)(t));case 19:return r.next=21,n(Object(h.p)(t));case 21:return r.next=23,n(Object(h.w)(t));case 23:return r.next=25,n(Object(h.x)(t));case 25:return r.next=27,n(Object(h.z)(t));case 27:return r.next=29,n(Object(h.t)(t));case 29:return r.next=31,n(Object(h.B)(t));case 31:r.next=36;break;case 33:throw r.prev=33,r.t0=r.catch(0),r.t0;case 36:case"end":return r.stop()}}),r,null,[[0,33]])})))).apply(this,arguments)}return Object(o.useCallback)((function(){return r.apply(this,arguments)}),[n,e,t])}function x(){var e=Object(f.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey}))||"",t=Object(f.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress}))||"",n=Object(l.a)().account,r=void 0===n?"":n;return Object(d.g)(r)===Object(d.g)(t)&&Object(d.g)(r)!==Object(d.g)(e)}n(141)},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n.n(r),c=n(12),s=n(58),o=n.n(s);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(o.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(0),a=n(1),c=n(141),s=Object(a.createContext)({});function o(e){var t=e.children,n=e.defaultChain,a=e.defaultTheme,o=void 0===a?c.a.DARK:a,i=e.providerOptions,u={defaultChain:n,defaultTheme:o,providerOptions:i},d=Object(c.b)(u),l={account:d.account,connected:d.connected,onConnectTo:d.onConnectTo,onDisconnect:d.onDisconnect,networkId:d.networkId,provider:d.provider,providerOptions:i,web3Instance:d.web3Instance,web3Modal:d.web3Modal};return Object(r.jsx)(s.Provider,{value:l,children:t})}},218:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(213),a=n(142);function c(){var e=Object(r.a)(["\n  query GetDao($id: ID) {\n    molochv3S(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalShares\n      # bank {\n      #   id\n      #   bankAddress\n      # }\n    }\n  }\n"]);return c=function(){return e},e}var s=Object(a.gql)(c());function o(){var e=Object(r.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    molochv3S(where: {daoAddress: $daoAddress}) {\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]);return o=function(){return e},e}var i=Object(a.gql)(o())},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(3),c=(n(1),n(963)),s=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},o={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(r.jsx)(c.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(r.jsx)("span",{style:Object(a.a)(Object(a.a)({},s(e)),o[n]),children:e.children}):Object(r.jsx)("div",{style:Object(a.a)(Object(a.a)({},s(e)),o[n]),children:e.children})}})}},23:function(e,t,n){"use strict";var r,a,c,s;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(s||(s={}))},32:function(e,t,n){"use strict";n.d(t,"o",(function(){return r.c})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return g})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return A})),n.d(t,"l",(function(){return I})),n.d(t,"m",(function(){return w})),n.d(t,"n",(function(){return y})),n.d(t,"r",(function(){return _})),n.d(t,"s",(function(){return S})),n.d(t,"x",(function(){return T})),n.d(t,"p",(function(){return C})),n.d(t,"z",(function(){return k})),n.d(t,"t",(function(){return P})),n.d(t,"w",(function(){return L})),n.d(t,"A",(function(){return F})),n.d(t,"y",(function(){return M})),n.d(t,"v",(function(){return B})),n.d(t,"u",(function(){return G})),n.d(t,"q",(function(){return V})),n.d(t,"B",(function(){return U}));var r=n(173),a=n(3),c=n(66),s=n(4),o=n.n(s),i=n(12),u=n(6),d=n(11),l=n(39),b=n(202),j=n(18),O="CONTRACT_BANK_EXTENSION",p="CONTRACT_CONFIGURATION",f="CONTRACT_DAO_FACTORY",h="CONTRACT_DAO_REGISTRY",m="CONTRACT_DISTRIBUTE",v="CONTRACT_FINANCING",x="CONTRACT_GUILDKICK",N="CONTRACT_MANAGING",g="CONTRACT_ONBOARDING",E="CONTRACT_RAGEQUIT",A="CONTRACT_TRIBUTE",I="CONTRACT_VOTING",w="CONTRACT_VOTING_OP_ROLLUP",y="CONTRACT_WITHDRAW";function _(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(7).then(n.t.bind(null,969,3));case 4:a=t.sent,c=a.default,s=c,i=d.e[d.g],u=new e.eth.Contract(s,i),r(z({type:f,abi:s,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function S(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(8).then(n.t.bind(null,970,3));case 4:if(a=t.sent,c=a.default,s=c,i=d.f){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(s,i),r(z({type:h,abi:s,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function R(e,t){return W({actionType:I,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.d.VotingContract,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,971,3))},web3Instance:e})}function D(e,t){return W({actionType:w,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.d.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,972,3))},web3Instance:e})}function T(e,t){return W({actionType:g,adapterNameForRedux:j.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(16).then(n.t.bind(null,973,3))},web3Instance:e})}function C(e,t){return W({actionType:O,adapterNameForRedux:j.b.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(5).then(n.t.bind(null,974,3))},web3Instance:e})}function k(e,t){return W({actionType:A,adapterNameForRedux:j.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,975,3))},web3Instance:e})}function P(e,t){return W({actionType:m,adapterNameForRedux:j.a.DISTRIBUTE,adapterOrExtensionName:u.a.distribute,contractAddress:t,lazyImport:function(){return n.e(9).then(n.t.bind(null,976,3))},web3Instance:e})}function L(e,t){return W({actionType:N,adapterNameForRedux:j.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(13).then(n.t.bind(null,977,3))},web3Instance:e})}function F(e,t){return W({actionType:y,adapterNameForRedux:j.a.WITHDRAW,adapterOrExtensionName:u.a.withdraw,contractAddress:t,lazyImport:function(){return n.e(20).then(n.t.bind(null,978,3))},web3Instance:e})}function M(e,t){return W({actionType:E,adapterNameForRedux:j.a.RAGEQUIT,adapterOrExtensionName:u.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(17).then(n.t.bind(null,979,3))},web3Instance:e})}function B(e,t){return W({actionType:x,adapterNameForRedux:j.a.GUILDKICK,adapterOrExtensionName:u.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,980,3))},web3Instance:e})}function G(e,t){return W({actionType:v,adapterNameForRedux:j.a.FINANCING,adapterOrExtensionName:u.a.financing,contractAddress:t,lazyImport:function(){return n.e(10).then(n.t.bind(null,981,3))},web3Instance:e})}function V(e,t){return W({actionType:p,adapterNameForRedux:j.a.CONFIGURATION,adapterOrExtensionName:u.a.configuration,contractAddress:t,lazyImport:function(){return n.e(6).then(n.t.bind(null,982,3))},web3Instance:e})}function U(e,t){return function(){var r=Object(i.a)(o.a.mark((function r(a,c){var s,d,b,j,O,p,f;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=34;break}return s=c().contracts.DaoRegistryContract,r.next=5,n.e(12).then(n.t.bind(null,983,3));case 5:if(d=r.sent,b=d.default,s){r.next=10;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),r.abrupt("return");case 10:if(j="",O=t||"",p=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new e.eth.Contract(b,n).methods.getAdapterName().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!O){r.next=17;break}return r.next=16,p(O);case 16:j=r.sent;case 17:if(O||j){r.next=24;break}return r.next=20,Object(l.c)(u.a.voting,null===(f=c().contracts.DaoRegistryContract)||void 0===f?void 0:f.instance);case 20:return O=r.sent,r.next=23,p(O);case 23:j=r.sent;case 24:r.t0=j,r.next="VotingContract"===r.t0?27:"OffchainVotingContract"===r.t0?30:33;break;case 27:return r.next=29,R(e,O)(a,c);case 29:return r.abrupt("return",r.sent);case 30:return r.next=32,D(e,O)(a,c);case 32:return r.abrupt("return",r.sent);case 33:throw new Error("Voting contract name could not be found.");case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 39:case"end":return r.stop()}}),r,null,[[0,36]])})));return function(e,t){return r.apply(this,arguments)}}()}function z(e){var t=e.type,n=Object(c.a)(e,["type"]);return Object(a.a)({type:t},n)}function W(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,s=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(o.a.mark((function e(c,i){var j,O,p,f,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(p=e.sent,f=p.default,h=f,e.t0=a,e.t0){e.next=18;break}if(!s){e.next=14;break}return e.next=11,Object(b.a)(r,null===(j=i().contracts.DaoRegistryContract)||void 0===j?void 0:j.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(l.c)(r,null===(O=i().contracts.DaoRegistryContract)||void 0===O?void 0:O.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(z({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new d.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(0),c=(n(1),n(16)),s=n(22);function o(e){var t=e.error,n=e.renderText,o=4001===(null===t||void 0===t?void 0:t.code)||/^(the )?user rejected (the )?request$/g.test(Object(c.g)((null===t||void 0===t?void 0:t.message)||""));return t&&!o?Object(a.jsx)(s.a,{children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(a.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(a.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(a.jsx)("small",{children:"Details"})}),Object(a.jsx)("p",{className:"error-message",children:Object(a.jsx)("small",{children:t.message})})]}))]})}):null}},39:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return w}));var r=n(4),a=n.n(r),c=n(3),s=n(31),o=n(12);function i(e,t,n,r,a){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(t,n,r,i,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(o,d){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n[t],e.next=4,l.apply(void 0,Object(s.a)(r)).estimateGas({from:i.from,value:i.value});case 4:return b=e.sent,e.next=7,l.apply(void 0,Object(s.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:b})).on("transactionHash",(function(e){u&&u(e)})).on("receipt",(function(e){o(e)})).on("error",(function(e){d(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(58),l=n.n(d);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var O=n(6);function p(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function f(e,t){try{switch(e){case O.a.configuration:return"";case O.a.distribute:return p(t.DistributeContract);case O.a.financing:case O.a.guildkick:return"";case O.a.managing:return p(t.ManagingContract);case O.a.onboarding:return p(t.OnboardingContract);case O.a.ragequit:return"";case O.a.tribute:return p(t.TributeContract);case O.a.voting:return p(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var h=n(16);function m(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(h.g)(t.contractAddress)===Object(h.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function v(e,t){return x.apply(this,arguments)}function x(){return(x=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N;n(202);function g(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return n=t.methods,e.next=6,n.state().call();case 6:return r=e.sent,e.abrupt("return",0===Number(r)?N.CREATION:N.READY);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(N||(N={}));var A=n(5),I=n(11);function w(e){return y.apply(this,arguments)}function y(){return(y=Object(o.a)(a.a.mark((function e(t){var r,c,s,o,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,s=t.calls,o=t.web3Instance,e.next=3,n.e(14).then(n.t.bind(null,984,3));case 3:if(i=e.sent,u=i.default,I.u){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new o.eth.Contract(u,I.u),l=d.methods,e.next=12,l.aggregate(s.map((function(e){var t=Object(A.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),o.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=s[t][1].outputs||[],r=o.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:o.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},453:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},477:function(e,t){},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return A})),n.d(t,"e",(function(){return I})),n.d(t,"f",(function(){return w})),n.d(t,"d",(function(){return T})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return L}));var r=n(450),a=n(31),c=n(10),s=n(4),o=n.n(s),i=n(12),u=n(5),d=n(1),l=n(17),b=n(19),j=n(15),O=n(39),p=n(11),f=n(20),h=n(6);function m(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),s=Object(d.useState)([]),m=Object(u.a)(s,2),v=m[0],x=m[1],N=Object(d.useState)(j.a.STANDBY),g=Object(u.a)(N,2),E=g[0],A=g[1],I=Object(d.useState)(),w=Object(u.a)(I,2),y=w[0],_=w[1],S=Object(f.f)().web3Instance,R=null===t||void 0===t?void 0:t.find((function(e){return"getPriorAmount"===e.name})),D=Object(d.useCallback)((function(e){return T.apply(this,arguments)}),[]);function T(){return(T=Object(i.a)(o.a.mark((function e(t){var n,s,i,d,l,j,f,m,v,x,N,g,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.bankAddress,s=t.getPriorAmountABI,i=t.snapshot,d=t.voterAddressesAndChoices,l=t.web3Instance,e.prev=1,j={},Object(c.a)(j,h.d.Yes,{percentage:0,shares:0}),Object(c.a)(j,h.d.No,{percentage:0,shares:0}),Object(c.a)(j,"totalShares",0),f=j,m=[n,s,[p.B,p.y,i.toString()]],v=d.map((function(e){var t=Object(u.a)(e,1)[0];return[n,s,[t,p.y,i.toString()]]})),x=[m].concat(Object(a.a)(v)),e.next=8,Object(O.h)({calls:x,web3Instance:l});case 8:return N=e.sent,g=Object(r.a)(N),E=g[0],g.slice(1).forEach((function(e,t){var n=b.VoteChoicesIndex[d[t][1]]===b.VoteChoicesIndex[b.VoteChoicesIndex.Yes]?h.d.Yes:h.d.No;f[n].shares+=Number(e)})),f[h.d.Yes].percentage=f[h.d.Yes].shares/Number(E)*100,f[h.d.No].percentage=f[h.d.No].shares/Number(E)*100,f.totalShares=Number(E),e.abrupt("return",f);case 19:throw e.prev=19,e.t0=e.catch(1),e.t0;case 22:case"end":return e.stop()}}),e,null,[[1,19]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){var t=Array.isArray(e)?e:[e];if(n&&R&&t.length){A(j.a.PENDING);var r=t.map(function(){var e=Object(i.a)(o.a.mark((function e(t){var r,a,c,s,i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===t||void 0===t?void 0:t.msg.payload.snapshot,(c=null===t||void 0===t?void 0:t.idInSnapshot)&&a){e.next=4;break}return e.abrupt("return");case 4:if(s=null===t||void 0===t||null===(r=t.votes)||void 0===r?void 0:r.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}))){e.next=7;break}return e.abrupt("return");case 7:return i=Object.entries(Object.fromEntries(s)),e.prev=8,e.next=11,D({bankAddress:n,getPriorAmountABI:R,snapshot:a,voterAddressesAndChoices:i,web3Instance:S});case 11:return u=e.sent,e.abrupt("return",[c,u]);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return");case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}());Promise.all(r).then((function(e){return e.filter((function(e){return e}))})).then((function(e){A(j.a.FULFILLED),x(e),_(void 0)})).catch((function(e){A(j.a.REJECTED),x([]),_(e)}))}}),[n,R,D,e,S]),{offchainVotingResults:v,offchainVotingResultsError:y,offchainVotingResultsStatus:E}}function v(e){var t=e.snapshotProposal,n=Object(d.useRef)({start:j.a.STANDBY,end:j.a.STANDBY}),r=Object(d.useState)(!1),a=Object(u.a)(r,2),c=a[0],s=a[1],o=Object(d.useState)(!1),i=Object(u.a)(o,2),l=i[0],O=i[1],p=Object(d.useState)(v(n.current)),f=Object(u.a)(p,2),h=f[0],m=f[1];function v(e){return Object.values(e).every((function(e){return e===j.a.FULFILLED}))}return Object(d.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===b.SnapshotType.proposal&&!c){m((function(){return n.current.start=j.a.PENDING,v(n.current)}));var e=setInterval((function(){m((function(){return n.current.start=j.a.FULFILLED,v(n.current)}));var e=Math.floor(Date.now()/1e3)>t.msg.payload.start;e&&s(e)}),1e3);return function(){clearInterval(e)}}m((function(){return n.current.start=j.a.FULFILLED,v(n.current)}))}),[c,null===t||void 0===t?void 0:t.msg.payload.start,null===t||void 0===t?void 0:t.msg.type]),Object(d.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===b.SnapshotType.proposal&&!l){m((function(){return n.current.end=j.a.PENDING,v(n.current)}));var e=setInterval((function(){m((function(){return n.current.end=j.a.FULFILLED,v(n.current)}));var e=Math.ceil(Date.now()/1e3)>t.msg.payload.end;e&&O(e)}),1e3);return function(){clearInterval(e)}}m((function(){return n.current.end=j.a.FULFILLED,v(n.current)}))}),[l,null===t||void 0===t?void 0:t.msg.payload.end,null===t||void 0===t?void 0:t.msg.type]),{hasOffchainVotingStarted:c,hasOffchainVotingEnded:l,offchainVotingStartEndInitReady:h}}var x=n(3),N=n(75),g="Something went wrong while getting the proposal.",E="Proposal was not found.";function A(e,t){var n=Object(d.useState)(),r=Object(u.a)(n,1)[0],a=Object(d.useState)(),c=Object(u.a)(a,2),s=c[0],l=c[1],O=Object(d.useState)(),f=Object(u.a)(O,2),h=f[0],m=f[1],v=Object(d.useState)(!1),A=Object(u.a)(v,2),I=A[0],w=A[1],y=Object(d.useState)(),_=Object(u.a)(y,2),S=_[0],R=_[1],D=Object(d.useState)(j.a.STANDBY),T=Object(u.a)(D,2),C=T[0],k=T[1],P=Object(N.a)(),L=P.abortController,F=P.isMountedRef,M=Object(N.b)(),B=Object(u.a)(M,2),G=B[0],V=B[1],U=Object(d.useCallback)((function(){return K.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,F,G]),z=Object(d.useCallback)((function(){return q.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,F,G,t]),W=Object(d.useCallback)((function(){return J.apply(this,arguments)}),[U,z]),H=h?b.SnapshotType.proposal:s?b.SnapshotType.draft:void 0,Y=s||h?{daoProposal:r,getCommonSnapshotProposalData:function(){switch(H){case b.SnapshotType.draft:return s;case b.SnapshotType.proposal:return h;default:return}},refetchProposalOrDraft:function(){V({type:"increment"})},snapshotDraft:s,snapshotProposal:h,snapshotType:H}:void 0;function K(){return(K=Object(i.a)(o.a.mark((function t(){var n,r,a,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===G&&k(j.a.PENDING),t.next=4,fetch("".concat(p.z,"/api/").concat(p.A,"/draft/").concat(e),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(g);case 7:return t.next=9,n.json();case 9:if(r=t.sent,F.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw w(!0),new Error(E);case 15:return a=Object.keys(r)[0],c=Object(x.a)({idInDAO:a,idInSnapshot:a},r[a]),k(j.a.FULFILLED),l(c),t.abrupt("return",c);case 22:t.prev=22,t.t0=t.catch(0),k(j.a.REJECTED),R(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function q(){return(q=Object(i.a)(o.a.mark((function n(){var r,a,c,s,i,u;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,0===G&&k(j.a.PENDING),n.next=4,fetch("".concat(p.z,"/api/").concat(p.A,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((a=n.sent).ok){n.next=9;break}if(t!==b.SnapshotType.proposal){n.next=8;break}throw new Error(g);case 8:return n.abrupt("return");case 9:return n.next=11,a.json();case 11:if(c=n.sent,F.current){n.next=14;break}return n.abrupt("return");case 14:if(c&&Object.keys(c).length){n.next=19;break}if(t!==b.SnapshotType.proposal){n.next=18;break}throw w(!0),new Error(E);case 18:return n.abrupt("return");case 19:return s=Object.keys(c)[0],i=(null===(r=c[s])||void 0===r?void 0:r.data.erc712DraftHash)||s,u=Object(x.a)({idInDAO:i,idInSnapshot:s},c[s]),k(j.a.FULFILLED),m(u),n.abrupt("return",u);case 27:n.prev=27,n.t0=n.catch(0),k(j.a.REJECTED),R(n.t0);case 31:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function J(){return(J=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:if(t=e.sent){e.next=9;break}return e.next=6,U();case 6:return n=e.sent,l(n),e.abrupt("return");case 9:m(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(d.useEffect)((function(){if(null===L||void 0===L?void 0:L.signal)switch(t){case b.SnapshotType.draft:U();break;case b.SnapshotType.proposal:z();break;default:W()}}),[null===L||void 0===L?void 0:L.signal,U,z,W,t]),{proposalData:Y,proposalError:S,proposalNotFound:I,proposalStatus:C}}function I(e){var t=e.adapterName,n=Object(d.useState)(),r=Object(u.a)(n,2),c=r[0],s=r[1],h=Object(d.useState)([]),m=Object(u.a)(h,2),v=m[0],N=m[1],g=Object(d.useState)(),E=Object(u.a)(g,2),A=E[0],I=E[1],w=Object(d.useState)(j.a.STANDBY),y=Object(u.a)(w,2),_=y[0],S=y[1],R=Object(l.c)((function(e){return e.contracts})),D=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),T=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),C=Object(f.f)().web3Instance,k=Object(d.useCallback)((function(e){return G.apply(this,arguments)}),[C]),P=Object(d.useCallback)((function(){return V.apply(this,arguments)}),[c,k,D,T]);function L(e){return F.apply(this,arguments)}function F(){return(F=Object(i.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(p.z,"/api/").concat(p.A),e.next=4,fetch("".concat(n,"/drafts/").concat(t));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot drafts.");case 7:return e.next=9,r.json();case 9:return a=e.sent,c=Object.entries(a).filter((function(e){var t=Object(u.a)(e,2);t[0];return!1===t[1].data.sponsored})),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function M(e){return B.apply(this,arguments)}function B(){return(B=Object(i.a)(o.a.mark((function e(t){var n,r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(p.z,"/api/").concat(p.A),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,c=Object.entries(a).map((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return[r.data.erc712DraftHash||n,r]})),e.abrupt("return",c);case 14:throw e.prev=14,e.t0=e.catch(0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function G(){return(G=Object(i.a)(o.a.mark((function e(t){var n,r,a,c,s,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.proposalIds,r=t.registryAbi,a=t.registryAddress,e.prev=1,c=r.find((function(e){return"proposals"===e.name})),s=n.map((function(e){return[a,c,[e]]})),e.next=6,Object(O.h)({calls:s,web3Instance:C});case 6:return i=e.sent,d=n.map((function(e,t){return[e,i[t]]})),e.abrupt("return",d.filter((function(e){var t=Object(u.a)(e,2);t[0];return"0"!==t[1].flags})));case 11:throw e.prev=11,e.t0=e.catch(1),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function V(){return(V=Object(i.a)(o.a.mark((function e(){var t,n,r,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:if(D){e.next=4;break}return e.abrupt("return");case 4:if(T){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,S(j.a.PENDING),e.next=10,L(c);case 10:return t=e.sent,e.next=13,M(c);case 13:if(n=e.sent,(r=[].concat(Object(a.a)(t),Object(a.a)(n)).map((function(e){return e[0]}))).length){e.next=18;break}return S(j.a.FULFILLED),e.abrupt("return");case 18:return e.next=20,k({proposalIds:r,registryAbi:D,registryAddress:T});case 20:s=e.sent,i=s.map((function(e){var r=Object(u.a)(e,2),a=r[0],c=r[1],s=t.find((function(e){return Object(u.a)(e,1)[0]===a})),o=n.find((function(e){return Object(u.a)(e,1)[0]===a})),i=s?Object(x.a)(Object(x.a)({},s[1]),{},{idInDAO:a,idInSnapshot:s[0]}):void 0,d=o?Object(x.a)(Object(x.a)({},o[1]),{},{idInDAO:a,idInSnapshot:o[0]}):void 0;return{daoProposal:c,snapshotDraft:i,getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotProposal:d,snapshotType:d?b.SnapshotType.proposal:b.SnapshotType.draft}})).filter((function(e){return e.snapshotDraft||e.snapshotProposal})),S(j.a.FULFILLED),N(i),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(6),S(j.a.REJECTED),N([]),I(e.t0);case 31:case"end":return e.stop()}}),e,null,[[6,26]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){var e,n,r=null===(e=Object.entries(R).find((function(e){var n=Object(u.a)(e,2),r=(n[0],n[1]);return(null===r||void 0===r?void 0:r.adapterOrExtensionName)===t})))||void 0===e||null===(n=e[1])||void 0===n?void 0:n.contractAddress;s(r)}),[c,t,R]),Object(d.useEffect)((function(){P()}),[P]),{proposals:v,proposalsError:A,proposalsStatus:_}}function w(e){var t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),n=Object(l.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.contractAddress})),r=Object(l.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.abi})),a=Object(f.f)().web3Instance,c=Object(d.useState)([]),s=Object(u.a)(c,2),b=s[0],p=s[1],h=Object(d.useState)(),m=Object(u.a)(h,2),v=m[0],x=m[1],N=Object(d.useState)(j.a.STANDBY),g=Object(u.a)(N,2),E=g[0],A=g[1],I=Object(d.useCallback)((function(){return w.apply(this,arguments)}),[e,t,r,n,a]);function w(){return(w=Object(i.a)(o.a.mark((function c(){var s,i,u;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(t&&n&&r&&e.length){c.next=2;break}return c.abrupt("return");case 2:if(c.prev=2,s=r.find((function(e){return"voteResult"===e.name}))){c.next=6;break}throw new Error('No "voteResult" ABI function was found for the voting adapter.');case 6:return i=e.map((function(e){return[n,s,[t,e]]})),A(j.a.PENDING),c.next=10,Object(O.h)({calls:i,web3Instance:a});case 10:u=c.sent,A(j.a.FULFILLED),p(e.map((function(e,t){return[e,u[t]]}))),c.next=20;break;case 15:c.prev=15,c.t0=c.catch(2),A(j.a.REJECTED),p([]),x(c.t0);case 20:case"end":return c.stop()}}),c,null,[[2,15]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){I()}),[I]),{proposalsVotingState:b,proposalsVotingStateError:v,proposalsVotingStateStatus:E}}var y=n(63),_=n(16),S=n(59),R=n(60),D=n(77);function T(e){var t=e.snapshotDraft,n=e.snapshotProposal,r=(null===t||void 0===t?void 0:t.idInDAO)||(null===n||void 0===n?void 0:n.idInDAO),a=Object(f.f)().web3Instance,c=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),s=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),b=Object(l.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.contractAddress})),j=Object(l.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.abi})),p=Object(d.useState)(),h=Object(u.a)(p,2),m=h[0],x=h[1],N=Object(d.useState)(),g=Object(u.a)(N,2),E=g[0],A=g[1],I=Object(d.useState)(),w=Object(u.a)(I,2),T=w[0],C=w[1],k=Object(d.useRef)(),P=v(e),L=P.hasOffchainVotingStarted,F=P.hasOffchainVotingEnded,M=P.offchainVotingStartEndInitReady,B=Object(d.useCallback)((function(){return Y.apply(this,arguments)}),[s,c,j,b,r,a]),G=!!m&&Object(R.b)(S.b.EXISTS,m.flags),V=!!m&&Object(R.b)(S.b.SPONSORED,m.flags),U=!!m&&Object(R.b)(S.b.PROCESSED,m.flags),z=E&&E.reporter&&Object(_.g)(E.reporter)!==y.a&&E.resultRoot&&Object(_.g)(E.resultRoot)!==y.a,W=T&&D.a[T]===D.a[D.a.GRACE_PERIOD];function H(e){return{status:e,daoProposal:m,daoProposalVoteResult:T,daoProposalVotes:E}}function Y(){return(Y=Object(i.a)(o.a.mark((function e(){var t,n,i,d,l,p,f,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s&&c&&j&&b&&r){e.next=3;break}return e.abrupt("return");case 3:return t=s.filter((function(e){return"proposals"===e.name}))[0],n=j.filter((function(e){return"voteResult"===e.name}))[0],i=j.filter((function(e){return"votes"===e.name}))[0],d=[[c,t,[r]],[b,i,[c,r]],[b,n,[c,r]]],e.next=9,Object(O.h)({calls:d,web3Instance:a});case 9:l=e.sent,p=Object(u.a)(l,3),f=p[0],h=p[1],m=p[2],x(f),A(h),C(m),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}return Object(d.useEffect)((function(){B();var e=setInterval(B,5e3);k.current=e}),[B]),Object(d.useEffect)((function(){return U&&k.current&&clearInterval(k.current),function(){k.current&&clearInterval(k.current)}}),[U]),M&&!L&&G?H(S.c.Sponsor):M&&L&&!F&&V?H(S.c.OffchainVoting):M&&F&&V&&!z?H(S.c.OffchainVotingSubmitResult):M&&F&&V&&z&&W?H(S.c.OffchainVotingGracePeriod):V&&M&&F&&z&&!W?H(S.c.Process):U?H(S.c.Completed):{status:void 0,daoProposal:m,daoProposalVoteResult:T,daoProposalVotes:E}}var C=n(70),k=n(102);function P(){var e=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(l.c)((function(e){return e.contracts})),n=Object(k.a)(),r=n.account,a=n.provider,c=n.web3Instance,s=Object(d.useState)(),j=Object(u.a)(s,2),f=j[0],m=j[1],v=Object(d.useState)(),N=Object(u.a)(v,2),g=N[0],E=N[1],A=Object(d.useState)(h.e.STANDBY),I=Object(u.a)(A,2),w=I[0],_=I[1];function S(){return(S=Object(i.a)(o.a.mark((function n(s){var i,u,d,l,j,f,v,N,g,A,I,w,S,R,D,T,k,P,L,F,M,B,G;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=s.partialVoteData,u=s.adapterName,d=s.proposalIdInDAO,l=s.proposalIdInSnapshot,n.prev=1,c){n.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(r){n.next=6;break}throw new Error("No account was found.");case 6:if(e){n.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(p.z){n.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(p.A){n.next=12;break}throw new Error('No Snapshot "SPACE" was found.');case 12:return _(h.e.AWAITING_CONFIRM),j=u?Object(O.d)(u,t):y.a,f=i.choice,v=i.delegateAddress,N=i.metadata,g=void 0===N?{}:N,n.next=17,Object(b.getSpace)(p.z,p.A);case 17:return A=n.sent,I=A.data,w={chainId:p.g,choice:f,metadata:Object(x.a)(Object(x.a)({},g),{},{memberAddress:v||r})},S={proposalHash:d,space:p.A,token:I.token},n.next=23,Object(b.buildVoteMessage)(w,S,p.z);case 23:return R=n.sent,D=Object(b.prepareVoteMessage)({timestamp:R.timestamp,payload:{proposalHash:R.payload.proposalHash,choice:b.VoteChoicesIndex[f]}}),T=Object(b.getDomainDefinition)(Object(x.a)(Object(x.a)({},D),{},{type:b.SnapshotType.vote}),e,j,p.g),k=T.domain,P=T.types,L=JSON.stringify({types:P,domain:k,primaryType:C.a,message:D}),n.next=29,Object(b.signMessage)(a,r,L);case 29:return F=n.sent,_(h.e.PENDING),n.next=33,Object(b.submitMessage)(p.z,r,Object(x.a)(Object(x.a)({},R),{},{payload:Object(x.a)(Object(x.a)({},R.payload),{},{proposalHash:l})}),F,{actionId:k.actionId,chainId:k.chainId,verifyingContract:k.verifyingContract,message:D});case 33:return M=n.sent,B=M.data,G={data:R,signature:F,uniqueId:B.uniqueId},_(h.e.FULFILLED),m(G),n.abrupt("return",G);case 41:throw n.prev=41,n.t0=n.catch(1),_(h.e.REJECTED),E(n.t0),n.t0;case 46:case"end":return n.stop()}}),n,null,[[1,41]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return S.apply(this,arguments)},voteData:f,voteDataError:g,voteDataStatus:w}}function L(){var e=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(l.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(l.c)((function(e){return e.contracts})),r=Object(k.a)(),a=r.account,c=r.provider,s=r.web3Instance,j=Object(d.useState)(),f=Object(u.a)(j,2),m=f[0],v=f[1],N=Object(d.useState)(),g=Object(u.a)(N,2),E=g[0],A=g[1],I=Object(d.useState)(h.e.STANDBY),w=Object(u.a)(I,2),_=w[0],S=w[1];function R(e){return D.apply(this,arguments)}function D(){return(D=Object(i.a)(o.a.mark((function e(n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.z){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,s.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Object(O.f)(h.b.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=12,Object(b.buildProposalMessage)(Object(x.a)(Object(x.a)({},n),{},{votingTimeSeconds:a,snapshot:r}),p.z);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(i.a)(o.a.mark((function t(r){var i,u,d,l,j,f,m,N,g,E,I,w,_,D,T,k,P,L,F,M,B,G;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.partialProposalData,u=r.adapterAddress,d=r.adapterName,l=r.type,t.prev=1,a){t.next=4;break}throw new Error("No account was found to send.");case 4:if(s){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(p.z){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(p.A){t.next=12;break}throw new Error('No Snapshot "SPACE" was found.');case 12:if(l===b.SnapshotType.draft||l===b.SnapshotType.proposal){t.next=14;break}throw new Error('Handling for type "vote" is not implemented.');case 14:return S(h.e.AWAITING_CONFIRM),j=u||(d?Object(O.d)(d,n):y.a),f=i.body,m=i.name,N=i.metadata,g=i.timestamp,t.next=19,Object(b.getSpace)(p.z,p.A);case 19:if(E=t.sent,I=E.data,w={name:m,body:f,metadata:N,token:I.token,space:p.A},l!==b.SnapshotType.draft){t.next=28;break}return t.next=25,Object(b.buildDraftMessage)(w,p.z);case 25:t.t0=t.sent,t.next=31;break;case 28:return t.next=30,R(Object(x.a)(Object(x.a)({},w),{},{timestamp:g}));case 30:t.t0=t.sent;case 31:return _=t.t0,D=l===b.SnapshotType.draft?Object(b.prepareDraftMessage)(_):Object(b.prepareProposalMessage)(_),T=Object(b.getDomainDefinition)(Object(x.a)(Object(x.a)({},D),{},{type:l}),e,j,p.g),k=T.domain,P=T.types,L=JSON.stringify({types:P,domain:k,primaryType:C.a,message:D}),t.next=37,Object(b.signMessage)(c,a,L);case 37:return F=t.sent,S(h.e.PENDING),t.next=41,Object(b.submitMessage)(p.z,a,_,F,{actionId:k.actionId,chainId:k.chainId,verifyingContract:k.verifyingContract,message:D});case 41:return M=t.sent,B=M.data,G={data:_,signature:F,uniqueId:B.uniqueId,uniqueIdDraft:B.uniqueIdDraft||""},S(h.e.FULFILLED),v(G),t.abrupt("return",G);case 49:throw t.prev=49,t.t1=t.catch(1),S(h.e.REJECTED),A(t.t1),t.t1;case 54:case"end":return t.stop()}}),t,null,[[1,49]])})))).apply(this,arguments)}return{proposalData:m,proposalSignAndSendError:E,proposalSignAndSendStatus:_,signAndSendProposal:function(e){return T.apply(this,arguments)}}}},529:function(e,t){},531:function(e,t){},541:function(e,t){},543:function(e,t){},569:function(e,t){},57:function(e,t,n){"use strict";var r=n(0),a=n(5),c=n(66),s=n(3),o=n(1);function i(e){return Object(r.jsx)("div",Object(s.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,u=e.textProps,d=Object(c.a)(e,["showAfterMs","text","textProps"]),l=Object(o.useState)(!1),b=Object(a.a)(l,2),j=b[0],O=b[1];return Object(o.useEffect)((function(){var e=t&&setTimeout((function(){return O(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&j)&&e.text?Object(r.jsxs)("div",{className:"loader-container",children:[Object(r.jsx)(i,Object(s.a)({},d)),Object(r.jsx)("span",Object(s.a)(Object(s.a)({className:"loader__text"},u),{},{children:n}))]}):(!t||t&&j)&&!e.text?Object(r.jsx)(i,Object(s.a)({},d)):null}},571:function(e,t){},572:function(e,t){},577:function(e,t){},579:function(e,t){},59:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s}));var r,a,c,s;n(19);!function(e){e[e.EXISTS=0]="EXISTS",e[e.SPONSORED=1]="SPONSORED",e[e.PROCESSED=2]="PROCESSED"}(r||(r={})),function(e){e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.DONE=2]="DONE",e[e.FAILED=3]="FAILED"}(c||(c={})),function(e){e.Governance="Governance"}(s||(s={}))},592:function(e,t){},6:function(e,t,n){"use strict";var r,a,c,s,o;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),function(e){e.configuration="configuration",e.distribute="distribute",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.voting="voting",e.withdraw="withdraw"}(r||(r={})),function(e){e.bank="bank"}(a||(a={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingSharesPerChunk="onboarding.sharesPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(c||(c={})),function(e){e.Yes="Yes",e.No="No"}(s||(s={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(o||(o={}))},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return d}));var r=n(5),a=n(19),c=n(16),s=n(6);function o(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(r.a)(e,2),a=n[0];n[1];return Object(c.g)(a)===Object(c.g)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===a.VoteChoicesIndex.Yes?s.d.Yes:s.d.No}function i(e,t){return e===Math.log2(Number(t)+1)-1}var u=n(77);function d(e,t){return u.a[t]===u.a[e]}},604:function(e,t){},607:function(e,t){},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="0x0000000000000000000000000000000000000000"},649:function(e,t){},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},651:function(e,t){},679:function(e,t){},682:function(e,t){},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(6),a=(r.d.Yes,r.d.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},745:function(e,t){},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return x}));var r=n(5),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return s.current=!0,!n&&c(new AbortController),function(){s.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:s}}var s={count:0};function o(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(o,s),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}var u=n(968),d=n(17),l=n(218);function b(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(u.useLazyQuery)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(r.a)(t,2),c=n[0],s=n[1],o=s.called,i=s.loading,b=s.data,j=s.error,O=Object(a.useState)(),p=Object(r.a)(O,2),f=p[0],h=p[1],m=Object(a.useState)(),v=Object(r.a)(m,2),x=v[0],N=v[1],g=Object(a.useCallback)((function(){try{if(!i&&b){if(h(b.molochv3S[0]),0===b.molochv3S.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){N(j)}}),[null===e||void 0===e?void 0:e.contractAddress,b,j,i]);return Object(a.useEffect)((function(){o||c()}),[o,c]),Object(a.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&g()}),[null===e||void 0===e?void 0:e.contractAddress,g,i]),{dao:f,gqlError:x}}function j(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var O=n(0),p=n(156),f=n.n(p),h=n(20),m=n(22),v=n(103);function x(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(r.a)(s,2),i=o[0],u=o[1],l=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),b=Object(h.f)().connected,j=n&&n.find((function(e){return e})),p=!b||!l||!!j,x=function(){if(!b)return"Your wallet is not connected.";if(!l)return"Either you are not a member, or your membership is not active.";return j||""}(),N=!(!p||!x),g=Object(a.useCallback)((function(e){if(!N)return null;var t=e.title;return Object(O.jsx)(f.a,{ariaHideApp:!1,className:"modal-container",isOpen:i,onRequestClose:function(){u(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(O.jsx)(m.a,{children:Object(O.jsxs)("div",{className:"modal",children:[Object(O.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){u(!1)},children:Object(O.jsx)(v.a,{})}),Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(O.jsx)("p",{children:x})]})]})})})}),[N,x,i]),E=Object(a.useCallback)((function(e){c(e.filter(Boolean))}),[]);return{disabledReason:x,isDisabled:p,openWhyDisabledModal:function(){u(!0)},setOtherDisabledReasons:E,WhyDisabledModal:g}}},766:function(e,t){},77:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(r||(r={}))},773:function(e,t){},790:function(e,t){},838:function(e,t){},906:function(e,t){},918:function(e,t){},921:function(e,t){},959:function(e,t,n){},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(58),a=n.n(r),c=function(e){return a.a.utils.isAddress(e)}},960:function(e,t,n){"use strict";n.r(t),n.d(t,"apolloClient",(function(){return Un}));var r=n(0),a=n(31),c=n(1),s=n.n(c),o=n(113),i=n.n(o),u=n(17),d=n(45),l=n(968),b=n(142),j=n(439),O=n.n(j),p=n(16),f=n(11),h=n(141),m=n(114),v=n(444),x=n(445),N=n(3),g=n(66),E=n(173),A=null;function I(e,t){return Object(N.a)(Object(N.a)({},e),t)}function w(){return A}var y=n(32),_={BankExtensionContract:null,ConfigurationContract:null,DaoFactoryContract:null,DaoRegistryContract:null,DistributeContract:null,FinancingContract:null,GuildBankContract:null,ManagingContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,VotingContract:null,WithdrawContract:null};function S(e,t){return Object(N.a)(Object(N.a)({},e),{},{DaoFactoryContract:Object(N.a)({},t)})}function R(e,t){return Object(N.a)(Object(N.a)({},e),{},{DaoRegistryContract:Object(N.a)({},t)})}function D(e,t){return Object(N.a)(Object(N.a)({},e),{},{BankExtensionContract:Object(N.a)({},t)})}function T(e,t){return Object(N.a)(Object(N.a)({},e),{},{ConfigurationContract:Object(N.a)({},t)})}function C(e,t){return Object(N.a)(Object(N.a)({},e),{},{DistributeContract:Object(N.a)({},t)})}function k(e,t){return Object(N.a)(Object(N.a)({},e),{},{FinancingContract:Object(N.a)({},t)})}function P(e,t){return Object(N.a)(Object(N.a)({},e),{},{GuildBankContract:Object(N.a)({},t)})}function L(e,t){return Object(N.a)(Object(N.a)({},e),{},{OnboardingContract:Object(N.a)({},t)})}function F(e,t){return Object(N.a)(Object(N.a)({},e),{},{RagequitContract:Object(N.a)({},t)})}function M(e,t){return Object(N.a)(Object(N.a)({},e),{},{TributeContract:Object(N.a)({},t)})}function B(e,t){return Object(N.a)(Object(N.a)({},e),{},{VotingContract:Object(N.a)({},t)})}function G(e,t){return Object(N.a)(Object(N.a)({},e),{},{ManagingContract:Object(N.a)({},t)})}function V(e,t){return Object(N.a)(Object(N.a)({},e),{},{WithdrawContract:Object(N.a)({},t)})}var U=Object(m.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(g.a)(t,["type"]);switch(n){case E.b:return I(e,r);case E.a:return w();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(g.a)(t,["type"]);switch(n){case y.a:return D(e,r);case y.b:return T(e,r);case y.c:return S(e,r);case y.d:return R(e,r);case y.e:return C(e,r);case y.f:return k(e,r);case y.g:return P(e,r);case y.h:return G(e,r);case y.i:return L(e,r);case y.j:return F(e,r);case y.k:return M(e,r);case y.l:case y.m:return B(e,r);case y.n:return V(e,r);default:return e}}}),z=Object(m.createStore)(U,Object(v.composeWithDevTools)(Object(m.applyMiddleware)(x.a))),W=n(53);function H(e){return Object(r.jsx)("svg",Object(N.a)(Object(N.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 14"},e),{},{children:Object(r.jsx)("g",{fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{transform:"translate(-737 -124)",children:Object(r.jsx)("g",{transform:"translate(596 124)",children:Object(r.jsx)("path",{fill:"currentColor",d:"M151.166.8h-8.679c-.733 0-1.344.611-1.344 1.345v8.8c0 .734.611 1.345 1.344 1.345h7.395l-.366-1.223.855.795.795.733 1.405 1.223V2.145c-.06-.734-.61-1.345-1.405-1.345zm-2.506 8.495s-.244-.306-.428-.55c.49-.122.917-.367 1.161-.795a2.065 2.065 0 01-.733.367c-.306.122-.611.245-.917.306a4.039 4.039 0 01-1.71 0 6.007 6.007 0 01-.979-.306 1.83 1.83 0 01-.489-.244s-.06 0-.06-.061c-.123-.062-.184-.123-.184-.123.305.367.672.673 1.161.795-.183.244-.428.55-.428.55a2.579 2.579 0 01-2.017-.978c0-1.344.367-2.628.917-3.79.55-.427 1.161-.671 1.834-.671l.06.06c-.61.184-1.222.429-1.71.856l.366-.183c.49-.183.978-.367 1.467-.428h.122a4.947 4.947 0 011.345 0c.672.061 1.344.306 1.955.611a5.299 5.299 0 00-1.65-.855l.061-.122c.673.06 1.284.244 1.834.672.611 1.161.917 2.506.917 3.789-.367.733-1.1 1.1-1.895 1.1zm-2.995-3.056c-.427-.06-.733.245-.794.673-.061.427.244.733.672.794.428.061.734-.244.795-.672v-.061c0-.367-.306-.734-.673-.734zm2.384 0c-.428-.06-.733.245-.795.673-.06.427.245.733.673.794.427.061.733-.244.794-.672v-.061c0-.367-.305-.734-.672-.734z"})})})})}))}var Y,K=n(27),q=n(29),J=n(41),Q=n(40),X=function(e){Object(J.a)(n,e);var t=Object(Q.a)(n);function n(){return Object(K.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"github","data-prefix":"fab",viewBox:"0 0 496 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})})}}]),n}(s.a.Component),$=function(e){Object(J.a)(n,e);var t=Object(Q.a)(n);function n(){return Object(K.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"medium","data-prefix":"fab",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"})})}}]),n}(s.a.Component);function Z(){return Object(r.jsxs)("div",{className:"socialmedia",children:[Object(r.jsx)("a",{href:Y.MEDIUM,target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)($,{})}),Object(r.jsx)("a",{href:Y.DISCORD,target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)(H,{})}),Object(r.jsx)("a",{href:Y.GITHUB,target:"_blank",rel:"noopener noreferrer",children:Object(r.jsx)(X,{})})]})}function ee(){return"/"===Object(W.g)().pathname?null:Object(r.jsx)("div",{className:"footer",children:Object(r.jsx)(Z,{})})}function te(e){return Object(r.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"MOLOCH v3"})}function ne(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(te,{size:"small"})})}function re(){return Object(r.jsx)("div",{className:"logo-container logo-container--header",children:Object(r.jsx)(te,{size:"medium"})})}function ae(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(te,{size:"large"})})}!function(e){e.DISCORD="#",e.GITHUB="https://github.com/search?q=org%3Aopenlawteam+molochv3-ui+OR+molochv3-contracts+in%3Aname&type=repositories",e.MEDIUM="#"}(Y||(Y={}));var ce=n(5),se=n(963),oe=n(156),ie=n.n(oe),ue=n(457),de=n(4),le=n.n(de),be=n(12),je=n(278);function Oe(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(r.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(r.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(r.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(r.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function pe(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(r.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(r.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var fe={injected:Object(r.jsx)(Oe,{}),walletconnect:Object(r.jsx)(pe,{})},he=n(20);function me(e){var t=e.showAfterMs,n=Object(c.useState)(!1),a=Object(ce.a)(n,2),s=a[0],o=a[1];return Object(c.useEffect)((function(){var e=t&&setTimeout((function(){return o(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),!t||t&&s?Object(r.jsx)("div",{className:"loader--emoji",children:Object(r.jsx)("span",{role:"img","aria-label":"Loading content...",children:"\u23f3"})}):null}var ve=n(22);function xe(e){var t=e.children,n=e.keyProp,a=e.isOpen,c=e.styleProps,s=e.modalClassNames,o=e.isOpenHandler;return Object(r.jsx)(ie.a,{ariaHideApp:!1,className:"modal-container ".concat(s),isOpen:a,onRequestClose:function(){o(a)},overlayClassName:"modal-overlay",role:"dialog",style:Object(N.a)({overlay:{zIndex:"99"}},c),children:Object(r.jsx)(ve.a,{children:Object(r.jsx)("div",{className:"modal",children:t})})},n)}var Ne=n(103);function ge(e){var t,n=e.customWalletText,a=e.showWalletETHBadge,s=Object(he.f)(),o=s.account,i=s.connected,u=s.providerOptions,d=s.onConnectTo,l=s.onDisconnect,b=s.networkId,j=s.web3Modal,O=Object(he.e)(),h=O.defaultChain,m=O.defaultChainError,v=O.isDefaultChain,x=Object(c.useState)(!1),N=Object(ce.a)(x,2),g=N[0],E=N[1],A=null!==(t=b!==h)&&void 0!==t?t:v,I=b===f.b.GANACHE,w=je.isMobile?o?Object(p.i)(o):"Connect":a&&o?Object(p.i)(o):n||"";return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(A&&i?"walletconnect__connect-button--error":""),onClick:function(){E(!0)},children:[Object(r.jsx)("span",{className:"connect-button-text ".concat(i?"connect-button-text--ethAddress":""),children:w||"Connect"}),a&&A&&i&&Object(r.jsx)("span",{children:"Wrong Network"}),a&&Object(r.jsx)(Ee,{providerName:null===j||void 0===j?void 0:j.cachedProvider})]}),g&&function(){var e=Object.entries(u).filter((function(e){return"injected"!==e[0]})),t=(je.isMobile?e:Object.entries(u)).map((function(e){return Object(r.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(i&&(null===j||void 0===j?void 0:j.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object(be.a)(le.a.mark((function t(){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:I&&"walletconnect"===e[0],children:[Object(r.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(r.jsx)(Ee,{providerName:e[0]})]},e[0])}));return Object(r.jsxs)(xe,{keyProp:"web3modal",isOpen:g,isOpenHandler:function(){E(!1)},children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){E(!1)},children:Object(r.jsx)(Ne.a,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),i&&A?null:Object(r.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),o&&Object(r.jsx)("div",{className:"walletconnect__connected-address-text",children:Object(p.i)(o,7)}),i&&A?Object(r.jsx)(Ae,{defaultChainError:(null===m||void 0===m?void 0:m.message)||""}):Object(r.jsx)("div",{className:"walletconnect__options",children:t}),i&&Object(r.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:l,children:"Disconnect Wallet"})]})]})}()]})}function Ee(e){var t=e.providerName;return t?Object(r.jsx)("span",{className:"walletconnect__wallet-icon",children:fe[t]}):null}function Ae(e){var t=e.defaultChainError;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("small",{children:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var Ie=s.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(r.jsx)(ge,{customWalletText:t,showWalletETHBadge:n})}));function we(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"svg-inline--fa fa-bars fa-w-14 fa-3x","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var ye={transition:"0.1s"},_e={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},Se={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function Re(){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})})]})})}function De(){var e=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),t=Object(c.useState)(!1),n=Object(ce.a)(t,2),a=n[0],s=n[1],o=Object(c.useState)(_e),i=Object(ce.a)(o,2),l=i[0],b=i[1],j=Object(he.f)().account,O=Object(c.useRef)();function p(e){if(!e)return b(Se),O.current=setTimeout((function(){return s(e)}),500),function(){return O.current&&clearTimeout(O.current)};s(e),b(_e)}return Object(c.useEffect)((function(){return function(){O.current&&clearTimeout(O.current)}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(r.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),p(!0)},children:Object(r.jsx)(we,{})})}),Object(r.jsx)(ie.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:a,onRequestClose:function(){p(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(r.jsx)(se.a,{appear:!0,in:a,timeout:200,children:function(t){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("div",{style:Object(N.a)(Object(N.a)({},ye),l[t]),className:"nav-modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),p(!1)},children:Object(r.jsx)(Ne.a,{})}),Object(r.jsx)(ne,{}),Object(r.jsx)("div",{className:"nav-modal__walletconnect-button-container",children:Object(r.jsx)(Ie,{showWalletETHBadge:!0})}),Object(r.jsxs)("ul",{className:"nav__list",children:[Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})}),j&&e&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/members/".concat(j),children:Object(r.jsx)("span",{children:"Profile"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/dao-manager",children:Object(r.jsx)("span",{children:"Manage DAO"})})})]})]})]})})}})})]})}function Te(){return Object(r.jsx)(ue.a,{query:"(max-width: 62em)",children:function(e){return Object(r.jsx)("div",{className:"nav-header",children:Object(r.jsxs)("div",{className:"nav-header__menu-container",children:[Object(r.jsx)(Re,{}),Object(r.jsx)(De,{}),Object(r.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(r.jsx)(Ie,{showWalletETHBadge:!0})})]})})}})}function Ce(){function e(e){return Object(r.jsx)(d.b,{to:"/",children:e.children})}return"/"===Object(W.g)().pathname?null:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(e,{children:Object(r.jsx)(re,{})}),Object(r.jsx)("div",{className:"header__nav-container",children:Object(r.jsx)(Te,{})})]})}var ke=n(447);function Pe(){return Object(r.jsxs)(ke.a,{children:[Object(r.jsx)("title",{children:"MOLOCH v3"}),Object(r.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var Le=n(104),Fe=n(19),Me=n(112),Be=n(23),Ge=n(59),Ve=n(49),Ue=n(6),ze=n(34);function We(e){var t=e.error,n=Object(g.a)(e,["error"]);return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(ve.a,{children:Object(r.jsx)("p",Object(N.a)(Object(N.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var He=n(57),Ye=n(217);function Ke(e){var t=e.value;return t?Object(r.jsxs)("details",{children:[Object(r.jsx)("summary",{style:{cursor:"pointer",outline:"none"},children:Object(r.jsx)("small",{children:"Preview Markdown"})}),Object(r.jsx)("div",{style:{marginTop:"1em"},children:Object(r.jsx)(Ye.a,{children:t})})]}):null}var qe,Je=function(e){var t=e.children,n=Object(g.a)(e,["children"]);return Object(r.jsx)("div",Object(N.a)(Object(N.a)({style:{position:"relative"}},n),{},{children:t}))};function Qe(){var e=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),t=Object(c.useState)(),n=Object(ce.a)(t,2),a=n[0],s=n[1],o=Object(he.f)(),i=o.connected,d=o.account,l=Object(Ve.h)(),b=l.proposalSignAndSendStatus,j=l.signAndSendProposal,O=Object(he.e)().defaultChainError,f=Object(Le.a)({mode:"onBlur",reValidateMode:"onChange"}),h=Object(W.f)(),m=f.errors,v=f.getValues,x=f.register,N=f.trigger,g=f.watch,E=i&&d,A=b===Ue.e.AWAITING_CONFIRM||b===Ue.e.PENDING,I=b===Ue.e.FULFILLED,w=A||I;function y(e){return _.apply(this,arguments)}function _(){return(_=Object(be.a)(le.a.mark((function e(t){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j({partialProposalData:{name:t.title,body:t.description,metadata:{type:Ge.d.Governance}},type:Fe.SnapshotType.proposal});case 3:n=e.sent,r=n.uniqueId,h.push("/governance-proposals/".concat(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return E&&e&&!O?Object(r.jsx)(Xe,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",htmlFor:qe.title,children:"Title"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(qe.title),"aria-invalid":m.title?"true":"false",id:qe.title,name:qe.title,ref:x({required:Be.a.REQUIRED}),type:"text",disabled:w}),Object(r.jsx)(We,{error:Object(p.f)(qe.title,m),id:"error-".concat(qe.title)})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",htmlFor:qe.description,children:"Description"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("textarea",{"aria-describedby":"error-".concat(qe.description),"aria-invalid":m.description?"true":"false",id:qe.description,name:qe.description,placeholder:"Say something about your governance proposal...",ref:x({required:Be.a.REQUIRED}),disabled:w}),Object(r.jsx)(We,{error:Object(p.f)(qe.description,m),id:"error-".concat(qe.description)}),Object(r.jsx)(Ke,{value:g(qe.description)})]})]}),Object(r.jsx)("button",{"aria-label":A?"Submitting your proposal...":"",className:"button",disabled:w,onClick:Object(be.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,N();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:y(v());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:A?Object(r.jsx)(He.a,{}):I?"Done":"Submit"}),w&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){switch(b){case Ue.e.AWAITING_CONFIRM:return Object(r.jsxs)(r.Fragment,{children:["Awaiting your confirmation",Object(r.jsx)(Me.a,{intervalMs:500})]});case Ue.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:["Submitting",Object(r.jsx)(Me.a,{intervalMs:500})]});case Ue.e.FULFILLED:return"Done!";default:return""}}()}),a&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(ze.a,{renderText:"Something went wrong while submitting the proposal.",error:a})})]})}):Object(r.jsx)(Xe,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:E?O?O.message:e?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a governance proposal."})})})}function Xe(e){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.title="title",e.description="description"}(qe||(qe={}));var $e,Ze=n(58),et=n.n(Ze),tt=n(96),nt=n(70),rt=n(101),at=n(65);function ct(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(he.e)().defaultChainError,a=Object(he.f)(),s=a.connected,o=a.account,i=a.web3Instance,d=Object(he.b)(),l=Object(he.a)(),b=l.txError,j=l.txEtherscanURL,O=l.txIsPromptOpen,h=l.txSend,m=l.txStatus,v=Object(Ve.h)(),x=v.proposalData,g=v.proposalSignAndSendStatus,E=v.signAndSendProposal,A=Object(Le.a)({mode:"onBlur",reValidateMode:"onChange"}),I=Object(W.f)(),w=Object(c.useState)(),y=Object(ce.a)(w,2),_=y[0],S=y[1],R=Object(c.useState)(),D=Object(ce.a)(R,2),T=D[0],C=D[1],k=A.errors,P=A.getValues,L=A.setValue,F=A.register,M=A.trigger,B=_||b,G=s&&o,V=m===Ue.e.AWAITING_CONFIRM||m===Ue.e.PENDING||g===Ue.e.AWAITING_CONFIRM||g===Ue.e.PENDING,U=m===Ue.e.FULFILLED&&g===Ue.e.FULFILLED,z=V||U||O,H=Object(c.useCallback)((function(){return Y.apply(this,arguments)}),[o,i]);function Y(){return(Y=Object(be.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&o){e.next=3;break}return C(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.eth.getBalance(o);case 6:t=e.sent,C(i.utils.fromWei(t,"ether")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function K(e){return q.apply(this,arguments)}function q(){return(q=Object(be.a)(le.a.mark((function n(r){var a,c,s,i,u,l,b,j,O;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,G){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No OnboardingContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(o){n.next=9;break}throw new Error("No account found.");case 9:if(a=(null===x||void 0===x?void 0:x.uniqueId)||"",c=r.ethAddress,s=r.ethAmount,i=et.a.utils.toChecksumAddress(c),u=et.a.utils.toWei(Object(p.h)(s),"ether"),a){n.next=19;break}return n.next=16,E({partialProposalData:{name:i,body:"Membership for ".concat(i,"."),metadata:{amountUnit:"ETH"}},adapterName:Ue.a.onboarding,type:Fe.SnapshotType.draft});case 16:l=n.sent,b=l.uniqueId,a=b;case 19:return j=[t.contractAddress,a,i,f.y,u],O=Object(N.a)({from:o||"",value:u},d?{gasPrice:d.fast}:null),n.next=23,h("onboard",e.instance.methods,j,O);case 23:I.push("/membership/".concat(a)),n.next=29;break;case 26:n.prev=26,n.t0=n.catch(0),S(n.t0);case 29:case"end":return n.stop()}}),n,null,[[0,26]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){H()}),[H]),Object(c.useEffect)((function(){L($e.ethAddress,o)}),[o,L]),!G||n?Object(r.jsx)(st,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:G?n?n.message:void 0:"Connect your wallet to submit a membership proposal."})})}):Object(r.jsx)(st,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",htmlFor:$e.ethAddress,children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat($e.ethAddress),"aria-invalid":k.ethAddress?"true":"false",id:$e.ethAddress,name:$e.ethAddress,ref:F({validate:function(e){return e?!!Object(tt.a)(e)||Be.a.INVALID_ETHEREUM_ADDRESS:Be.a.REQUIRED}}),type:"text",disabled:z}),Object(r.jsx)(We,{error:Object(p.f)($e.ethAddress,k),id:"error-".concat($e.ethAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",htmlFor:$e.ethAmount,children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat($e.ethAmount),"aria-invalid":k.ethAmount?"true":"false",id:$e.ethAmount,name:$e.ethAmount,onChange:function(){return L($e.ethAmount,Object(p.e)(P().ethAmount))},ref:F({validate:function(e){var t=Number(Object(p.h)(e));return""===e?Be.a.REQUIRED:isNaN(t)?Be.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(T))||"Insufficient funds."}}),type:"text",disabled:z}),Object(r.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(r.jsx)(We,{error:Object(p.f)($e.ethAmount,k),id:"error-".concat($e.ethAmount)})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(r.jsx)("span",{children:T?Number.isInteger(Number(T))?T:Object(p.d)(Number(T)):"---"})]})]}),Object(r.jsx)("button",{"aria-label":V?"Submitting your proposal.":"",className:"button",disabled:z,onClick:Object(be.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:K(P());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:V?Object(r.jsx)(He.a,{}):U?"Done":"Submit"}),z&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){if(m===Ue.e.AWAITING_CONFIRM||g===Ue.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(m){case Ue.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(rt.a,{intervalMs:2e3,messages:nt.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ve.a,{children:e},e)}}),Object(r.jsx)(at.a,{url:j,isPending:!0})]});case Ue.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(at.a,{url:j})]});default:return null}}()}),B&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(ze.a,{renderText:"Something went wrong while submitting the proposal.",error:B})})]})})}function st(e){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}($e||($e={}));var ot,it,ut=n(28),dt=n(63),lt=n(39),bt=n(453);function jt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),s=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),o=Object(he.e)().defaultChainError,i=Object(he.f)(),d=i.connected,l=i.account,b=i.web3Instance,j=Object(he.b)(),O=Object(he.a)(),h=O.txError,m=O.txEtherscanURL,v=O.txIsPromptOpen,x=O.txSend,g=O.txStatus,E=Object(Ve.h)(),A=E.proposalData,I=E.proposalSignAndSendStatus,w=E.signAndSendProposal,y=Object(Le.a)({mode:"onBlur",reValidateMode:"onChange"}),_=Object(W.f)(),S=Object(c.useState)(),R=Object(ce.a)(S,2),D=R[0],T=R[1],C=Object(c.useState)(),k=Object(ce.a)(C,2),P=k[0],L=k[1],F=Object(c.useState)(),M=Object(ce.a)(F,2),B=M[0],G=M[1],V=y.errors,U=y.getValues,z=y.setValue,H=y.register,Y=y.trigger,K=y.watch,q="all members"===K("type"),J=K("selectedToken"),Q=D||h,X=d&&l,$=bt,Z=g===Ue.e.AWAITING_CONFIRM||g===Ue.e.PENDING||I===Ue.e.AWAITING_CONFIRM||I===Ue.e.PENDING,ee=g===Ue.e.FULFILLED&&I===Ue.e.FULFILLED,te=Z||ee||v,ne=Object(c.useCallback)((function(){return ae.apply(this,arguments)}),[n,l,$,b]),re=Object(c.useCallback)((function(){return se.apply(this,arguments)}),[l,J]);function ae(){return(ae=Object(be.a)(le.a.mark((function e(){var t,r,c,s,o,i,u,d,j,O,p,h,m,v,x,g,E,A,I,w,y,_,S,R,D,T,C;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&n&&b){e.next=3;break}return L(void 0),e.abrupt("return");case 3:return e.prev=3,t=n.abi,r=n.contractAddress,c=n.instance.methods,e.next=7,c.nbTokens().call();case 7:if(s=e.sent,!(Number(s)<1)){e.next=12;break}L([]),e.next=44;break;case 12:return o=[],i=t.find((function(e){return"getToken"===e.name})),u=Object(a.a)(Array(Number(s)).keys()).map((function(e){return[r,i,[e.toString()]]})),e.next=17,Object(lt.h)({calls:u,web3Instance:b});case 17:return d=e.sent,j=t.find((function(e){return"balanceOf"===e.name})),O=d.map((function(e){return[r,j,[f.p,e]]})),e.next=22,Object(lt.h)({calls:O,web3Instance:b});case 22:if(p=e.sent,h=d.map((function(e,t){return{address:e,daoBalance:p[t]}})).filter((function(e){return Object(ut.toBN)(e.daoBalance).gt(Object(ut.toBN)(0))})),(m=h.find((function(e){return e.address===f.k})))&&o.push(Object(N.a)(Object(N.a)({},m),{},{name:"Ether",symbol:"ETH",decimals:18})),!((v=h.filter((function(e){return e.address!==f.k}))).length>0)){e.next=43;break}return x=$.find((function(e){return"name"===e.name})),g=v.map((function(e){return[e.address,x,[]]})),E=$.find((function(e){return"symbol"===e.name})),A=v.map((function(e){return[e.address,E,[]]})),I=$.find((function(e){return"decimals"===e.name})),w=v.map((function(e){return[e.address,I,[]]})),y=[].concat(Object(a.a)(g),Object(a.a)(A),Object(a.a)(w)),e.next=37,Object(lt.h)({calls:y,web3Instance:b});case 37:for(_=e.sent,S=[];_.length;)S.push(_.splice(0,v.length));R=S[0],D=S[1],T=S[2],C=v.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{name:R[t],symbol:D[t],decimals:T[t]})})).sort((function(e,t){return e.name.localeCompare(t.name)})),o=[].concat(Object(a.a)(o),Object(a.a)(C));case 43:L(o);case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),console.error(e.t0),L(void 0);case 50:case"end":return e.stop()}}),e,null,[[3,46]])})))).apply(this,arguments)}function se(){return(se=Object(be.a)(le.a.mark((function e(){var t,n,r,a,c,s,o,i;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&J){e.next=3;break}return G(void 0),e.abrupt("return");case 3:try{t=JSON.parse(J),n=t.daoBalance,r=Object(ut.toBN)(n),a=t.decimals,c=Object(ut.toBN)(10).pow(Object(ut.toBN)(a)),s=r.div(c),o=r.mod(c),i=o.eq(Object(ut.toBN)(0))?s.toString():"".concat(s.toString(),".").concat(o.toString()),G(i)}catch(u){console.error(u),G(void 0)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(be.a)(le.a.mark((function n(r){var a,c,s,o,i,u,d,O,h,m,v,g,E,I,y,S,R,D,C,k,P,L,F,M,B,G,V;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,X){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No DistributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(l){n.next=9;break}throw new Error("No account found.");case 9:if(b){n.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(a=r.selectedToken,c=r.memberAddress,s=r.amount,o=r.notes,i=Object(ut.toChecksumAddress)(c),u=JSON.parse(a),d=u.symbol,O=u.decimals,(h=u.address)===f.k?m=Object(ut.toWei)(Object(p.h)(s),"ether"):(v=Object(ut.toBN)(10).pow(Object(ut.toBN)(O)),g=Object(ut.toBN)(Object(p.h)(s)).mul(v),m=g.toString()),E=(null===A||void 0===A?void 0:A.uniqueId)||"",I=null===A||void 0===A?void 0:A.data,y=(null===A||void 0===A?void 0:A.signature)||"",S=q?"Transfer to all members pro rata.":"Transfer to ".concat(i,"."),E){n.next=33;break}return R=o?"".concat(S,"\n").concat(o):S,D=q?"All members":i,C=Math.floor(Date.now()/1e3),n.next=26,w({partialProposalData:{name:D,body:R,metadata:{amountUnit:d,tokenDecimals:O,isTypeAllMembers:q},timestamp:C.toString()},adapterName:Ue.a.distribute,type:Fe.SnapshotType.proposal});case 26:k=n.sent,P=k.uniqueId,L=k.data,F=k.signature,E=P,I=L,y=F;case 33:return M=q?dt.a:i,B=I?Object(Fe.prepareVoteProposalData)({payload:{name:I.payload.name,body:I.payload.body,choices:I.payload.choices,snapshot:I.payload.snapshot.toString(),start:I.payload.start,end:I.payload.end},sig:y,space:I.space,timestamp:parseInt(I.timestamp)},b):"",G=[t.contractAddress,E,M,h,m,B],V=Object(N.a)({from:l||""},j?{gasPrice:j.fast}:null),n.next=39,x("submitProposal",e.instance.methods,G,V);case 39:_.push("/transfers/".concat(E)),n.next=45;break;case 42:n.prev=42,n.t0=n.catch(0),T(n.t0);case 45:case"end":return n.stop()}}),n,null,[[0,42]])})))).apply(this,arguments)}function ue(e){return de.apply(this,arguments)}function de(){return(de=Object(be.a)(le.a.mark((function e(t){var r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("No BankExtensionContract found."),e.abrupt("return",!1);case 3:return e.next=5,n.instance.methods.balanceOf(t,f.y).call();case 5:return r=e.sent,e.abrupt("return",Object(ut.toBN)(r).gt(Object(ut.toBN)(0)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){ne()}),[ne]),Object(c.useEffect)((function(){re()}),[re]),X&&!o&&s?Object(r.jsx)(Ot,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Type"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsxs)("select",{name:ot.type,ref:H,disabled:te,children:[Object(r.jsx)("option",{value:"single member",children:"Single member"}),Object(r.jsx)("option",{value:"all members",children:"All members"})]})})]}),!q&&Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Member Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(ot.memberAddress),"aria-invalid":V.memberAddress?"true":"false",name:ot.memberAddress,ref:H({validate:function(){var e=Object(be.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}e.t0=Be.a.REQUIRED,e.next=17;break;case 4:if(Object(tt.a)(t)){e.next=8;break}e.t1=Be.a.INVALID_ETHEREUM_ADDRESS,e.next=16;break;case 8:return e.next=10,ue(t);case 10:if(e.sent){e.next=14;break}e.t2="The address is not an active member with SHARES.",e.next=15;break;case 14:e.t2=!0;case 15:e.t1=e.t2;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:te}),Object(r.jsx)(We,{error:Object(p.f)(ot.memberAddress,V),id:"error-".concat(ot.memberAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Asset"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsxs)("select",{"aria-describedby":"error-".concat(ot.selectedToken),"aria-invalid":V.selectedToken?"true":"false",name:ot.selectedToken,ref:H({validate:function(e){return!P||P.length<1?"No tokens available for distribution.":!!e||Be.a.REQUIRED}}),disabled:te,children:[Object(r.jsx)("option",{value:"",children:"Select from DAO assets"}),null===P||void 0===P?void 0:P.map((function(e){return Object(r.jsx)("option",{value:JSON.stringify(e),children:"".concat(e.name," (").concat(e.symbol,")")},e.address)}))]}),Object(r.jsx)(We,{error:Object(p.f)(ot.selectedToken,V),id:"error-".concat(ot.selectedToken)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(ot.amount),"aria-invalid":V.amount?"true":"false",name:ot.amount,onChange:function(){return z(ot.amount,Object(p.e)(U().amount))},ref:H({validate:function(e){var t=Number(Object(p.h)(e)),n=J&&JSON.parse(J),r=(null===n||void 0===n?void 0:n.address)===f.k;return""===e?Be.a.REQUIRED:isNaN(t)?Be.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(B)?"Insufficient funds.":!!r||(!!Number.isInteger(t)||"The value must be an integer for an ERC20 token.")}}),type:"text",disabled:te}),Object(r.jsx)("div",{className:"input__suffix-item",children:J&&JSON.parse(J).symbol||"___"})]}),Object(r.jsx)(We,{error:Object(p.f)(ot.amount,V),id:"error-".concat(ot.amount)}),Object(r.jsx)("div",{className:"form__input-description",children:q?"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of shares held by each member.":"If the proposal passes, this amount will be distributed to the member's internal account."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(r.jsx)("span",{children:B?Number.isInteger(Number(B))?B:Object(p.d)(Number(B)):"---"})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Notes"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{name:ot.notes,placeholder:"Transactions purpose...",ref:H,disabled:te})})]}),Object(r.jsx)("button",{className:"button",disabled:te,onClick:Object(be.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Y();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:oe(U());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:Z?Object(r.jsx)(He.a,{}):ee?"Done":"Submit"}),te&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){if(g===Ue.e.AWAITING_CONFIRM||I===Ue.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(g){case Ue.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(rt.a,{intervalMs:2e3,messages:nt.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ve.a,{children:e},e)}}),Object(r.jsx)(at.a,{url:m,isPending:!0})]});case Ue.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(at.a,{url:m})]});default:return null}}()}),Q&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(ze.a,{renderText:"Something went wrong while submitting the proposal.",error:Q})})]})}):Object(r.jsx)(Ot,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:X?o?o.message:s?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a transfer proposal."})})})}function Ot(e){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function pt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),a=Object(he.e)().defaultChainError,s=Object(he.f)(),o=s.connected,i=s.account,d=s.web3Instance,l=Object(he.b)(),b=Object(he.a)(),j=b.txError,O=b.txEtherscanURL,h=b.txIsPromptOpen,m=b.txSend,v=b.txStatus,x=Object(he.a)(),g=x.txError,E=x.txEtherscanURL,A=x.txIsPromptOpen,I=x.txSend,w=x.txStatus,y=Object(Ve.h)(),_=y.proposalData,S=y.proposalSignAndSendStatus,R=y.signAndSendProposal,D=Object(Le.a)({mode:"onBlur",reValidateMode:"onChange"}),T=Object(W.f)(),C=Object(c.useState)(),k=Object(ce.a)(C,2),P=k[0],L=k[1],F=Object(c.useState)(),M=Object(ce.a)(F,2),B=M[0],G=M[1],V=Object(c.useState)(),U=Object(ce.a)(V,2),z=U[0],H=U[1],Y=Object(c.useState)(),K=Object(ce.a)(Y,2),q=K[0],J=K[1],Q=D.errors,X=D.getValues,$=D.setValue,Z=D.register,ee=D.trigger,te=(0,D.watch)("erc20Address"),ne=P||j||g,re=o&&i,ae=v===Ue.e.AWAITING_CONFIRM||v===Ue.e.PENDING||w===Ue.e.AWAITING_CONFIRM||w===Ue.e.PENDING||S===Ue.e.AWAITING_CONFIRM||S===Ue.e.PENDING,se=v===Ue.e.FULFILLED&&S===Ue.e.FULFILLED,oe=ae||se||h||A,ie=Object(c.useCallback)((function(){return je.apply(this,arguments)}),[te,d]),ue=Object(c.useCallback)((function(){return Oe.apply(this,arguments)}),[i,q]),de=Object(c.useCallback)((function(){return pe.apply(this,arguments)}),[i,q]);function je(){return(je=Object(be.a)(le.a.mark((function e(){var t,r,a,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&te){e.next=3;break}return J(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.resolve().then(n.t.bind(null,453,3));case 6:t=e.sent,r=t.default,a=r,c=new d.eth.Contract(a,te),J(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),J(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(be.a)(le.a.mark((function e(){var t,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&q){e.next=3;break}return H(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,q.methods.symbol().call();case 6:return t=e.sent,e.next=9,q.methods.decimals().call();case 9:n=e.sent,H({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),H(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function pe(){return(pe=Object(be.a)(le.a.mark((function e(){var t,n,r,a,c,s,o;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&q){e.next=3;break}return G(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,q.methods.balanceOf(i).call();case 6:return t=e.sent,n=Object(ut.toBN)(t),e.next=10,q.methods.decimals().call();case 10:r=e.sent,a=Object(ut.toBN)(10).pow(Object(ut.toBN)(r)),c=n.div(a),s=n.mod(a),o=s.eq(Object(ut.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(s.toString()),G(o),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),G(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function fe(e,t){return me.apply(this,arguments)}function me(){return(me=Object(be.a)(le.a.mark((function t(n,r){var a,c,s,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,q){t.next=3;break}throw new Error("No ERC20Contract found.");case 3:if(e){t.next=5;break}throw new Error("No TributeContract found.");case 5:if(i){t.next=7;break}throw new Error("No account found.");case 7:return a=n.sub(r),c=r.add(a),s=[e.contractAddress,c.toString()],o=Object(N.a)({from:i||""},l?{gasPrice:l.fast}:null),t.next=13,I("approve",q.methods,s,o);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function xe(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(be.a)(le.a.mark((function n(r){var a,c,s,o,u,d,b,j,O,h,v,x,g,E,A,I,w,y;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,re){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No TributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(i){n.next=9;break}throw new Error("No account found.");case 9:if(q){n.next=11;break}throw new Error("No ERC20Contract found.");case 11:if(z){n.next=13;break}throw new Error("No ERC20 details found.");case 13:return a=r.applicantAddress,c=r.erc20Address,s=r.tributeAmount,o=r.requestAmount,u=r.description,d=Object(ut.toBN)(10).pow(Object(ut.toBN)(z.decimals)),b=Object(ut.toBN)(Object(p.h)(s)).mul(d),j=Object(p.h)(o),O=Object(ut.toChecksumAddress)(a),n.next=20,q.methods.allowance(i,e.contractAddress).call();case 20:if(h=n.sent,v=Object(ut.toBN)(h),!b.gt(v)){n.next=32;break}return n.prev=23,n.next=26,fe(b,v);case 26:n.next=32;break;case 28:throw n.prev=28,n.t0=n.catch(23),console.error(n.t0),new Error("Your ERC20 tokens could not be approved for transfer.");case 32:if(x=(null===_||void 0===_?void 0:_.uniqueId)||""){n.next=41;break}return g=Object(p.g)(a)===Object(p.g)(i)?"Tribute from ".concat(O,"."):"Tribute from ".concat(Object(p.i)(Object(ut.toChecksumAddress)(i),7)," for applicant ").concat(Object(p.i)(O,7),"."),E=u?"".concat(g,"\n").concat(u):g,n.next=38,R({partialProposalData:{name:O,body:E,metadata:{tributeAmountUnit:z.symbol,tributeTokenDecimals:z.decimals,requestAmountUnit:"SHARES"}},adapterName:Ue.a.tribute,type:Fe.SnapshotType.draft});case 38:A=n.sent,I=A.uniqueId,x=I;case 41:return w=[t.contractAddress,x,O,f.y,j,c,b.toString()],y=Object(N.a)({from:i||""},l?{gasPrice:l.fast}:null),n.next=45,m("provideTribute",e.instance.methods,w,y);case 45:T.push("/tributes/".concat(x)),n.next=51;break;case 48:n.prev=48,n.t1=n.catch(0),L(n.t1);case 51:case"end":return n.stop()}}),n,null,[[0,48],[23,28]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){ie()}),[ie]),Object(c.useEffect)((function(){ue()}),[ue]),Object(c.useEffect)((function(){de()}),[de]),Object(c.useEffect)((function(){$(it.applicantAddress,i)}),[i,$]),!re||a?Object(r.jsx)(ft,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:re?a?a.message:void 0:"Connect your wallet to submit a tribute proposal."})})}):Object(r.jsx)(ft,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(it.applicantAddress),"aria-invalid":Q.applicantAddress?"true":"false",name:it.applicantAddress,ref:Z({validate:function(e){return e?!!Object(tt.a)(e)||Be.a.INVALID_ETHEREUM_ADDRESS:Be.a.REQUIRED}}),type:"text",disabled:oe}),Object(r.jsx)(We,{error:Object(p.f)(it.applicantAddress,Q),id:"error-".concat(it.applicantAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(it.erc20Address),"aria-invalid":Q.erc20Address?"true":"false",name:it.erc20Address,ref:Z({validate:function(e){return e?!!Object(tt.a)(e)||Be.a.INVALID_ETHEREUM_ADDRESS:Be.a.REQUIRED}}),type:"text",disabled:oe}),Object(r.jsx)(We,{error:Object(p.f)(it.erc20Address,Q),id:"error-".concat(it.erc20Address)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(it.tributeAmount),"aria-invalid":Q.tributeAmount?"true":"false",name:it.tributeAmount,onChange:function(){return $(it.tributeAmount,Object(p.e)(X().tributeAmount))},ref:Z({validate:function(e){var t=Number(Object(p.h)(e));return""===e?Be.a.REQUIRED:isNaN(t)?Be.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(B)?"Insufficient funds.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:oe}),Object(r.jsx)("div",{className:"input__suffix-item",children:(null===z||void 0===z?void 0:z.symbol)||"___"})]}),Object(r.jsx)(We,{error:Object(p.f)(it.tributeAmount,Q),id:"error-".concat(it.tributeAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available: ",Object(r.jsx)("span",{children:B?Number.isInteger(Number(B))?B:Object(p.d)(Number(B)):"---"})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(it.requestAmount),"aria-invalid":Q.requestAmount?"true":"false",name:it.requestAmount,onChange:function(){return $(it.requestAmount,Object(p.e)(X().requestAmount))},ref:Z({validate:function(e){var t=Number(Object(p.h)(e));return""===e?Be.a.REQUIRED:isNaN(t)?Be.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:oe}),Object(r.jsx)(We,{error:Object(p.f)(it.requestAmount,Q),id:"error-".concat(it.requestAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This is the amount of DAO tokens you are requesting be sent to the Applicant Address in exchange for your tribute."})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{name:it.description,placeholder:"Say something about your tribute...",ref:Z,disabled:oe})})]}),Object(r.jsx)("button",{className:"button",disabled:oe,onClick:Object(be.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!oe){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ee();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:xe(X());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:ae?Object(r.jsx)(He.a,{}):se?"Done":"Submit"}),oe&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){if(v===Ue.e.AWAITING_CONFIRM||w===Ue.e.AWAITING_CONFIRM||S===Ue.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";if(w===Ue.e.PENDING)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Approving your tokens for transfer\u2026"}),Object(r.jsx)(at.a,{url:E,isPending:!0})]});switch(v){case Ue.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(rt.a,{intervalMs:2e3,messages:nt.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ve.a,{children:e},e)}}),Object(r.jsx)(at.a,{url:O,isPending:!0})]});case Ue.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(at.a,{url:O})]});default:return null}}()}),ne&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(ze.a,{renderText:"Something went wrong while submitting the proposal.",error:ne})})]})})}function ft(e){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.type="type",e.selectedToken="selectedToken",e.memberAddress="memberAddress",e.amount="amount",e.notes="notes"}(ot||(ot={})),function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(it||(it={}));var ht=n(454),mt=n.n(ht),vt=(n(952),s.a.memo((function(){return Object(r.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(r.jsx)("div",{className:"cube__segment--top"}),Object(r.jsx)("div",{className:"cube__segment--left"}),Object(r.jsx)("div",{className:"cube__segment--right"})]})})));function xt(){return Object(r.jsxs)("div",{"data-testid":"header",className:"landing__header",children:[Object(r.jsx)(Z,{}),Object(r.jsx)(De,{})]})}function Nt(){var e=Object(W.f)();return Object(c.useEffect)((function(){mt.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(xt,{}),Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)(ae,{}),Object(r.jsxs)("div",{className:"landing",children:[Object(r.jsx)("div",{className:"landing__subtitle",children:"A proposed evolution of the Moloch DAO framework"}),Object(r.jsx)("div",{className:"landing__img",children:Object(r.jsx)(vt,{})}),Object(r.jsx)("div",{className:"landing__button",children:Object(r.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})})]})]})})]})}var gt=n(15),Et=n(176);function At(e){var t=e.proposal,n=Object(Ve.b)(t),a=n.hasOffchainVotingEnded,c=n.hasOffchainVotingStarted,s=n.offchainVotingStartEndInitReady;return Object(r.jsxs)(r.Fragment,{children:[s&&c&&Object(r.jsx)(Et.c,{proposal:t}),s&&c&&!a&&Object(r.jsx)(Et.b,{proposal:t})]})}function It(){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsx)(ve.a,{children:Object(r.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(r.jsxs)("h3",{children:["4",Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}function wt(e){var t=e.proposal,n=e.renderAmountBadge,a=e.renderActions,c=t.getCommonSnapshotProposalData();return c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"proposaldetails__content",children:[Object(r.jsx)("h3",{children:Object(p.i)(c.msg.payload.name||"",7)}),Object(r.jsx)(Ye.a,{children:c.msg.payload.body})]}),Object(r.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),a()]})]})]}):null}function yt(){var e=Object(W.h)().proposalId,t=Object(Ve.c)(e,Fe.SnapshotType.proposal),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;return s===gt.a.PENDING?Object(r.jsx)(_t,{children:Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})})}):c?Object(r.jsx)(_t,{children:Object(r.jsx)(It,{})}):s===gt.a.REJECTED||a?Object(r.jsx)(_t,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:a,renderText:"Something went wrong."})})}):n?Object(r.jsx)(_t,{children:Object(r.jsx)(wt,{proposal:n,renderActions:function(){return Object(r.jsx)(At,{proposal:n})}})}):Object(r.jsx)(r.Fragment,{})}function _t(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposals")},children:"View all"})]}),e.children]})})}var St,Rt=n(455),Dt=n.n(Rt),Tt=n(456),Ct=n.n(Tt),kt=n(18),Pt="View Proposal",Lt=Ct()()(Dt.a);function Ft(e){var t=e.buttonText,n=void 0===t?Pt:t,a=e.proposal,c=e.proposalOnClickId,s=e.onClick,o=e.name,i=e.votingResult,d=Object(u.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName}));return Object(r.jsxs)("div",{className:"proposalcard",onClick:function(){s(c)},children:[Object(r.jsx)("h3",{className:"proposalcard__title",children:function(e){return Object(tt.a)(e)?Object(p.i)(e,7):Object(r.jsx)(Lt,{text:e,maxLine:1,ellipsis:"...",trimRight:!0,basedOn:"letters"})}(o)}),function(e){switch(d){case kt.d.OffchainVotingContract:return Object(r.jsx)(Et.c,{proposal:e,votingResult:i});default:return Object(r.jsx)(r.Fragment,{})}}(a),Object(r.jsx)("button",{className:"proposalcard__button",children:n||Pt})]})}function Mt(e){var t=e.actionId,n=void 0===t?dt.a:t,a=e.onProposalClick,s=Object(c.useState)([]),o=Object(ce.a)(s,2),i=o[0],u=o[1],d=Object(c.useState)({failedProposals:[],passedProposals:[],votingProposals:[]}),l=Object(ce.a)(d,2),b=l[0],j=l[1],O=function(e){var t=e.actionId,n=void 0===t?dt.a:t,r=Object(c.useState)([]),a=Object(ce.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(),u=Object(ce.a)(i,2),d=u[0],l=u[1],b=Object(c.useState)(gt.a.STANDBY),j=Object(ce.a)(b,2),O=j[0],p=j[1],h=Object(c.useCallback)((function(){return x.apply(this,arguments)}),[n]);function m(e){return v.apply(this,arguments)}function v(){return(v=Object(be.a)(le.a.mark((function e(t){var n,r,a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(f.z,"/api/").concat(f.A),e.next=4,fetch("".concat(n,"/proposals/").concat(t,"?includeVotes=true"));case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("Something went wrong while fetching the Snapshot proposals.");case 7:return e.next=9,r.json();case 9:return a=e.sent,e.abrupt("return",Object.entries(a).map((function(e){var t=Object(ce.a)(e,2),n=t[0],r=t[1];return{daoProposal:void 0,snapshotDraft:void 0,snapshotProposal:Object(N.a)(Object(N.a)({},r),{},{idInSnapshot:n,idInDAO:""}),getCommonSnapshotProposalData:function(){},refetchProposalOrDraft:function(){},snapshotType:Fe.SnapshotType.proposal}})));case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function x(){return(x=Object(be.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(gt.a.PENDING),e.next=4,m(n);case 4:t=e.sent,p(gt.a.FULFILLED),o(t),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),p(gt.a.REJECTED),o([]),l(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){h()}),[h]),{governanceProposals:s,governanceProposalsError:d,governanceProposalsStatus:O}}({actionId:n}),h=O.governanceProposals,m=O.governanceProposalsError,v=O.governanceProposalsStatus,x=Object(Ve.a)(i),g=x.offchainVotingResults,E=x.offchainVotingResultsError,A=x.offchainVotingResultsStatus,I=b.failedProposals,w=b.passedProposals,y=b.votingProposals,_=v===gt.a.STANDBY||v===gt.a.PENDING||A===gt.a.STANDBY&&i.length>0||A===gt.a.PENDING,S=v===gt.a.REJECTED||A===gt.a.REJECTED;function R(e){return e.map((function(e){var t,n,c,s=null===(t=e.snapshotProposal)||void 0===t?void 0:t.idInSnapshot,o=(null===(n=e.snapshotProposal)||void 0===n?void 0:n.msg.payload.name)||"";if(!s)return null;var i=null===(c=g.find((function(e){var t=Object(ce.a)(e,2),n=t[0];t[1];return Object(p.g)(n)===Object(p.g)(s)})))||void 0===c?void 0:c[1];return Object(r.jsx)(Ft,{name:o,onClick:a,proposal:e,proposalOnClickId:s,votingResult:i},s)}))}return Object(c.useEffect)((function(){u(h.map((function(e){return e.snapshotProposal})))}),[h]),Object(c.useEffect)((function(){if(v===gt.a.FULFILLED){var e={failedProposals:[],passedProposals:[],votingProposals:[]};h.forEach((function(t){var n,r;if(((null===(n=t.snapshotProposal)||void 0===n?void 0:n.msg.payload.end)||0)<Math.ceil(Date.now()/1e3)){var a=null===(r=g.find((function(e){var n,r=Object(ce.a)(e,2),a=r[0];r[1];return Object(p.g)(a)===Object(p.g)((null===(n=t.snapshotProposal)||void 0===n?void 0:n.idInSnapshot)||"")})))||void 0===r?void 0:r[1];if(a){var c,s=(c=a).Yes.shares>c.No.shares;s?e.passedProposals.push(t):s||e.failedProposals.push(t)}}else e.votingProposals.push(t)})),j((function(t){return Object(N.a)(Object(N.a)({},t),e)}))}}),[h,v,g]),_&&!S?Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})}):h.length||Object.values(b).flatMap((function(e){return e})).length||v!==gt.a.FULFILLED?S?Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:m||E,renderText:"Something went wrong while getting the proposals."})}):Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[y.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:R(y)})]}),w.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:R(w)})]}),I.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:R(I)})]})]}):Object(r.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function Bt(){var e=Object(W.f)();return Object(r.jsx)(Gt,{children:Object(r.jsx)(Mt,{actionId:dt.a,onProposalClick:function(t){t&&e.push("/governance-proposals/".concat(t))}})})}function Gt(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}function Vt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),n=Object(he.f)(),r=n.web3Instance,s=n.account,o=Object(c.useState)([]),i=Object(ce.a)(o,2),d=i[0],l=i[1],b=Object(c.useState)(gt.a.STANDBY),j=Object(ce.a)(b,2),O=j[0],h=j[1],m=Object(c.useState)(),v=Object(ce.a)(m,2),x=v[0],N=v[1],g=Object(c.useCallback)((function(){return E.apply(this,arguments)}),[t,e,s,r]);function E(){return(E=Object(be.a)(le.a.mark((function n(){var c,o,i,u,d,b,j,O,m,v,x,g,E,A,I,w,y,_,S,R,D,T,C,k,P,L,F;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e&&t&&s&&r){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,h(gt.a.PENDING),c=e.abi,o=e.contractAddress,i=e.instance.methods,n.next=7,i.getNbMembers().call();case 7:if(u=n.sent,!(Number(u)>1)){n.next=33;break}return d=c.find((function(e){return"getMemberAddress"===e.name})),b=Object(a.a)(Array(Number(u)).keys()).map((function(e){return[o,d,[e.toString()]]})),n.next=13,Object(lt.h)({calls:b,web3Instance:r});case 13:return j=n.sent,O=c.find((function(e){return"memberAddressesByDelegatedKey"===e.name})),m=j.map((function(e){return[o,O,[e]]})),v=t.abi,x=t.contractAddress,g=v.find((function(e){return"balanceOf"===e.name})),E=j.map((function(e){return[x,g,[e,f.y]]})),A=j.map((function(e){return[x,g,[e,f.s]]})),I=j.map((function(e){return[x,g,[e,f.r]]})),w=c.find((function(e){return"getMemberFlag"===e.name})),y=j.map((function(e){return[o,w,[e,St.JAILED.toString()]]})),_=[].concat(Object(a.a)(m),Object(a.a)(E),Object(a.a)(A),Object(a.a)(I),Object(a.a)(y)),n.next=26,Object(lt.h)({calls:_,web3Instance:r});case 26:for(S=n.sent,R=[];S.length;)R.push(S.splice(0,j.length));D=R[0],T=R[1],C=R[2],k=R[3],P=R[4],L=j.map((function(e,t){return{address:e,delegateKey:D[t],isDelegated:Object(p.g)(e)!==Object(p.g)(D[t]),shares:T[t],loot:C[t],lockedLoot:k[t],isJailed:P[t]}})),F=L.filter((function(e){return Object(ut.toBN)(e.shares).gt(Object(ut.toBN)(0))||Object(ut.toBN)(e.loot).gt(Object(ut.toBN)(0))||Object(ut.toBN)(e.lockedLoot).gt(Object(ut.toBN)(0))})),l(F);case 33:h(gt.a.FULFILLED),n.next=41;break;case 36:n.prev=36,n.t0=n.catch(2),h(gt.a.REJECTED),l([]),N(n.t0);case 41:case"end":return n.stop()}}),n,null,[[2,36]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){g()}),[g]),{members:d,membersError:x,membersStatus:O}}function Ut(){var e=Vt(),t=e.members,n=e.membersError,a=e.membersStatus,s=Object(W.h)().ethereumAddress,o=Object(c.useState)(),i=Object(ce.a)(o,2),u=i[0],d=i[1],l=Object(c.useState)(!1),b=Object(ce.a)(l,2),j=b[0],O=b[1];Object(c.useEffect)((function(){if(a===gt.a.FULFILLED){var e=t.find((function(e){return Object(p.g)(e.address)===Object(p.g)(s)}));d(e),e||O(!0)}}),[s,t,a]);var f=a===gt.a.STANDBY||a===gt.a.PENDING,h=a===gt.a.FULFILLED,m=a===gt.a.REJECTED;return f&&!m?Object(r.jsx)(zt,{children:Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})})}):m?Object(r.jsx)(zt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:n,renderText:"Something went wrong while getting the member."})})}):j&&h?Object(r.jsx)(zt,{children:Object(r.jsx)(It,{})}):Object(r.jsx)(zt,{children:u?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"memberprofile__left-column",children:[Object(r.jsx)("h3",{children:Object(p.i)(u.address,7)}),Object(r.jsx)("div",{children:"MemberProfile Info @todo"})]}),Object(r.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile Actions @todo"})]})]}):Object(r.jsx)(r.Fragment,{})})}function zt(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function Wt(e){var t=e.member,n=e.onClick;return Object(r.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;n(e)},children:Object(r.jsx)("h3",{className:"membercard__title",children:Object(p.i)(t.address,7)})})}function Ht(){var e=Vt(),t=e.members,n=e.membersError,a=e.membersStatus,c=Object(W.f)(),s=a===gt.a.STANDBY||a===gt.a.PENDING,o=a===gt.a.FULFILLED,i=a===gt.a.REJECTED;return s&&!i?Object(r.jsx)(Yt,{children:Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})})}):i?Object(r.jsx)(Yt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:n,renderText:"Something went wrong while getting the members."})})}):!Object.values(t).length&&o?Object(r.jsx)(Yt,{children:Object(r.jsx)("p",{className:"text-center",children:"No members, yet!"})}):Object(r.jsx)(Yt,{children:Object(r.jsx)("div",{className:"grid--fluid grid-container",children:Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(r.jsx)("div",{className:"grid__cards",children:function(e){return e.map((function(e){return Object(r.jsx)(Wt,{onClick:(t=e.address,function(){t&&c.push("/members/".concat(t))}),member:e},e.address);var t}))}(t)})]})})})}function Yt(e){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}!function(e){e[e.EXISTS=0]="EXISTS",e[e.JAILED=1]="JAILED"}(St||(St={}));var Kt=n(60),qt=n(77);function Jt(e){var t=e.adapterName,n=e.onProposalClick,a=Object(c.useState)([]),s=Object(ce.a)(a,2),o=s[0],i=s[1],u=Object(c.useState)({failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]}),d=Object(ce.a)(u,2),l=d[0],b=d[1],j=Object(Ve.e)({adapterName:t}),O=j.proposals,p=j.proposalsError,f=j.proposalsStatus,h=Object(Ve.f)(o),m=h.proposalsVotingState,v=h.proposalsVotingStateError,x=h.proposalsVotingStateStatus,g=l.failedProposals,E=l.nonsponsoredProposals,A=l.passedProposals,I=l.votingProposals,w=f===gt.a.STANDBY||f===gt.a.PENDING||x===gt.a.STANDBY&&o.length>0||x===gt.a.PENDING,y=f===gt.a.REJECTED||x===gt.a.REJECTED;function _(e){return e.map((function(e){var t,a,c,s,o=(null===(t=e.snapshotDraft)||void 0===t?void 0:t.idInDAO)||(null===(a=e.snapshotProposal)||void 0===a?void 0:a.idInDAO),i=(null===(c=e.snapshotDraft)||void 0===c?void 0:c.msg.payload.name)||(null===(s=e.snapshotProposal)||void 0===s?void 0:s.msg.payload.name)||"";return o?Object(r.jsx)(Ft,{onClick:n,proposal:e,proposalOnClickId:o,name:i},o):null}))}return Object(c.useEffect)((function(){i(O.map((function(e){var t,n;return(null===(t=e.snapshotDraft)||void 0===t?void 0:t.idInDAO)||(null===(n=e.snapshotProposal)||void 0===n?void 0:n.idInDAO)||""})).filter(Boolean))}),[O]),Object(c.useEffect)((function(){if(f===gt.a.FULFILLED&&x===gt.a.FULFILLED){var e={failedProposals:[],nonsponsoredProposals:[],passedProposals:[],votingProposals:[]};O.forEach((function(t){var n,r=null===(n=m.find((function(e){var n,r;return Object(ce.a)(e,1)[0]===((null===(n=t.snapshotDraft)||void 0===n?void 0:n.idInDAO)||(null===(r=t.snapshotProposal)||void 0===r?void 0:r.idInDAO)||"")})))||void 0===n?void 0:n[1];void 0!==r&&t.daoProposal&&(Object(Kt.c)(qt.a.NOT_STARTED,r)&&Object(Kt.b)(Ge.b.EXISTS,t.daoProposal.flags)?e.nonsponsoredProposals.push(t):(Object(Kt.c)(qt.a.GRACE_PERIOD,r)||Object(Kt.c)(qt.a.IN_PROGRESS,r))&&Object(Kt.b)(Ge.b.SPONSORED,t.daoProposal.flags)?e.votingProposals.push(t):Object(Kt.c)(qt.a.PASS,r)&&(Object(Kt.b)(Ge.b.SPONSORED,t.daoProposal.flags)||Object(Kt.b)(Ge.b.PROCESSED,t.daoProposal.flags))?e.passedProposals.push(t):!Object(Kt.c)(qt.a.NOT_PASS,r)&&!Object(Kt.c)(qt.a.TIE,r)||!Object(Kt.b)(Ge.b.SPONSORED,t.daoProposal.flags)&&!Object(Kt.b)(Ge.b.PROCESSED,t.daoProposal.flags)||e.failedProposals.push(t))})),b((function(t){return Object(N.a)(Object(N.a)({},t),e)}))}}),[O,f,m,x]),w&&!y?Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})}):Object.values(O).length||Object.values(l).flatMap((function(e){return e})).length||f!==gt.a.FULFILLED?y?Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:p||v,renderText:"Something went wrong while getting the proposals."})}):Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[I.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:_(I)})]}),E.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.REQUESTS}),Object(r.jsx)("div",{className:"grid__cards",children:_(E)})]}),A.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:_(A)})]}),g.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Be.d.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:_(g)})]})]}):Object(r.jsx)("p",{className:"text-center",children:"No proposals, yet!"})}function Qt(){var e=Object(W.f)();return Object(r.jsx)(Xt,{children:Object(r.jsx)(Jt,{adapterName:kt.a.ONBOARDING,onProposalClick:function(t){t&&e.push("/membership/".concat(t))}})})}function Xt(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var $t=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,986))})),Zt={duration:150},en={display:"inline-block",width:"100%",fontSize:"1.5rem"};function tn(e){var t=e.adapterName,n=e.proposal,a=Object(u.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName}));return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("span",{className:"text-center",style:en,children:Object(r.jsx)(Me.a,{intervalMs:200,fadeInProps:Zt})}),children:function(){if(!a)return Object(r.jsx)(r.Fragment,{});switch(a){case kt.d.OffchainVotingContract:return Object(r.jsx)($t,{adapterName:t,proposal:n});default:var e=new Error('"'.concat(a,'" is not a valid voting adapter name.'));return Object(r.jsx)(ze.a,{error:e,renderText:"Something went wrong"})}}()})}function nn(e){var t=e.amount,n=e.amountUnit,a=e.amount2,c=e.amount2Unit;return Object(r.jsx)("div",{className:"proposaldetails__amount",children:Object(r.jsxs)("span",{children:["".concat(t," ").concat(n),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"for"}),Object(r.jsx)("br",{}),"".concat(a," ").concat(c)]})]})})}function rn(){var e=Object(W.h)().proposalId,t=Object(Ve.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===gt.a.PENDING)return Object(r.jsx)(an,{children:Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})})});if(c)return Object(r.jsx)(an,{children:Object(r.jsx)(It,{})});if(s===gt.a.REJECTED||a)return Object(r.jsx)(an,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.getCommonSnapshotProposalData(),i="\u2026";return Object(r.jsx)(an,{children:Object(r.jsx)(wt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(nn,{amount:i,amountUnit:null===o||void 0===o?void 0:o.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(tn,{adapterName:Ue.a.onboarding,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function an(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function cn(){var e=Object(W.h)().proposalId,t=Object(Ve.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===gt.a.PENDING)return Object(r.jsx)(sn,{children:Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})})});if(c)return Object(r.jsx)(sn,{children:Object(r.jsx)(It,{})});if(s===gt.a.REJECTED||a)return Object(r.jsx)(sn,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.getCommonSnapshotProposalData(),i="\u2026";return Object(r.jsx)(sn,{children:Object(r.jsx)(wt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(nn,{amount:i,amountUnit:null===o||void 0===o?void 0:o.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(tn,{adapterName:Ue.a.distribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function sn(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}function on(){var e=Object(W.f)();return Object(r.jsx)(un,{children:Object(r.jsx)(Jt,{adapterName:kt.a.DISTRIBUTE,onProposalClick:function(t){t&&e.push("/transfers/".concat(t))}})})}function un(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}function dn(){var e=Object(W.h)().proposalId,t=Object(Ve.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===gt.a.PENDING)return Object(r.jsx)(ln,{children:Object(r.jsx)("div",{className:"loader--emjoi-container",children:Object(r.jsx)(me,{})})});if(c)return Object(r.jsx)(ln,{children:Object(r.jsx)(It,{})});if(s===gt.a.REJECTED||a)return Object(r.jsx)(ln,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(ze.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.getCommonSnapshotProposalData(),i="\u2026",u="\u2026";try{u=Object(p.e)("")}catch(d){u="\u2026"}return Object(r.jsx)(ln,{children:Object(r.jsx)(wt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(nn,{amount:i,amountUnit:null===o||void 0===o?void 0:o.msg.payload.metadata.tributeAmountUnit,amount2:u,amount2Unit:null===o||void 0===o?void 0:o.msg.payload.metadata.requestAmountUnit})},renderActions:function(){return Object(r.jsx)(tn,{adapterName:Ue.a.tribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function ln(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function bn(){var e=Object(W.f)();return Object(r.jsx)(jn,{children:Object(r.jsx)(Jt,{adapterName:kt.a.TRIBUTE,onProposalClick:function(t){t&&e.push("/tributes/".concat(t))}})})}function jn(e){var t=Object(W.f)();return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}var On=n(10);function pn(e){return t=e,et.a.utils.sha3(t);var t}function fn(e){var t;return{acl:hn((t={},Object(On.a)(t,kt.b.BANK,{}),Object(On.a)(t,kt.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object(On.a)(t,kt.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object(On.a)(t,kt.a.EXECUTION,{}),Object(On.a)(t,kt.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object(On.a)(t,kt.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object(On.a)(t,kt.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(On.a)(t,kt.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object(On.a)(t,kt.c.OFFCHAINVOTING,{}),Object(On.a)(t,kt.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object(On.a)(t,kt.a.NONVOTING_ONBOARDING,{}),Object(On.a)(t,kt.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(On.a)(t,kt.a.VOTING,{}),Object(On.a)(t,kt.a.WITHDRAW,{WITHDRAW:!0,SUB_FROM_BALANCE:!0}),t)[e])}}function hn(e){return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER])}var mn,vn=[{isExtension:!0,name:kt.b.BANK,extensionId:pn(kt.b.BANK),contractAddress:f.a[f.g],abiFunctionName:"configureExtension",description:"Adds the banking capabilities to the DAO, and keeps track of the DAO accounts and internal token balances."},{name:kt.a.CONFIGURATION,adapterId:pn(kt.a.CONFIGURATION),contractAddress:f.d[f.g],abiFunctionName:"submitConfigurationProposal",description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:kt.a.DISTRIBUTE,adapterId:pn(kt.a.DISTRIBUTE),contractAddress:f.h[f.g],abiFunctionName:"submitProposal",description:"Allows the members to distribute funds to one or all members of the DAO."},{name:kt.a.FINANCING,adapterId:pn(kt.a.FINANCING),contractAddress:f.l[f.g],abiFunctionName:"createFinancingRequest",description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:kt.a.GUILDKICK,adapterId:pn(kt.a.GUILDKICK),contractAddress:f.o[f.g],abiFunctionName:"submitKickProposal",description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:kt.a.MANAGING,adapterId:pn(kt.a.MANAGING),contractAddress:f.t[f.g],abiFunctionName:"createAdapterChangeRequest",description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:kt.a.ONBOARDING,adapterId:pn(kt.a.ONBOARDING),contractAddress:f.w[f.g],abiFunctionName:"configureDao",description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:kt.a.RAGEQUIT,adapterId:pn(kt.a.RAGEQUIT),contractAddress:f.x[f.g],abiFunctionName:"ragequit",description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:kt.a.TRIBUTE,adapterId:pn(kt.a.TRIBUTE),contractAddress:f.C[f.g],abiFunctionName:"configureDao",description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{options:[{name:kt.a.VOTING,displayName:kt.c.OFFCHAINVOTING,adapterId:pn(kt.a.VOTING),contractAddress:f.v[f.g],abiFunctionName:"configureDao",description:"Adds the offchain voting governance process to the DAO to support gasless voting."},{name:kt.a.VOTING,displayName:kt.a.VOTING,adapterId:pn(kt.a.VOTING),contractAddress:f.D[f.g],abiFunctionName:"configureDao",description:"Adds the simple on chain voting governance process to the DAO."}],optionDefaultTarget:kt.a.VOTING},{name:kt.a.WITHDRAW,adapterId:pn(kt.a.WITHDRAW),contractAddress:f.E[f.g],abiFunctionName:"withdraw",description:"Allows the members to withdraw their funds from the DAO bank."}],xn=n(218);function Nn(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(g.a)(e,["DaoRegistryContract"]),r=Object(l.useLazyQuery)(xn.a,{pollInterval:f.m,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(ce.a)(r,2),s=a[0],o=a[1],i=o.called,d=o.data,b=o.error,j=Object(c.useState)(),O=Object(ce.a)(j,2),p=O[0],h=O[1],m=Object(c.useState)(),v=Object(ce.a)(m,2),x=v[0],E=v[1],A=Object(c.useState)(gt.a.STANDBY),I=Object(ce.a)(A,2),w=I[0],y=I[1],_=Object(c.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return vn.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(N.a)(Object(N.a)(Object(N.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var s=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),o=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(s||o){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(N.a)(Object(N.a)(Object(N.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}else{var s=a(e.adapterId);if(s)return n.push(Object(N.a)(Object(N.a)(Object(N.a)({},s),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(N.a)(Object(N.a)(Object(N.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(c.useEffect)((function(){i||s()}),[i,s]),Object(c.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(y(gt.a.PENDING),d){var e=d.molochv3S[0],n=e.adapters,r=e.extensions,a=_(n,r),c=a.registeredList,s=a.unRegisteredList;h(c),E(s),y(gt.a.FULFILLED)}else if(b)throw new Error(b.message)}catch(b){h(void 0),E(void 0),y(gt.a.REJECTED)}}),[t,d,b,_]),{adapterExtensionStatus:w,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:p,unRegisteredAdaptersOrExtensions:x}}function gn(){var e=Object(he.e)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString();return n===mn.ADDRESS?function(t){try{return!!t&&(et.a.utils.checkAddressChecksum(t,e)||et.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===mn.BYTES32?function(e){try{return!!e&&(66===e.length&&et.a.utils.isHex(e))}catch(t){return!1}}(r):n===mn.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&et.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===mn.UINT256?function(e){return!isNaN(Number(e))}(r):n!==mn.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r)},getFormFieldError:function(e){return e===mn.ADDRESS?Be.a.INVALID_ETHEREUM_ADDRESS:e===mn.BYTES32?Be.a.INVALID_BYTES32:e===mn.BYTES32_ARRAY?Be.a.INVALID_BYTES32_ARRAY:e===mn.UINT256?Be.a.INVALID_NUMBER:e===mn.UINT256_ARRAY?Be.a.INVALID_NUMBER_ARRAY:Be.a.REQUIRED},formatInputByType:function(e,t){return t===mn.BYTES32_ARRAY?Array.from(e.split(",")):t===mn.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===mn.UINT256?Number(e):e}}}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(mn||(mn={}));var En,An,In=n(75);function wn(e){var t=e.adapterOrExtension,n=e.defaultTarget,a=e.renderActions,s=e.renderCheckboxAction,o=Object(c.useState)(n||null),i=Object(ce.a)(o,2),u=i[0],d=i[1],l=Object(c.useState)({}),b=Object(ce.a)(l,2),j=b[0],O=b[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[s({selectedTargetOption:u}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(r.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;d(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));O(r)},children:[Object(r.jsxs)("option",{value:"",disabled:null!==u,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(r.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(r.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(a){console.warn(a)}}(u)]})]}),a({selectedTargetOption:u,selectedTargetOptionProps:j})]})}function yn(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,a=e.adapterOrExtension,s=e.closeHandler,o=Object(u.c)((function(e){return e.contracts})).DaoRegistryContract,i=Object(c.useState)(),d=Object(ce.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Ue.e.STANDBY),O=Object(ce.a)(j,2),f=O[0],h=O[1],m=Object(c.useState)(Ue.e.STANDBY),v=Object(ce.a)(m,2),x=v[0],g=v[1],E=Object(he.a)(),A=E.txError,I=E.txIsPromptOpen,w=E.txSend,y=E.txStatus,_=Object(he.b)(),S=Object(he.f)(),R=S.connected,D=S.account,T=gn(),C=T.isParamInputValid,k=T.getFormFieldError,P=T.formatInputByType,L=Nn().getAdapterOrExtensionFromRedux,F=Object(Le.a)({mode:"onBlur",reValidateMode:"onChange"}),M=F.errors,B=F.formState,G=F.getValues,V=F.setValue,U=F.register,z=F.trigger,W=l||A,H=R&&D,Y=B.isValid,K=(y===Ue.e.AWAITING_CONFIRM||y===Ue.e.PENDING)&&(f===Ue.e.AWAITING_CONFIRM||f===Ue.e.PENDING),q=(y===Ue.e.AWAITING_CONFIRM||y===Ue.e.PENDING)&&(x===Ue.e.AWAITING_CONFIRM||x===Ue.e.PENDING),J=y===Ue.e.FULFILLED&&f===Ue.e.FULFILLED,Q=y===Ue.e.FULFILLED&&x===Ue.e.FULFILLED,X=(K||J)&&I,$=(q||Q)&&I;function Z(){return(Z=Object(be.a)(le.a.mark((function e(){var t,n;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,g(Ue.e.AWAITING_CONFIRM),t=[(null===a||void 0===a?void 0:a.isExtension)?null===a||void 0===a?void 0:a.extensionId:null===a||void 0===a?void 0:a.adapterId],n=Object(N.a)({from:D||""},_?{gasPrice:_.fast}:null),e.next=8,w((null===a||void 0===a?void 0:a.isExtension)?"removeExtension":"removeAdapter",o.instance.methods,t,n);case 8:g(Ue.e.FULFILLED),s&&setTimeout((function(){s()}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),b(e.t0),g(Ue.e.REJECTED);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function ee(){return(ee=Object(be.a)(le.a.mark((function e(r){var c,s,o,i,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(Ue.e.PENDING),c=L(null===a||void 0===a?void 0:a.name),s=c.contractAddress,o=c.instance.methods,H){e.next=5;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 5:if(s){e.next=7;break}throw new Error("No ".concat(null===a||void 0===a?void 0:a.name," contract found."));case 7:if(D){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(r).find((function(t){return t[0]===e.name}));if(t){var n=P(t[1],e.type);i.push(n)}})),u=Object(N.a)({from:D||""},_?{gasPrice:_.fast}:null),h(Ue.e.AWAITING_CONFIRM),e.next=15,w(n,o,i,u);case 15:h(Ue.e.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),b(e.t0),h(Ue.e.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":M[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return V(e.name[0],G()[e.name])},ref:U({validate:function(t){return""===t?Be.a.REQUIRED:!!C(t,e.type)||k(e.type)}}),disabled:X}),Object(r.jsx)(We,{error:Object(p.f)(e.name,M),id:"error-".concat(e.name)})]})]},e.name)})),Object(r.jsx)("button",{className:"button",disabled:X||$,onClick:function(){X||(Y?function(e){ee.apply(this,arguments)}(G()):z())},type:"submit",children:K?Object(r.jsx)(He.a,{}):J?"Done":"Submit"}),W&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(ze.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:W})}),Object(r.jsxs)("div",{className:"adapter-extension__remove",children:[Object(r.jsx)("p",{children:"Delete this adapter. Once you delete this adapter, it can be re-added if the DAO isn't finalized."}),Object(r.jsx)("button",{className:"button--secondary",disabled:$||X,onClick:function(){return Q?{}:function(){return Z.apply(this,arguments)}()},children:q?Object(r.jsx)(He.a,{}):Q?"Done":"Remove"})]})]})}function _n(e){var t=e.abiMethodName,n=e.adapterOrExtension,a=e.configurationInputs,c=e.isOpen,s=e.closeHandler;return Object(r.jsx)(xe,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:c,isOpenHandler:function(){s()},children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){s()},children:Object(r.jsx)(Ne.a,{})}),Object(r.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(r.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(r.jsx)(yn,{abiConfigurationInputs:a,abiMethodName:t,adapterOrExtension:n,closeHandler:s})]})})}function Sn(e){var t=e.size,n=Object(g.a)(e,["size"]);return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(r.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(r.jsx)("span",{className:"checkbox-box ".concat(t||En.SMALL)}),Object(r.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}function Rn(e){var t=e.isOpen,n=e.closeHandler,a=Object(c.useState)(),s=Object(ce.a)(a,2),o=s[0],i=s[1],d=Object(u.c)((function(e){return e.contracts})).DaoRegistryContract,l=Object(he.a)(),b=l.txError,j=l.txEtherscanURL,O=l.txIsPromptOpen,f=l.txSend,h=l.txStatus,m=Object(he.b)(),v=Object(In.c)().dao,x=Object(he.f)(),g=x.connected,E=x.account,A=g&&E,I=h===Ue.e.AWAITING_CONFIRM||h===Ue.e.PENDING,w=h===Ue.e.FULFILLED,y=I||w||O,_=o||b;function S(){return(S=Object(be.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,A){e.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(d){e.next=5;break}throw new Error("No DAO Registry contract was found.");case 5:return t=Object(N.a)({from:E||""},m?{gasPrice:m.fast}:null),e.next=8,f("finalizeDao",d.instance.methods,[],t);case 8:n&&setTimeout((function(){n()}),3e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),i(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}return Object(r.jsx)(xe,{keyProp:"adapter-extension-finalize",isOpen:t,isOpenHandler:function(){n()},children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){n()},children:Object(r.jsx)(Ne.a,{})}),Object(r.jsx)("h1",{children:"Finalize "}),Object(r.jsxs)("h2",{children:[v&&v.name," ",Object(r.jsx)("small",{children:v&&Object(p.i)(v.daoAddress,7)})]}),Object(r.jsx)("p",{children:"After your DAO is finalized you will need to submit a proposal to make changes."}),Object(r.jsx)("button",{className:"button",disabled:y,onClick:function(){y||function(){S.apply(this,arguments)}()},type:"submit",children:I?Object(r.jsx)(He.a,{}):w?"Done":"Submit"}),y&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){switch(h){case Ue.e.AWAITING_CONFIRM:return Object(r.jsxs)(r.Fragment,{children:["Awaiting your confirmation",Object(r.jsx)(Me.a,{})]});case Ue.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(rt.a,{intervalMs:2e3,messages:nt.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ve.a,{children:e},e)}}),Object(r.jsx)(at.a,{url:j,isPending:!0})]});case Ue.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Finalized!"}),Object(r.jsx)(at.a,{url:j})]});default:return null}}()}),_&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(ze.a,{renderText:"Something went wrong while trying to finalize the DAO.",error:_})})]})})}function Dn(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,a=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),s=Object(c.useState)(""),o=Object(ce.a)(s,2),i=o[0],d=o[1],l=Object(c.useState)(),b=Object(ce.a)(l,2),j=b[0],O=b[1],f=Object(c.useState)(),h=Object(ce.a)(f,2),m=h[0],v=h[1],x=Object(c.useState)(),g=Object(ce.a)(x,2),E=g[0],A=g[1],I=Object(c.useState)(),w=Object(ce.a)(I,2),_=w[0],S=w[1],R=Object(c.useState)(!1),D=Object(ce.a)(R,2),T=D[0],C=D[1],k=Object(c.useState)(!1),P=Object(ce.a)(k,2),L=P[0],F=P[1],M=Object(c.useState)(!1),B=Object(ce.a)(M,2),G=B[0],V=B[1],U=Object(c.useState)(0),z=Object(ce.a)(U,2),W=z[0],H=z[1],Y=Object(c.useState)(),K=Object(ce.a)(Y,2),q=K[0],J=K[1],Q=Object(c.useState)(),X=Object(ce.a)(Q,2),$=X[0],Z=X[1],ee=Object(c.useState)(),te=Object(ce.a)(ee,2),ne=te[0],re=te[1],ae=Object(c.useState)(),se=Object(ce.a)(ae,2),oe=se[0],ie=se[1],ue=Object(he.e)().defaultChainError,de=Object(he.f)(),je=de.connected,Oe=de.account,pe=Nn(),fe=pe.adapterExtensionStatus,me=pe.getAdapterOrExtensionFromRedux,ve=pe.registeredAdaptersOrExtensions,xe=pe.unRegisteredAdaptersOrExtensions,Ne=function(){var e=Object(he.f)().web3Instance,t=Object(u.b)();function n(){return(n=Object(be.a)(le.a.mark((function n(r){return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.t0=r,n.next=n.t0===kt.a.CONFIGURATION?3:n.t0===kt.a.FINANCING?6:n.t0===kt.a.GUILDKICK?9:n.t0===kt.a.MANAGING?12:n.t0===kt.a.RAGEQUIT?15:n.t0===kt.a.WITHDRAW?18:n.t0===kt.b.BANK?21:n.t0===kt.a.ONBOARDING?24:n.t0===kt.a.TRIBUTE?27:n.t0===kt.a.DISTRIBUTE?30:n.t0===kt.a.VOTING?33:36;break;case 3:return n.next=5,t(Object(y.q)(e));case 5:return n.abrupt("break",36);case 6:return n.next=8,t(Object(y.u)(e));case 8:return n.abrupt("break",36);case 9:return n.next=11,t(Object(y.v)(e));case 11:return n.abrupt("break",36);case 12:return n.next=14,t(Object(y.w)(e));case 14:return n.abrupt("break",36);case 15:return n.next=17,t(Object(y.y)(e));case 17:return n.abrupt("break",36);case 18:return n.next=20,t(Object(y.A)(e));case 20:return n.abrupt("break",36);case 21:return n.next=23,t(Object(y.p)(e));case 23:return n.abrupt("break",36);case 24:return n.next=26,t(Object(y.x)(e));case 26:return n.abrupt("break",36);case 27:return n.next=29,t(Object(y.z)(e));case 29:return n.abrupt("break",36);case 30:return n.next=32,t(Object(y.t)(e));case 32:return n.abrupt("break",36);case 33:return n.next=35,t(Object(y.B)(e));case 35:return n.abrupt("break",36);case 36:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return{initAdapterExtensionContract:function(e){return n.apply(this,arguments)}}}().initAdapterExtensionContract,ge=Object(In.c)(),Ee=ge.dao,Ae=ge.gqlError,Ie=Object(he.a)().txSend,we=Object(he.b)(),ye=Object(In.e)(),_e=ye.isDisabled,Se=ye.openWhyDisabledModal,Re=ye.setOtherDisabledReasons,De=ye.WhyDisabledModal,Te=je&&Oe,Ce=Ee,ke=j===lt.a.READY,Pe=fe===gt.a.REJECTED&&void 0===ve&&void 0===xe,Le=fe===gt.a.PENDING,Fe=Object(c.useCallback)((function(){return Me.apply(this,arguments)}),[t,null===Ee||void 0===Ee?void 0:Ee.name,Re]);function Me(){return(Me=Object(be.a)(le.a.mark((function e(){var n,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===Ee||void 0===Ee?void 0:Ee.name," is already finalized"),e.next=6,Object(lt.g)(t.instance);case 6:r=e.sent,O(r),r===lt.a.READY&&Re([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),O(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Be(e){new Promise((function(t,n){try{t(me(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ve(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function Ge(e){new Promise((function(t,n){try{t(me(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Ve(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function Ve(e,t,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=Object(be.a)(le.a.mark((function e(n,r,a){var c,s,o,i,u,d,l;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(void 0),t){e.next=3;break}throw new Error("No DAO Registry contract was found.");case 3:if(e.prev=3,re((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(On.a)({},r,!0))})),n){e.next=7;break}throw new Error("".concat(a," address must not be empty"));case 7:return c=pn(r),s=fn(r),o=s.acl,i="ADAPTER"===a?[c,n,o]:[c,n,Oe],u=Object(N.a)({from:Oe||""},we?{gasPrice:we.fast}:null),d="ADAPTER"===a?"addAdapter":"addExtension",e.next=14,Ie(d,t.instance.methods,i,u);case 14:re((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(On.a)({},r,!1))})),v((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(On.a)({},r,!0))})),Ne(r),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(3),re((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(On.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),S(l);case 24:case"end":return e.stop()}}),e,null,[[3,19]])})))).apply(this,arguments)}function We(){return(We=Object(be.a)(le.a.mark((function e(){var t,r,a,c,s,o,i,u;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:for(a in e.prev=3,t=[],r=function(e){if(q[e]){var n=vn.filter((function(t){return t.name===e}))[0].adapterId,r=me(e).contractAddress,a=fn(e).acl;n&&t.push([n,r,a]),re((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(On.a)({},e,!0))}))}},q)r(a);return c=[null===Ee||void 0===Ee?void 0:Ee.daoAddress,t],s=Object(N.a)({from:Oe||""},we?{gasPrice:we.fast}:null),e.next=11,Ie("addAdapters",n.instance.methods,c,s);case 11:e.next=20;break;case 13:for(u in e.prev=13,e.t0=e.catch(3),o=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),S(o),Ke(!1),i=function(e){re((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(On.a)({},e,!1))}))},q)i(u);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ye(){return(Ye=Object(be.a)(le.a.mark((function e(t){var n,r,a,c,s,o;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(void 0),e.prev=1,n=t.abiFunctionName,r=t.name,n){e.next=5;break}throw new Error("ABI function not found for ".concat(r));case 5:a=me(r),c=a.abi,s=c.filter((function(e){return e.name===n}))[0].inputs,d(n),Z(t),A(s),C(!0),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"".concat(t.name," contract not found")),S(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function Ke(e){V(e);var t=function(t){J((function(n){return Object(N.a)(Object(N.a)({},n),{},Object(On.a)({},t,e))}))};for(var n in q)t(n)}return Object(c.useEffect)((function(){Fe()}),[Fe,t]),Object(c.useEffect)((function(){V(!1),xe&&xe&&(null===xe||void 0===xe||xe.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&J((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(On.a)({},e.name,!1))}))})))}),[_e,xe]),Object(c.useEffect)((function(){q&&H(Object.values(q).filter((function(e){return!0===e})).length)}),[q]),Te&&a&&!ue?Object(r.jsx)(Tn,{children:Object(r.jsxs)("div",{className:"adaptermanager",children:[!Ee&&Ae?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(ze.a,{error:Ae,renderText:"Something went wrong"})):Ee?Object(r.jsxs)("h3",{children:[Ee.name," ",Object(r.jsx)("small",{children:Object(p.i)(Ee.daoAddress,7)})]}):void 0,_?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(ze.a,{error:_,renderText:"Something went wrong"})):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(r.jsxs)("div",{className:"adapter-extension__selection",children:[Object(r.jsx)("div",{children:Object(r.jsx)(Sn,{id:"selectAll",label:"".concat(W," selected"),checked:!0===G,disabled:Pe||_e||0===(null===xe||void 0===xe?void 0:xe.length)||!Ce,name:"selectAll",size:En.LARGE,onChange:function(e){Ke(e.target.checked)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary",disabled:0===W||_e,onClick:function(){return We.apply(this,arguments)},children:"Add selected"})})]}),Le&&Object(r.jsx)("div",{className:"adapter-extension__loader",children:Object(r.jsx)(He.a,{text:"Loading data from subgraph..."})}),Pe&&Object(r.jsx)("p",{children:"No adapters/extensions available"}),Ce&&xe&&(null===xe||void 0===xe?void 0:xe.length)>0&&xe.map((function(e,t){return Object(r.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(r.jsx)(wn,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)(Sn,{id:n||"empty",label:"",checked:n&&q&&!0===q[n]||!1,disabled:_e||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:En.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;J((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(On.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:null===t||ne&&ne[n.name]||_e,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?Ge(n):Be(n)},children:ne&&ne[n.name]?Object(r.jsx)(He.a,{}):m&&m[n.name]?"Done":"Add"})})})}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"adapter-extension__inner-wrapper ",children:[Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)(Sn,{id:e.name,label:"",checked:q&&!0===q[e.name]||!1,disabled:_e,name:e.name,size:En.LARGE,onChange:function(t){J((function(n){return Object(N.a)(Object(N.a)({},n),{},Object(On.a)({},e.name,t.target.checked))}))}})}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]})]}),Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:ne&&ne[e.name]||m&&m[e.name]||_e,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?Ge(e):Be(e)},children:ne&&ne[e.name]?Object(r.jsx)(He.a,{}):m&&m[e.name]?"Done":"Add"})})]})},t)})),Ce&&ve&&(null===ve||void 0===ve?void 0:ve.length)>0&&ve.map((function(e,t){return Object(r.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__configure",children:Object(r.jsx)("button",{className:"button--secondary",disabled:_e||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return Ye.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),_e&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){Se(),ie(An.CONFIGURATION_REASON)},children:An.CONFIGURATION_REASON})}),Object(r.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(r.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary finalize",disabled:Pe||!Ce||ke,onClick:function(){return F(!0)},children:"Finalize Dao"})}),_e&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){Se(),ie(An.FINALIZED_REASON)},children:An.FINALIZED_REASON})}),Object(r.jsx)(De,{title:oe})]}),T&&Object(r.jsx)(_n,{abiMethodName:i,adapterOrExtension:$,configurationInputs:E,isOpen:T,closeHandler:function(){C(!1)}}),L&&Object(r.jsx)(Rn,{isOpen:L,closeHandler:function(){F(!1),Fe()}})]})}):Object(r.jsx)(Tn,{children:Object(r.jsx)("div",{className:"adapter-extension__unauthorized-message",children:Object(r.jsx)("p",{children:Te?ue?ue.message:a?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to manage the DAO adapters and extensions."})})})}function Tn(e){return Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Adapter/Extension Manager"})}),e.children]})})}!function(e){e.LARGE="large",e.SMALL="small"}(En||(En={})),function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(An||(An={}));var Cn,kn=":proposalId";function Pn(){return Object(r.jsx)(W.c,{children:[Object(r.jsx)(W.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(Nt,{})}},"splash"),Object(r.jsx)(W.a,{exact:!0,path:"/join",render:function(){return Object(r.jsx)(ct,{})}},"join"),Object(r.jsx)(W.a,{exact:!0,path:"/membership",render:function(){return Object(r.jsx)(Qt,{})}},"membership"),Object(r.jsx)(W.a,{exact:!0,path:"/membership/".concat(kn),render:function(){return Object(r.jsx)(rn,{})}},"membership-details"),Object(r.jsx)(W.a,{exact:!0,path:"/transfer",render:function(){return Object(r.jsx)(jt,{})}},"transfer"),Object(r.jsx)(W.a,{exact:!0,path:"/transfers",render:function(){return Object(r.jsx)(on,{})}},"transfers"),Object(r.jsx)(W.a,{exact:!0,path:"/transfers/".concat(kn),render:function(){return Object(r.jsx)(cn,{})}},"transfer-details"),Object(r.jsx)(W.a,{exact:!0,path:"/tribute",render:function(){return Object(r.jsx)(pt,{})}},"tribute"),Object(r.jsx)(W.a,{exact:!0,path:"/tributes",render:function(){return Object(r.jsx)(bn,{})}},"tributes"),Object(r.jsx)(W.a,{exact:!0,path:"/tributes/".concat(kn),render:function(){return Object(r.jsx)(dn,{})}},"tribute-details"),Object(r.jsx)(W.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(r.jsx)(Qe,{})}},"governance-proposal"),Object(r.jsx)(W.a,{exact:!0,path:"/governance-proposals",render:function(){return Object(r.jsx)(Bt,{})}},"governance-proposals"),Object(r.jsx)(W.a,{exact:!0,path:"/governance-proposals/".concat(kn),render:function(){return Object(r.jsx)(yt,{})}},"governance-proposal-details"),Object(r.jsx)(W.a,{exact:!0,path:"/members",render:function(){return Object(r.jsx)(Ht,{})}},"members"),Object(r.jsx)(W.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(r.jsx)(Ut,{})}},"member-profile"),Object(r.jsx)(W.a,{exact:!0,path:"/dao-manager",render:function(){return Object(r.jsx)(Dn,{})}},"dao-manager"),Object(r.jsx)(W.a,{component:It},"no-match")]})}function Ln(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Pe,{}),Object(r.jsx)(Ce,{}),Object(r.jsx)("main",{children:Object(r.jsx)(Pn,{})}),Object(r.jsx)(ee,{})]})}function Fn(e){var t=e.render,n=Object(u.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(c.useState)(),a=Object(ce.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(!1),d=Object(ce.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Object(On.a)({},Cn.initSnapshotAPI,gt.a.STANDBY)),O=Object(ce.a)(j,2),p=O[0],h=O[1],m=Object(he.c)(),v=Object(he.f)(),x=v.account,g=v.connected,E=v.provider,A=v.web3Instance,I=Object(In.d)().isMountedRef,w=Object(u.b)(),_=Object(c.useCallback)((function(){return T.apply(this,arguments)}),[m]),S=Object(c.useCallback)((function(e,t){return C.apply(this,arguments)}),[w]),R=Object(c.useCallback)((function(){return D.apply(this,arguments)}),[I]);function D(){return(D=Object(be.a)(le.a.mark((function e(){var t;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.z){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(Fe.getApiStatus)(f.z);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(I.current){e.next=11;break}return e.abrupt("return");case 11:h((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(On.a)({},Cn.initSnapshotAPI,gt.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),I.current){e.next=18;break}return e.abrupt("return");case 18:o(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function T(){return(T=Object(be.a)(le.a.mark((function e(){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function C(){return(C=Object(be.a)(le.a.mark((function e(t,n){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(Object(y.o)(t,n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){b(Object.values(p).every((function(e){return e===gt.a.FULFILLED})))}),[p]),Object(c.useEffect)((function(){g&&E&&A&&_()}),[g,_,E,A]),Object(c.useEffect)((function(){g&&x&&n&&S(x,n)}),[x,g,n,S]),Object(c.useEffect)((function(){R()}),[R]),t({error:s,isInitComplete:l})}function Mn(e){var t=e.error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ce,{}),Object(r.jsx)(Je,{className:"section-wrapper",children:Object(r.jsx)("main",{children:Object(r.jsxs)(ve.a,{children:[Object(r.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(r.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(r.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(r.jsx)(ze.a,{error:t,renderText:""})})]})})})]})}!function(e){e.initSnapshotAPI="initSnapshotAPI"}(Cn||(Cn={}));var Bn=n(212),Gn=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,985)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Vn=(n(959),document.getElementById("root"));"production"===f.i&&Object(p.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var Un=new b.ApolloClient({uri:f.n,cache:new b.InMemoryCache({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}}}})});null!==Vn&&i.a.render(Object(r.jsx)(u.a,{store:z,children:Object(r.jsx)(d.a,{children:Object(r.jsx)(Bn.b,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:O.a,options:{infuraId:f.q,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:h.a.LIGHT,children:Object(r.jsx)(l.ApolloProvider,{client:Un,children:Object(r.jsx)(Fn,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(r.jsx)(Mn,{error:t}):n?Object(r.jsx)(Ln,{}):null}})})})})}),Vn),Gn()}},[[960,1,2]]]);
//# sourceMappingURL=main.5e91b884.chunk.js.map