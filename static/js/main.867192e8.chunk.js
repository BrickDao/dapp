(this["webpackJsonpmolochv3-ui"]=this["webpackJsonpmolochv3-ui"]||[]).push([[0],{107:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(52),a=n.n(r),c=function(e){return a.a.utils.isAddress(e)}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(10),a=n(1),c=n(15);function s(e){var t=e.intervalMs,n=e.messages,s=e.useFirstItemStart?n[0]:Object(c.a)(n),o=Object(a.useState)(s),i=Object(r.a)(o,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},117:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},13:function(e,t,n){"use strict";n.d(t,"i",(function(){return R})),n.d(t,"x",(function(){return T})),n.d(t,"q",(function(){return S})),n.d(t,"n",(function(){return D})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"j",(function(){return L})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return M})),n.d(t,"a",(function(){return B})),n.d(t,"B",(function(){return G})),n.d(t,"d",(function(){return V})),n.d(t,"v",(function(){return U})),n.d(t,"h",(function(){return W})),n.d(t,"l",(function(){return H})),n.d(t,"o",(function(){return q})),n.d(t,"r",(function(){return Y})),n.d(t,"t",(function(){return z})),n.d(t,"u",(function(){return K})),n.d(t,"A",(function(){return J})),n.d(t,"C",(function(){return Q})),n.d(t,"s",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"p",(function(){return Z})),n.d(t,"z",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"k",(function(){return ne})),n.d(t,"y",(function(){return re})),n.d(t,"m",(function(){return ae}));var r,a,c,s,o,i,u,d,l,b,j,f,p,O,h,m,x=n(8),v=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x83eA12d54D5DCF88FeD2fB80dcEa1336A8Ac8924",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xE1306199D95a1Ee0Ef155A984B0a0B50F7B0c216",REACT_APP_GRAPH_API_URL:"https://api.thegraph.com/subgraphs/name/sophiacodes/molochv3-dev"}),N=v.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,A=v.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,g=v.REACT_APP_ENVIRONMENT,E=v.REACT_APP_INFURA_PROJECT_ID_DEV,I=v.REACT_APP_INFURA_PROJECT_ID_LOCAL,y=v.REACT_APP_INFURA_PROJECT_ID_PROD,w=v.REACT_APP_MULTICALL_CONTRACT_ADDRESS,C=v.REACT_APP_SNAPSHOT_HUB_API_URL,_=v.REACT_APP_GRAPH_API_URL,R=g,T="localhost"===R?"/snapshot-hub":C,S="production"===g?y:"development"===g?E:I,D=_,k={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},P=(r={},Object(x.a)(r,k.MAINNET,"Main Ethereum Network"),Object(x.a)(r,k.ROPSTEN,"Ropsten Test Network"),Object(x.a)(r,k.RINKEBY,"Rinkeby Test Network"),Object(x.a)(r,k.GOERLI,"G\xf6rli Test Network"),Object(x.a)(r,k.KOVAN,"Kovan Test Network"),Object(x.a)(r,k.GANACHE,"Ganache Test Network"),r),L=(a={},Object(x.a)(a,k.MAINNET,"https://etherscan.io"),Object(x.a)(a,k.ROPSTEN,"https://ropsten.etherscan.io"),Object(x.a)(a,k.RINKEBY,"https://rinkeby.etherscan.io"),Object(x.a)(a,k.GOERLI,"https://goerli.etherscan.io"),Object(x.a)(a,k.KOVAN,"https://kovan.etherscan.io"),a),F=N,M=(c={},Object(x.a)(c,k.MAINNET,""),Object(x.a)(c,k.ROPSTEN,""),Object(x.a)(c,k.RINKEBY,"0xCC7158B10515B266244c643A2527f7EFfc911421"),Object(x.a)(c,k.GOERLI,""),Object(x.a)(c,k.KOVAN,""),Object(x.a)(c,k.GANACHE,"0xa549101aAD5143d89aEC2aa330754cEB2C0FF607"),c),B=(s={},Object(x.a)(s,k.MAINNET,""),Object(x.a)(s,k.ROPSTEN,""),Object(x.a)(s,k.RINKEBY,"0xE02769bebC6b0A65d5ffaa58d9f981618077a4Ac"),Object(x.a)(s,k.GOERLI,""),Object(x.a)(s,k.KOVAN,""),Object(x.a)(s,k.GANACHE,"0xCdfD73dCa055ada355142eDfDA22C90BC4CD5504"),s),G=(o={},Object(x.a)(o,k.MAINNET,""),Object(x.a)(o,k.ROPSTEN,""),Object(x.a)(o,k.RINKEBY,"0x1bF6E52BBD3f8f7Ed6fE8a9621E639aca560A730"),Object(x.a)(o,k.GOERLI,""),Object(x.a)(o,k.KOVAN,""),Object(x.a)(o,k.GANACHE,"0x87a7DF246f4c26E3352a2ecd147517d42D83dc07"),o),V=(i={},Object(x.a)(i,k.MAINNET,""),Object(x.a)(i,k.ROPSTEN,""),Object(x.a)(i,k.RINKEBY,"0xEF2850b0067C276f65fAAeA9EBA0674819039342"),Object(x.a)(i,k.GOERLI,""),Object(x.a)(i,k.KOVAN,""),Object(x.a)(i,k.GANACHE,"0x14f02614a3ffD9532b9F5C8Ff5dF3B52419cBF1F"),i),U=(u={},Object(x.a)(u,k.MAINNET,""),Object(x.a)(u,k.ROPSTEN,""),Object(x.a)(u,k.RINKEBY,"0x3044286BFc20080A1D2C06feC1953a0410a4E74c"),Object(x.a)(u,k.GOERLI,""),Object(x.a)(u,k.KOVAN,""),Object(x.a)(u,k.GANACHE,"0x81849Db26EAd5202fC67e69476a896c6950Eb126"),u),W=(d={},Object(x.a)(d,k.MAINNET,""),Object(x.a)(d,k.ROPSTEN,""),Object(x.a)(d,k.RINKEBY,"0x7a28B101eC1eE1B484a07633c339667BDE3d7A52"),Object(x.a)(d,k.GOERLI,""),Object(x.a)(d,k.KOVAN,""),Object(x.a)(d,k.GANACHE,"0xdfA0518846a46203131d52ECCd34965EE61346Fb"),l={},Object(x.a)(l,k.MAINNET,""),Object(x.a)(l,k.ROPSTEN,""),Object(x.a)(l,k.RINKEBY,"0x54b038278f791c511d1ba330C7B9A1578B350Deb"),Object(x.a)(l,k.GOERLI,""),Object(x.a)(l,k.KOVAN,""),Object(x.a)(l,k.GANACHE,"0xC3b7E041CF5Ee2d4372D12ED67a98DC87a3593Dd"),l),H=(b={},Object(x.a)(b,k.MAINNET,""),Object(x.a)(b,k.ROPSTEN,""),Object(x.a)(b,k.RINKEBY,"0x80017f240cAd3d761aD7f729796b6275d0Ec57c6"),Object(x.a)(b,k.GOERLI,""),Object(x.a)(b,k.KOVAN,""),Object(x.a)(b,k.GANACHE,"0x4438bFC72E53eA66c24F8f4992997e9C8a425179"),b),q=(j={},Object(x.a)(j,k.MAINNET,""),Object(x.a)(j,k.ROPSTEN,""),Object(x.a)(j,k.RINKEBY,"0x7c3eE8016C8a4dF00672d2417DB7bbA18ff0b054"),Object(x.a)(j,k.GOERLI,""),Object(x.a)(j,k.KOVAN,""),Object(x.a)(j,k.GANACHE,"0x2Ab0c81b017a3a926E40136E28ba3e9b231fFd5b"),j),Y=(f={},Object(x.a)(f,k.MAINNET,""),Object(x.a)(f,k.ROPSTEN,""),Object(x.a)(f,k.RINKEBY,"0x01e79Fb7a697e871c763D681293eBae74f36CE88"),Object(x.a)(f,k.GOERLI,""),Object(x.a)(f,k.KOVAN,""),Object(x.a)(f,k.GANACHE,"0xFc889988C6e177C6C3c7A6D98Ef4A09f66B445E7"),f),z=(p={},Object(x.a)(p,k.MAINNET,""),Object(x.a)(p,k.ROPSTEN,""),Object(x.a)(p,k.RINKEBY,"0x98ED73779Bd0eD4b8fdA8026F60236CBcbdbb1a6"),Object(x.a)(p,k.GOERLI,""),Object(x.a)(p,k.KOVAN,""),Object(x.a)(p,k.GANACHE,"0xfBbE098b03865e5C6A64F81f0A475FD5c500DC9D"),p),K=(O={},Object(x.a)(O,k.MAINNET,""),Object(x.a)(O,k.ROPSTEN,""),Object(x.a)(O,k.RINKEBY,"0xF2Af0123caBad9Dc851C4BDcA1029b33287d2310"),Object(x.a)(O,k.GOERLI,""),Object(x.a)(O,k.KOVAN,""),Object(x.a)(O,k.GANACHE,"0xe6bbddF90c76552CbE1D0973F22fb5a975D5825D"),O),J=(h={},Object(x.a)(h,k.MAINNET,""),Object(x.a)(h,k.ROPSTEN,""),Object(x.a)(h,k.RINKEBY,"0x36615f472822bD067A4746E37267090428874974"),Object(x.a)(h,k.GOERLI,""),Object(x.a)(h,k.KOVAN,""),Object(x.a)(h,k.GANACHE,"0xF6677172474B23ae084347fF0c2E30E99aA9fAfd"),h),Q=(m={},Object(x.a)(m,k.MAINNET,""),Object(x.a)(m,k.ROPSTEN,""),Object(x.a)(m,k.RINKEBY,"0xa257cAa73C01B6748eA8edAfcC7c3B67538f773A"),Object(x.a)(m,k.GOERLI,""),Object(x.a)(m,k.KOVAN,""),Object(x.a)(m,k.GANACHE,"0xE62aEcA374e4a8486eB56FCC5e4091ee978e8005"),m),X=w,$="production"===g?k.MAINNET:"development"===g?k.RINKEBY:A?k[A]:k.GANACHE,Z="0x000000000000000000000000000000000000dead",ee="0x000000000000000000000000000000000000babe",te="0x00000000000000000000000000000000000FF1CE",ne="0x0000000000000000000000000000000000000000",re={development:"thelao",localhost:"thelao",production:"thelao"}[R||"localhost"],ae="production"===g?1e4:5e3},134:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return x}));var r,a,c=n(4),s=n.n(c),o=n(14),i=n(10),u=n(3),d=n(1),l=n(52),b=n.n(l),j=n(433),f=n.n(j),p=n(13),O=n(27),h="WEB3_CONNECT_CACHED_PROVIDER";function m(e,t){var n=t.type,r=t.payload;switch(n){case a.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case a.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case a.UPDATE:var c=r.provider,s=r.networkId,o=r.account,i=r.connected,d=r.web3Instance;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===c?{}:{provider:c}),void 0===s?{}:{networkId:s}),void 0===o?{}:{account:o}),void 0===i?{}:{connected:i}),void 0===d?{}:{web3Instance:d});case a.UPDATE_FROM_ERROR:var l=r.provider,b=r.networkId,j=r.account;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===l?{}:{provider:l}),void 0===b?{}:{networkId:b}),void 0===j?{}:{account:j}),{},{error:void 0});case a.ERROR:var f=r.error;return{provider:e.provider,error:f};case a.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case a.DEACTIVATE_PROVIDER:return{}}}function x(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(d.useReducer)(m,{}),l=Object(i.a)(c,2),j=l[0],x=l[1],v=n,N=t||p.g,A=Object(d.useCallback)(E,[j.web3Modal]),g=Object(d.useCallback)((function(){switch(N){case O.b.GOERLI:return O.c.GOERLI;case O.b.KOVAN:return O.c.KOVAN;case O.b.RINKEBY:return O.c.RINKEBY;case O.b.ROPSTEN:return O.c.ROPSTEN;case O.b.MAINNET:default:return O.c.MAINNET}}),[N]);function E(e){return I.apply(this,arguments)}function I(){return(I=Object(o.a)(s.a.mark((function e(t){var n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.web3Modal.connectTo(t);case 5:return w(n=e.sent),r=new b.a(n),e.next=10,r.eth.getAccounts();case 10:return c=e.sent,e.next=13,r.eth.net.getId();case 13:o=e.sent,x({type:a.UPDATE,payload:{account:c[0],connected:!0,provider:n,networkId:o,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function y(){return(y=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!j.provider.close){e.next=4;break}return e.next=4,j.provider.close();case 4:if(e.t0=j.web3Modal,!e.t0){e.next=8;break}return e.next=8,j.web3Modal.clearCachedProvider();case 8:x({type:a.DEACTIVATE_PROVIDER}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function w(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){x({type:a.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),x({type:a.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,A(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=j.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=j.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(d.useEffect)((function(){j.web3Modal||x({type:a.INIT_WEB3MODAL,payload:{web3Modal:new f.a({cacheProvider:!0,network:g(),providerOptions:r,theme:v})}})}),[g,r,v,j.web3Modal]),Object(d.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,A(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.web3Modal&&localStorage.getItem(h)&&function(t){e.apply(this,arguments)}(j.web3Modal.cachedProvider)}),[A,j.web3Modal]),Object(u.a)(Object(u.a)({},j),{},{onConnectTo:E,onDisconnect:function(){return y.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(a||(a={}))},15:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return j}));var a=n(10);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),s=c[0],o=c[1];t[s]="function"===typeof o?e:null}}function s(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function o(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=function(e){return e.toString().replace(/,/g,"")};var b=n(107);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e||"undefined"===typeof e)return"---";if(Object(b.a)(e)){var n=e.substring(0,t),r=e.substring(e.length-3);return n+"..."+r}return e}},16:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.DISTRIBUTE="distribute",e.FINANCING="financing",e.GUILDKICK="guildkick",e.ONBOARDING="onboarding",e.OFFCHAINVOTING="offchainvoting",e.MANAGING="managing",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.VOTING="voting",e.WITHDRAW="withdraw"}(r||(r={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(a||(a={}))},167:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(3),a=n(4),c=n.n(a),s=n(14),o="SET_CONNECTED_MEMBER",i="CLEAR_CONNECTED_MEMBER";function u(e,t){return function(){var n=Object(s.a)(c.a.mark((function n(a){var s,i,u,l,b;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=t.instance)&&e){n.next=4;break}return a(d()),n.abrupt("return");case 4:return n.prev=4,n.next=7,s.methods.memberAddressesByDelegatedKey(e).call({from:e});case 7:return i=n.sent,n.next=10,s.methods.isActiveMember(i).call({from:e});case 10:return u=n.sent,n.next=13,s.methods.getCurrentDelegateKey(i).call({from:e});case 13:l=n.sent,b=u&&!i.startsWith("0x0000000000"),a((c={delegateKey:l,isActiveMember:b,memberAddress:i},Object(r.a)({type:o},c))),n.next=22;break;case 18:throw n.prev=18,n.t0=n.catch(4),a(d()),n.t0;case 22:case"end":return n.stop()}var c}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}()}function d(){return{type:i}}},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(10),c=n(3),s=n(1),o=n(22),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.intervalMs,n=void 0===t?1e3:t,l=e.fadeInProps,b=Object(c.a)(Object(c.a)({},l),{},{inline:!0}),j=Object(s.useState)(1),f=Object(a.a)(j,2),p=f[0],O=f[1];return Object(s.useEffect)((function(){var e=setInterval((function(){return O((function(e){return(e+1)%i.length}))}),n);return function(){clearInterval(e)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{style:u,children:[Object(r.jsx)("span",{children:p>=0&&i[0]}),Object(r.jsx)("span",{children:p>=1&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},b),{},{children:i[1]}))}),Object(r.jsx)("span",{children:p>=2&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},b),{},{children:i[2]}))}),Object(r.jsx)("span",{children:p>=3&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},b),{},{children:i[3]}))})]}),Object(r.jsx)("span",{style:d,children:"\xa0"})]})}},192:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n.n(r),c=n(14),s=n(52),o=n.n(s);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(o.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l.a}));var r=n(4),a=n.n(r),c=n(14),s=n(10),o=n(1),i=n(13),u=n(46),d=n(15),l=n(95),b=n(9);function j(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(""),f=Object(s.a)(j,2),p=f[0],O=f[1],h=Object(o.useState)(!1),m=Object(s.a)(h,2),x=m[0],v=m[1],N=Object(o.useState)(),A=Object(s.a)(N,2),g=A[0],E=A[1],I=Object(o.useState)(b.e.STANDBY),y=Object(s.a)(I,2),w=y[0],C=y[1],_=Object(l.a)().networkId;function R(e){return function(t){C(b.e.PENDING),v(!1),_&&_!==i.b.GANACHE&&O("".concat(i.j[_],"/tx/").concat(t)),e&&e(t)}}function T(){return(T=Object(c.a)(a.a.mark((function e(){var t,n,c,s,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),O(""),C(b.e.AWAITING_CONFIRM),v(!0),n=i.length,c=new Array(n),s=0;s<n;s++)c[s]=i[s];return c[4]=R(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return o=e.sent,E(o),C(b.e.FULFILLED),t(),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),C(b.e.REJECTED),v(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:p,txIsPromptOpen:x,txReceipt:g,txSend:function(){return T.apply(this,arguments)},txStatus:w}}var f="https://ethgasstation.info/json/ethgasAPI.json";function p(){var e=Object(o.useState)(f),t=Object(s.a)(e,2),n=t[0],r=(t[1],Object(o.useState)()),a=Object(s.a)(r,2),c=a[0];a[1],Object(o.useRef)();return Object(o.useEffect)((function(){}),[n]),c}var O=n(19),h=n(39);function m(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(o.useState)(!1),a=Object(s.a)(r,2),c=a[0],u=a[1],d=Object(o.useState)(),b=Object(s.a)(d,2),j=b[0],f=b[1];return Object(o.useEffect)((function(){u(t===i.g),n&&t!==i.g?f(new Error("Please connect to the ".concat(i.c[i.g],"."))):f(void 0)}),[n,t]),{defaultChain:i.g,defaultChainError:j,isDefaultChain:c}}function x(){var e=m().isDefaultChain,t=Object(l.a)().web3Instance,n=Object(O.b)();function r(){return(r=Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(Object(h.s)(t));case 5:return r.next=7,n(Object(h.r)(t));case 7:return r.next=9,n(Object(h.q)(t));case 9:return r.next=11,n(Object(h.u)(t));case 11:return r.next=13,n(Object(h.v)(t));case 13:return r.next=15,n(Object(h.w)(t));case 15:return r.next=17,n(Object(h.y)(t));case 17:return r.next=19,n(Object(h.A)(t));case 19:return r.next=21,n(Object(h.p)(t));case 21:return r.next=23,n(Object(h.w)(t));case 23:return r.next=25,n(Object(h.x)(t));case 25:return r.next=27,n(Object(h.z)(t));case 27:return r.next=29,n(Object(h.t)(t));case 29:return r.next=31,n(Object(h.B)(t));case 31:r.next=36;break;case 33:throw r.prev=33,r.t0=r.catch(0),r.t0;case 36:case"end":return r.stop()}}),r,null,[[0,33]])})))).apply(this,arguments)}return Object(o.useCallback)((function(){return r.apply(this,arguments)}),[n,e,t])}function v(){var e=Object(O.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey}))||"",t=Object(O.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress}))||"",n=Object(l.a)().account,r=void 0===n?"":n;return Object(d.g)(r)===Object(d.g)(t)&&Object(d.g)(r)!==Object(d.g)(e)}n(134)},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(0),a=n(1),c=n(134),s=Object(a.createContext)({});function o(e){var t=e.children,n=e.defaultChain,a=e.defaultTheme,o=void 0===a?c.a.DARK:a,i=e.providerOptions,u={defaultChain:n,defaultTheme:o,providerOptions:i},d=Object(c.b)(u),l={account:d.account,connected:d.connected,onConnectTo:d.onConnectTo,onDisconnect:d.onDisconnect,networkId:d.networkId,provider:d.provider,providerOptions:i,web3Instance:d.web3Instance,web3Modal:d.web3Modal};return Object(r.jsx)(s.Provider,{value:l,children:t})}},207:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(r||(r={}))},208:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));var r=n(203),a=n(135);function c(){var e=Object(r.a)(["\n  query GetDao($id: ID) {\n    molochv3S(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalShares\n      bank {\n        id\n        bankAddress\n      }\n    }\n  }\n"]);return c=function(){return e},e}var s=Object(a.gql)(c());function o(){var e=Object(r.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    molochv3S(where: {daoAddress: $daoAddress}) {\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]);return o=function(){return e},e}var i=Object(a.gql)(o())},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(3),c=(n(1),n(931)),s=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},o={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(r.jsx)(c.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(r.jsx)("span",{style:Object(a.a)(Object(a.a)({},s(e)),o[n]),children:e.children}):Object(r.jsx)("div",{style:Object(a.a)(Object(a.a)({},s(e)),o[n]),children:e.children})}})}},27:function(e,t,n){"use strict";var r,a,c,s;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(s||(s={}))},31:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},39:function(e,t,n){"use strict";n.d(t,"o",(function(){return r.c})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return A})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return E})),n.d(t,"l",(function(){return I})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return w})),n.d(t,"r",(function(){return C})),n.d(t,"s",(function(){return _})),n.d(t,"x",(function(){return S})),n.d(t,"p",(function(){return D})),n.d(t,"z",(function(){return k})),n.d(t,"t",(function(){return P})),n.d(t,"w",(function(){return L})),n.d(t,"A",(function(){return F})),n.d(t,"y",(function(){return M})),n.d(t,"v",(function(){return B})),n.d(t,"u",(function(){return G})),n.d(t,"q",(function(){return V})),n.d(t,"B",(function(){return U}));var r=n(167),a=n(3),c=n(60),s=n(4),o=n.n(s),i=n(14),u=n(9),d=n(13),l=n(46),b=n(192),j=n(16),f="CONTRACT_BANK_EXTENSION",p="CONTRACT_CONFIGURATION",O="CONTRACT_DAO_FACTORY",h="CONTRACT_DAO_REGISTRY",m="CONTRACT_DISTRIBUTE",x="CONTRACT_FINANCING",v="CONTRACT_GUILDKICK",N="CONTRACT_MANAGING",A="CONTRACT_ONBOARDING",g="CONTRACT_RAGEQUIT",E="CONTRACT_TRIBUTE",I="CONTRACT_VOTING",y="CONTRACT_VOTING_OP_ROLLUP",w="CONTRACT_WITHDRAW";function C(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(7).then(n.t.bind(null,937,3));case 4:a=t.sent,c=a.default,s=c,i=d.e[d.g],u=new e.eth.Contract(s,i),r(W({type:O,abi:s,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function _(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(8).then(n.t.bind(null,938,3));case 4:if(a=t.sent,c=a.default,s=c,i=d.f){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(s,i),r(W({type:h,abi:s,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function R(e,t){return H({actionType:I,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.b.VotingContract,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,939,3))},web3Instance:e})}function T(e,t){return H({actionType:y,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.b.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,940,3))},web3Instance:e})}function S(e,t){return H({actionType:A,adapterNameForRedux:j.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(16).then(n.t.bind(null,941,3))},web3Instance:e})}function D(e,t){return H({actionType:f,adapterNameForRedux:j.a.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(5).then(n.t.bind(null,942,3))},web3Instance:e})}function k(e,t){return H({actionType:E,adapterNameForRedux:j.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,943,3))},web3Instance:e})}function P(e,t){return H({actionType:m,adapterNameForRedux:j.a.DISTRIBUTE,adapterOrExtensionName:u.a.distribute,contractAddress:t,lazyImport:function(){return n.e(9).then(n.t.bind(null,944,3))},web3Instance:e})}function L(e,t){return H({actionType:N,adapterNameForRedux:j.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(13).then(n.t.bind(null,945,3))},web3Instance:e})}function F(e,t){return H({actionType:w,adapterNameForRedux:j.a.WITHDRAW,adapterOrExtensionName:u.a.withdraw,contractAddress:t,lazyImport:function(){return n.e(20).then(n.t.bind(null,946,3))},web3Instance:e})}function M(e,t){return H({actionType:g,adapterNameForRedux:j.a.RAGEQUIT,adapterOrExtensionName:u.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(17).then(n.t.bind(null,947,3))},web3Instance:e})}function B(e,t){return H({actionType:v,adapterNameForRedux:j.a.GUILDKICK,adapterOrExtensionName:u.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,948,3))},web3Instance:e})}function G(e,t){return H({actionType:x,adapterNameForRedux:j.a.FINANCING,adapterOrExtensionName:u.a.financing,contractAddress:t,lazyImport:function(){return n.e(10).then(n.t.bind(null,949,3))},web3Instance:e})}function V(e,t){return H({actionType:p,adapterNameForRedux:j.a.CONFIGURATION,adapterOrExtensionName:u.a.configuration,contractAddress:t,lazyImport:function(){return n.e(6).then(n.t.bind(null,950,3))},web3Instance:e})}function U(e,t){return function(){var r=Object(i.a)(o.a.mark((function r(a,c){var s,d,b,j,f,p,O;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=34;break}return s=c().contracts.DaoRegistryContract,r.next=5,n.e(12).then(n.t.bind(null,951,3));case 5:if(d=r.sent,b=d.default,s){r.next=10;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),r.abrupt("return");case 10:if(j="",f=t||"",p=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new e.eth.Contract(b,n).methods.getAdapterName().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!f){r.next=17;break}return r.next=16,p(f);case 16:j=r.sent;case 17:if(f||j){r.next=24;break}return r.next=20,Object(l.c)(u.a.voting,null===(O=c().contracts.DaoRegistryContract)||void 0===O?void 0:O.instance);case 20:return f=r.sent,r.next=23,p(f);case 23:j=r.sent;case 24:r.t0=j,r.next="VotingContract"===r.t0?27:"OffchainVotingContract"===r.t0?30:33;break;case 27:return r.next=29,R(e,f)(a,c);case 29:return r.abrupt("return",r.sent);case 30:return r.next=32,T(e,f)(a,c);case 32:return r.abrupt("return",r.sent);case 33:throw new Error("Voting contract name could not be found.");case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 39:case"end":return r.stop()}}),r,null,[[0,36]])})));return function(e,t){return r.apply(this,arguments)}}()}function W(e){var t=e.type,n=Object(c.a)(e,["type"]);return Object(a.a)({type:t},n)}function H(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,s=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(o.a.mark((function e(c,i){var j,f,p,O,h,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(p=e.sent,O=p.default,h=O,e.t0=a,e.t0){e.next=18;break}if(!s){e.next=14;break}return e.next=11,Object(b.a)(r,null===(j=i().contracts.DaoRegistryContract)||void 0===j?void 0:j.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(l.c)(r,null===(f=i().contracts.DaoRegistryContract)||void 0===f?void 0:f.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(W({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new d.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return M}));var r=n(3),a=n(4),c=n.n(a),s=n(0),o=n(14),i=n(10),u=n(1),d=n(19),l=n(17),b=n(9),j=n(46),f=n(13),p=n(71),O=n(81),h=n(20),m=n(115),x=n(47),v=n(76),N=n(22),A=n(57);function g(e){var t=e.adapterName,n=e.proposal.snapshotProposal,a=Object(u.useState)(b.e.STANDBY),g=Object(i.a)(a,2),E=g[0],I=g[1],y=Object(u.useState)(),w=Object(i.a)(y,2),C=w[0],_=w[1],R=Object(d.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),T=Object(d.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.instance.methods})),S=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),D=Object(d.c)((function(e){return e.contracts})),k=Object(h.f)(),P=k.account,L=k.provider,F=Object(h.a)(),M=F.txEtherscanURL,B=F.txIsPromptOpen,G=F.txSend,V=F.txStatus,U=Object(O.e)(),W=U.isDisabled,H=U.openWhyDisabledModal,q=U.WhyDisabledModal,Y=Object(h.b)(),z=E===b.e.AWAITING_CONFIRM||E===b.e.PENDING||V===b.e.AWAITING_CONFIRM||V===b.e.PENDING,K=V===b.e.FULFILLED&&E===b.e.FULFILLED,J=z||K||B;function Q(){return(Q=Object(o.a)(c.a.mark((function e(){var a,s,i,u,d,O,h,m,x,v,N,A,g,E,y;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(n.votes){e.next=7;break}throw new Error("No Snapshot proposal votes were found.");case 7:return I(b.e.AWAITING_CONFIRM),a=n.idInDAO,s=Object(j.d)(t,D),i=n.votes.map(function(){var e=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t)[0],e.t0=l.createVote,e.t1=a,e.t2=r.address,e.t3=r.msg.payload.choice===l.VoteChoicesIndex.Yes,e.t4=Number(r.msg.timestamp),e.t5=r.sig,e.next=9,R.getPriorAmount(r.address,f.w,n.msg.payload.snapshot).call();case 9:return e.t6=e.sent,e.t7={proposalHash:e.t1,account:e.t2,voteYes:e.t3,timestamp:e.t4,sig:e.t5,weight:e.t6},e.abrupt("return",(0,e.t0)(e.t7));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=l.prepareVoteResult,e.t1=s,e.t2=f.g,e.t3=S,e.next=17,Promise.all(i);case 17:return e.t4=e.sent,e.t5={actionId:e.t1,chainId:e.t2,daoAddress:e.t3,votes:e.t4},e.next=21,(0,e.t0)(e.t5);case 21:return u=e.sent,d=u.voteResultTree,O=u.votes,h=d.getHexRoot(),m=Object(l.toStepNode)({actionId:s,chainId:f.g,merkleTree:d,step:O[O.length-1],verifyingContract:S}),x=Object(l.getVoteResultRootDomainDefinition)(S,s,f.g),v=x.domain,N=x.types,A=JSON.stringify({domain:v,message:{root:h},primaryType:p.a,types:N}),e.next=30,Object(l.signMessage)(L,P,A);case 30:return g=e.sent,I(b.e.FULFILLED),E=[S,a,h,Object(r.a)(Object(r.a)({},m),{},{rootSig:g})],y=Object(r.a)({from:P||""},Y?{gasPrice:Y.fast}:null),e.next=36,G("submitVoteResult",T,E,y);case 36:e.next=42;break;case 38:e.prev=38,e.t6=e.catch(0),_(e.t6),I(b.e.REJECTED);case 42:case"end":return e.stop()}}),e,null,[[0,38]])})))).apply(this,arguments)}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:"proposaldetails__button",disabled:W||J,onClick:W||J?function(){}:function(){return Q.apply(this,arguments)},children:z?Object(s.jsx)(A.a,{}):K?"Done":"Submit Vote Result"}),Object(s.jsx)(x.a,{error:C,renderText:"Something went wrong"}),J&&Object(s.jsx)("div",{className:"form__submit-status-container",children:function(){if(V===b.e.AWAITING_CONFIRM||E===b.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(V){case b.e.PENDING:return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{intervalMs:2e3,messages:p.b,useFirstItemStart:!0,render:function(e){return Object(s.jsx)(N.a,{children:e},e)}}),Object(s.jsx)(v.a,{url:M,isPending:!0})]});case b.e.FULFILLED:return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:"Result submitted!"}),Object(s.jsx)(v.a,{url:M})]});default:return null}}()}),W&&Object(s.jsx)("button",{className:"button--help",onClick:H,children:"Why is submitting disabled?"})]}),Object(s.jsx)(q,{title:"Why is this disabled?"})]})}var E=n(15);var I=n(58);function y(e){var t,n,a,j=e.adapterName,f=e.proposal,p=Object(u.useState)(),m=Object(i.a)(p,2),v=m[0],N=m[1],A=Object(u.useState)(),g=Object(i.a)(A,2),y=g[0],w=g[1],C=Object(u.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),_=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),R=Object(h.f)().account,T=Object(I.e)(),S=T.signAndSendVote,D=T.voteDataStatus,k=Object(h.d)(),P=function(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(i.a)(e,2),r=n[0];return n[1],Object(E.g)(r)===Object(E.g)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===l.VoteChoicesIndex.Yes?b.d.Yes:b.d.No}(null===(t=f.snapshotProposal)||void 0===t?void 0:t.votes,R||""),L=Object(O.e)(),F=L.isDisabled,B=L.openWhyDisabledModal,G=L.setOtherDisabledReasons,V=L.WhyDisabledModal,U=(null===(n=f.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",W=(null===(a=f.snapshotProposal)||void 0===a?void 0:a.idInSnapshot)||"",H=D===b.e.AWAITING_CONFIRM||D===b.e.PENDING,q=D===b.e.FULFILLED,Y=F||(H||q),z=H?v:void 0;function K(){return(K=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(W){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return N(l.VoteChoices[t]),e.next=8,S({partialVoteData:{choice:t},adapterName:j,proposalIdInDAO:U,proposalIdInSnapshot:W});case 8:return e.next=10,f.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),w(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){if(_){var e=k?"Your member address is delegated to ".concat(_,". You must use that address to vote."):"";C.current=Object(r.a)(Object(r.a)({},C.current),{},{addressIsDelegatedMessage:e})}C.current=Object(r.a)(Object(r.a)({},C.current),{},{alreadyVotedMessage:P?"You have already voted.":""}),G(Object.values(C.current))}),[_,k,G,P]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(M,{onClick:Y?function(){}:function(e){return K.apply(this,arguments)},buttonProps:{disabled:Y,"aria-disabled":Y},voteChosen:P,voteProgress:z}),Object(s.jsx)(x.a,{error:y,renderText:"Something went wrong"}),F&&Object(s.jsx)("button",{className:"button--help",onClick:B,children:"Why is voting disabled?"}),Object(s.jsx)(V,{title:"Why is voting disabled?"})]})}var w=n(190);function C(e){var t=e.startLabel,n=e.startPeriodMs,r=e.endLabel,a=e.endedLabel,c=e.endPeriodMs,o=Object(u.useState)(null),d=Object(i.a)(o,2),l=d[0],b=d[1],j=Object(u.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),r=n.days,a=n.hours,c=n.minutes,o=n.seconds;return r>2&&t?"~".concat(r," days"):r>0?"".concat(f(r,"day")," : ").concat(f(a,"hr")," : ").concat(f(c,"min")):a>0?"".concat(f(a,"hr")," : ").concat(f(c,"min")):c>0?"".concat(f(c,"min")," : ").concat(f(o,"sec")):Object(s.jsx)("span",{className:"color-brightsalmon",children:f(o,"sec")})}),[]);function f(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(u.useEffect)((function(){var e=setInterval((function(){var o=new Date,i=new Date(n),u=new Date(c);if(o<i){var d=Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(s.jsx)("span",{className:"votingstatus__timer",children:j(i,!0)})]});b(d)}else if(o<u){var l=Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{className:"votingstatus",children:r||"Ends:"})," ",Object(s.jsx)("span",{className:"votingstatus__timer",children:j(u)})]});b(l)}else{b(Object(s.jsx)("span",{className:"votingstatus",children:a||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[j,r,c,a,t,n]),Object(s.jsx)("div",{children:l})}function _(e){return Object(s.jsxs)("svg",Object(r.a)(Object(r.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(s.jsx)("defs",{children:Object(s.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(s.jsxs)("g",{id:"Group-70",children:[Object(s.jsx)("mask",{id:"mask-2",fill:"white",children:Object(s.jsx)("use",{xlinkHref:"#path-1"})}),Object(s.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function R(e){var t=e.hasVotingEnded,n=e.noShares,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,o=void 0===c||c,i=e.totalShares,u=e.yesShares,d=r();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"votingstatus-container",children:[Object(s.jsx)(_,{"aria-label":"Counting down until voting ends",role:"img"}),d&&Object(s.jsx)("span",{className:"votingstatus",children:d}),a(C)]}),Object(s.jsx)(F,{yesShares:u,noShares:n,totalShares:i,votingExpired:t,showPercentages:o})]})}var T=Object(s.jsxs)("span",{children:["Grace period ends:",Object(s.jsx)("br",{})]}),S=Object(s.jsxs)("span",{children:["Grace period ended ",Object(s.jsx)("br",{})," ",Object(s.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),D={duration:150};function k(e){var t=e.countdownGracePeriodStartMs,n=e.proposal,r=n.snapshotProposal,a=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),c=Object(u.useState)(),o=Object(i.a)(c,2),l=o[0],f=o[1],p=Object(u.useState)(0),O=Object(i.a)(p,2),h=O[0],m=O[1],x=Object(I.b)(n),v=x.hasOffchainVotingStarted,N=x.hasOffchainVotingEnded,A=x.offchainVotingStartEndInitReady,g=Object(I.a)(n),E=(null===r||void 0===r?void 0:r.msg.payload.start)||0,y=(null===r||void 0===r?void 0:r.msg.payload.end)||0,C=(null===g||void 0===g?void 0:g.Yes.shares)||0,_=(null===g||void 0===g?void 0:g.No.shares)||0,k=null===g||void 0===g?void 0:g.totalShares;return Object(u.useEffect)((function(){N&&f(C>_)}),[N,_,C]),Object(u.useEffect)((function(){t&&a&&Object(j.f)(b.b.offchainVotingGracePeriod,a).then((function(e){return e&&m(1e3*Number(e))})).catch((function(){return m(0)}))}),[t,a]),Object(s.jsx)(R,{renderTimer:function(e){return A&&v&&!N?Object(s.jsx)(e,{startPeriodMs:1e3*E,endPeriodMs:1e3*y}):t&&h?Object(s.jsx)(e,{startPeriodMs:t,endLabel:T,endedLabel:S,endPeriodMs:t+h}):void 0},renderStatus:function(){return A?t?"":"boolean"===typeof l?l?"Approved":"Failed":void 0:Object(s.jsx)(w.a,{intervalMs:200,fadeInProps:D})},hasVotingEnded:N,noShares:_,totalShares:k,yesShares:C})}function P(e){return Object(s.jsx)("svg",Object(r.a)(Object(r.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(s.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function L(e,t){return(e/t*100).toFixed(0)}function F(e){var t=e.yesShares,n=void 0===t?0:t,r=e.noShares,a=void 0===r?0:r,c=e.totalShares,o=e.votingExpired,i=e.showPercentages,u=c?L(n,c):"0",d=c?L(a,c):"0";return Object(s.jsxs)("div",{className:"votingbar-container",children:[Object(s.jsxs)("div",{className:"votingbar",children:[Object(s.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(u,"% yes votes"),style:{width:"".concat(u,"%")}}),Object(s.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(d,"% no votes"),style:{width:"".concat(d,"%")}})]}),Object(s.jsx)("div",{className:"votingbar__percentages",children:i&&Object(s.jsxs)(s.Fragment,{children:[o&&n>a&&Object(s.jsx)("span",{className:"yes-check",children:Object(s.jsx)(P,{"aria-label":"Vote has passed"})}),Object(s.jsxs)("span",{className:"yes-percent",children:[u,"%"]}),Object(s.jsxs)("span",{className:"no-percent",children:[d,"%"]}),o&&n<=a&&Object(s.jsx)("span",{className:"no-check",children:Object(s.jsx)(P,{"aria-label":"Vote has failed"})})]})})]})}function M(e){var t=e.buttonProps,n=e.onClick,a=e.voteChosen,c=e.voteProgress,o=function(e){return a===e?"votingbutton--voted":""};function i(e){return c===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function u(e){return c===e?Object(s.jsx)(A.a,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):a===e?"Voted ".concat(e):"Vote ".concat(e)}function d(e){return function(){n(e)}}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(o(l.VoteChoices.Yes)),onClick:d(l.VoteChoices.Yes),children:u(l.VoteChoices.Yes)})),Object(s.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(o(l.VoteChoices.No)),onClick:d(l.VoteChoices.No),children:u(l.VoteChoices.No)}))]})}},444:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},46:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return y}));var r=n(4),a=n.n(r),c=n(3),s=n(33),o=n(14);function i(e,t,n,r,a){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(t,n,r,i,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(o,d){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n[t],e.next=4,l.apply(void 0,Object(s.a)(r)).estimateGas({from:i.from,value:i.value});case 4:return b=e.sent,e.next=7,l.apply(void 0,Object(s.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:b})).on("transactionHash",(function(e){u&&u(e)})).on("receipt",(function(e){o(e)})).on("error",(function(e){d(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(52),l=n.n(d);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var f=n(9);function p(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function O(e,t){try{switch(e){case f.a.configuration:return"";case f.a.distribute:return p(t.DistributeContract);case f.a.financing:case f.a.guildkick:return"";case f.a.managing:return p(t.ManagingContract);case f.a.onboarding:return p(t.OnboardingContract);case f.a.ragequit:return"";case f.a.tribute:return p(t.TributeContract);case f.a.voting:return p(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var h=n(15);function m(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(h.g)(t.contractAddress)===Object(h.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function x(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N;n(192);function A(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return n=t.methods,e.next=6,n.state().call();case 6:return r=e.sent,e.abrupt("return",0===Number(r)?N.CREATION:N.READY);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(N||(N={}));var E=n(10),I=n(13);function y(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(a.a.mark((function e(t){var r,c,s,o,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,s=t.calls,o=t.web3Instance,e.next=3,n.e(14).then(n.t.bind(null,952,3));case 3:if(i=e.sent,u=i.default,I.s){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new o.eth.Contract(u,I.s),l=d.methods,e.next=12,l.aggregate(s.map((function(e){var t=Object(E.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),o.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=s[t][1].outputs||[],r=o.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:o.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},465:function(e,t){},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n(0),c=(n(1),n(22));function s(e){var t=e.error,n=e.renderText;return t&&4001!==(null===t||void 0===t?void 0:t.code)?Object(a.jsx)(c.a,{children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(a.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(a.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(a.jsx)("small",{children:"Details"})}),Object(a.jsx)("p",{className:"error-message",children:Object(a.jsx)("small",{children:t.message})})]}))]})}):null}},505:function(e,t){},507:function(e,t){},517:function(e,t){},519:function(e,t){},545:function(e,t){},547:function(e,t){},548:function(e,t){},553:function(e,t){},555:function(e,t){},568:function(e,t){},57:function(e,t,n){"use strict";var r=n(0),a=n(10),c=n(60),s=n(3),o=n(1);function i(e){return Object(r.jsx)("div",Object(s.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,u=e.textProps,d=Object(c.a)(e,["showAfterMs","text","textProps"]),l=Object(o.useState)(!1),b=Object(a.a)(l,2),j=b[0],f=b[1];return Object(o.useEffect)((function(){var e=t&&setTimeout((function(){return f(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&j)&&e.text?Object(r.jsxs)("div",{className:"loader-container",children:[Object(r.jsx)(i,Object(s.a)({},d)),Object(r.jsx)("span",Object(s.a)(Object(s.a)({className:"loader-text"},u),{},{children:n}))]}):(!t||t&&j)&&!e.text?Object(r.jsx)(i,Object(s.a)({},d)):null}},58:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return w})),n.d(t,"e",(function(){return R})),n.d(t,"f",(function(){return T}));var r=n(4),a=n.n(r),c=n(3),s=n(441),o=n(33),i=n(8),u=n(14),d=n(10),l=n(17),b=n(1),j=n(19),f=n(46),p=n(13),O=n(20),h=n(9);function m(e){var t=e.snapshotProposal,n=null===t||void 0===t?void 0:t.votes,r=null===t||void 0===t?void 0:t.msg.payload.snapshot,m=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),x=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),v=Object(b.useState)(),N=Object(d.a)(v,2),A=N[0],g=N[1],E=Object(b.useState)(),I=Object(d.a)(E,2),y=I[0],w=I[1],C=Object(O.f)().web3Instance,_=null===m||void 0===m?void 0:m.find((function(e){return"getPriorAmount"===e.name})),R=Object(b.useCallback)((function(){return T.apply(this,arguments)}),[x,_,r,A,C]);function T(){return(T=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,O,m,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x&&_&&A){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("No snapshot was found.");case 5:return t={},Object(i.a)(t,h.d.Yes,{percentage:0,shares:0}),Object(i.a)(t,h.d.No,{percentage:0,shares:0}),Object(i.a)(t,"totalShares",0),n=t,u=[x,_,[p.z,p.w,r.toString()]],b=A.map((function(e){var t=Object(d.a)(e,1)[0];return[x,_,[t,p.w,r.toString()]]})),j=[u].concat(Object(o.a)(b)),e.next=11,Object(f.h)({calls:j,web3Instance:C});case 11:O=e.sent,m=Object(s.a)(O),v=m[0],m.slice(1).forEach((function(e,t){var r=l.VoteChoicesIndex[A[t][1]]===l.VoteChoicesIndex[l.VoteChoicesIndex.Yes]?h.d.Yes:h.d.No;n[r].shares+=Number(e)})),n[h.d.Yes].percentage=n[h.d.Yes].shares/Number(v)*100,n[h.d.No].percentage=n[h.d.No].shares/Number(v)*100,n.totalShares=Number(v),w((function(e){return Object(c.a)(Object(c.a)({},e),n)})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),w(void 0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(n){var e=n.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}));g(Object.entries(Object.fromEntries(e)))}}),[n]),Object(b.useEffect)((function(){R()}),[R]),y}var x=n(31);function v(e){var t=e.snapshotProposal,n=Object(b.useRef)({start:x.a.STANDBY,end:x.a.STANDBY}),r=Object(b.useState)(!1),a=Object(d.a)(r,2),c=a[0],s=a[1],o=Object(b.useState)(!1),i=Object(d.a)(o,2),u=i[0],j=i[1],f=Object(b.useState)(m(n.current)),p=Object(d.a)(f,2),O=p[0],h=p[1];function m(e){return Object.values(e).every((function(e){return e===x.a.FULFILLED}))}return Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!c){h((function(){return n.current.start=x.a.PENDING,m(n.current)}));var e=setInterval((function(){h((function(){return n.current.start=x.a.FULFILLED,m(n.current)}));var e=Math.floor(Date.now()/1e3)>t.msg.payload.start;e&&s(e)}),1e3);return function(){clearInterval(e)}}h((function(){return n.current.start=x.a.FULFILLED,m(n.current)}))}),[c,null===t||void 0===t?void 0:t.msg.payload.start,null===t||void 0===t?void 0:t.msg.type]),Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!u){h((function(){return n.current.end=x.a.PENDING,m(n.current)}));var e=setInterval((function(){h((function(){return n.current.end=x.a.FULFILLED,m(n.current)}));var e=Math.ceil(Date.now()/1e3)>t.msg.payload.end;e&&j(e)}),1e3);return function(){clearInterval(e)}}h((function(){return n.current.end=x.a.FULFILLED,m(n.current)}))}),[u,null===t||void 0===t?void 0:t.msg.payload.end,null===t||void 0===t?void 0:t.msg.type]),{hasOffchainVotingStarted:c,hasOffchainVotingEnded:u,offchainVotingStartEndInitReady:O}}var N=n(81),A="Something went wrong while getting the proposal.",g="Proposal was not found.";function E(e,t){var n=Object(b.useState)(),r=Object(d.a)(n,1)[0],s=Object(b.useState)(),o=Object(d.a)(s,2),i=o[0],j=o[1],f=Object(b.useState)(),O=Object(d.a)(f,2),h=O[0],m=O[1],v=Object(b.useState)(!1),E=Object(d.a)(v,2),I=E[0],y=E[1],w=Object(b.useState)(),C=Object(d.a)(w,2),_=C[0],R=C[1],T=Object(b.useState)(x.a.STANDBY),S=Object(d.a)(T,2),D=S[0],k=S[1],P=Object(N.a)(),L=P.abortController,F=P.isMountedRef,M=Object(N.b)(),B=Object(d.a)(M,2),G=B[0],V=B[1],U=Object(b.useCallback)((function(){return z.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,F,G]),W=Object(b.useCallback)((function(){return K.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,F,G,t]),H=Object(b.useCallback)((function(){return J.apply(this,arguments)}),[U,W]),q=h?l.SnapshotType.proposal:i?l.SnapshotType.draft:void 0,Y=i||h?{daoProposal:r,getCommonSnapshotProposalData:function(){switch(q){case l.SnapshotType.draft:return i;case l.SnapshotType.proposal:return h;default:return}},refetchProposalOrDraft:function(){V({type:"increment"})},snapshotDraft:i,snapshotProposal:h,snapshotType:q}:void 0;function z(){return(z=Object(u.a)(a.a.mark((function t(){var n,r,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===G&&k(x.a.PENDING),t.next=4,fetch("".concat(p.x,"/api/").concat(p.y,"/draft/").concat(e),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(A);case 7:return t.next=9,n.json();case 9:if(r=t.sent,F.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw y(!0),new Error(g);case 15:return s=Object.keys(r)[0],o=Object(c.a)({idInDAO:s,idInSnapshot:s},r[s]),k(x.a.FULFILLED),j(o),t.abrupt("return",o);case 22:t.prev=22,t.t0=t.catch(0),k(x.a.REJECTED),R(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function K(){return(K=Object(u.a)(a.a.mark((function n(){var r,s,o,i,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,0===G&&k(x.a.PENDING),n.next=4,fetch("".concat(p.x,"/api/").concat(p.y,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((s=n.sent).ok){n.next=9;break}if(t!==l.SnapshotType.proposal){n.next=8;break}throw new Error(A);case 8:return n.abrupt("return");case 9:return n.next=11,s.json();case 11:if(o=n.sent,F.current){n.next=14;break}return n.abrupt("return");case 14:if(o&&Object.keys(o).length){n.next=19;break}if(t!==l.SnapshotType.proposal){n.next=18;break}throw y(!0),new Error(g);case 18:return n.abrupt("return");case 19:return i=Object.keys(o)[0],u=(null===(r=o[i])||void 0===r?void 0:r.data.erc712DraftHash)||i,d=Object(c.a)({idInDAO:u,idInSnapshot:i},o[i]),k(x.a.FULFILLED),m(d),n.abrupt("return",d);case 27:n.prev=27,n.t0=n.catch(0),k(x.a.REJECTED),R(n.t0);case 31:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(t=e.sent){e.next=9;break}return e.next=6,U();case 6:return n=e.sent,j(n),e.abrupt("return");case 9:m(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(null===L||void 0===L?void 0:L.signal)switch(t){case l.SnapshotType.draft:U();break;case l.SnapshotType.proposal:W();break;default:H()}}),[null===L||void 0===L?void 0:L.signal,U,W,H,t]),{proposalData:Y,proposalError:_,proposalNotFound:I,proposalStatus:D}}var I=n(62),y=n(207);function w(e){var t=e.snapshotDraft,n=e.snapshotProposal,r=(null===t||void 0===t?void 0:t.idInDAO)||(null===n||void 0===n?void 0:n.idInDAO),c=Object(O.f)().web3Instance,s=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),o=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),i=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.contractAddress})),l=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.abi})),p=Object(b.useState)(),h=Object(d.a)(p,2),m=h[0],x=h[1],N=Object(b.useState)(),A=Object(d.a)(N,2),g=A[0],E=A[1],w=Object(b.useState)(),C=Object(d.a)(w,2),_=C[0],R=C[1],T=Object(b.useRef)(),S=v(e),D=S.hasOffchainVotingStarted,k=S.hasOffchainVotingEnded,P=S.offchainVotingStartEndInitReady,L=Object(b.useCallback)((function(){return W.apply(this,arguments)}),[o,s,l,i,r,c]),F=!!m&&I.b[m.flags]===I.b[I.b.EXISTS],M=!!m&&I.b[m.flags]===I.b[I.b.SPONSORED],B=!!m&&I.b[m.flags]===I.b[I.b.PROCESSED],G=g&&g.reporter&&!g.reporter.startsWith("0x00000000000")&&g.resultRoot&&!g.resultRoot.startsWith("0x00000000000"),V=_&&y.a[_]===y.a[y.a.GRACE_PERIOD];function U(e,t){return{status:e,transitionMessage:t,daoProposal:m,daoProposalVoteResult:_,daoProposalVotes:g}}function W(){return(W=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,p,O,h,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o&&s&&l&&i&&r){e.next=3;break}return e.abrupt("return");case 3:return t=o.filter((function(e){return"proposals"===e.name}))[0],n=l.filter((function(e){return"voteResult"===e.name}))[0],u=l.filter((function(e){return"votes"===e.name}))[0],b=[[s,t,[r]],[i,u,[s,r]],[i,n,[s,r]]],e.next=9,Object(f.h)({calls:b,web3Instance:c});case 9:j=e.sent,p=Object(d.a)(j,3),O=p[0],h=p[1],m=p[2],x(O),E(h),R(m),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){L();var e=setInterval(L,5e3);T.current=e}),[L]),Object(b.useEffect)((function(){return B&&T.current&&clearInterval(T.current),function(){T.current&&clearInterval(T.current)}}),[B]),P&&!D&&F?U(I.c.Sponsor):P&&D&&!k&&M?U(I.c.OffchainVoting):P&&k&&M&&!G?U(I.c.OffchainVotingSubmitResult):P&&k&&M&&G&&V?U(I.c.OffchainVotingGracePeriod):M&&P&&k&&G&&!V?U(I.c.Process):B?U(I.c.Completed):{status:void 0,transitionMessage:void 0,daoProposal:m,daoProposalVoteResult:_,daoProposalVotes:g}}var C=n(71),_=n(95);function R(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){return e.contracts})),n=Object(_.a)(),r=n.account,s=n.provider,o=n.web3Instance,i=Object(b.useState)(),O=Object(d.a)(i,2),m=O[0],x=O[1],v=Object(b.useState)(),N=Object(d.a)(v,2),A=N[0],g=N[1],E=Object(b.useState)(h.e.STANDBY),I=Object(d.a)(E,2),y=I[0],w=I[1];function R(){return(R=Object(u.a)(a.a.mark((function n(i){var u,d,b,j,O,m,v,N,A,E,I,y,_,R,T,S,D,k,P,L,F,M,B;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=i.partialVoteData,d=i.adapterName,b=i.proposalIdInDAO,j=i.proposalIdInSnapshot,n.prev=1,o){n.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(r){n.next=6;break}throw new Error("No account was found.");case 6:if(e){n.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(p.x){n.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:return w(h.e.AWAITING_CONFIRM),O=Object(f.d)(d,t),m=u.choice,v=u.delegateAddress,N=u.metadata,A=void 0===N?{}:N,n.next=15,Object(l.getSpace)(p.x,p.y);case 15:return E=n.sent,I=E.data,y={chainId:p.g,choice:m,metadata:Object(c.a)(Object(c.a)({},A),{},{memberAddress:v||r})},_={proposalHash:b,space:p.y,token:I.token},n.next=21,Object(l.buildVoteMessage)(y,_,p.x);case 21:return R=n.sent,T=Object(l.prepareVoteMessage)({timestamp:R.timestamp,payload:{proposalHash:R.payload.proposalHash,choice:l.VoteChoicesIndex[m]}}),S=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},T),{},{type:l.SnapshotType.vote}),e,O,p.g),D=S.domain,k=S.types,P=JSON.stringify({types:k,domain:D,primaryType:C.a,message:T}),n.next=27,Object(l.signMessage)(s,r,P);case 27:return L=n.sent,w(h.e.PENDING),n.next=31,Object(l.submitMessage)(p.x,r,Object(c.a)(Object(c.a)({},R),{},{payload:Object(c.a)(Object(c.a)({},R.payload),{},{proposalHash:j})}),L,{actionId:D.actionId,chainId:D.chainId,verifyingContract:D.verifyingContract,message:T});case 31:return F=n.sent,M=F.data,B={data:R,signature:L,uniqueId:M.uniqueId},w(h.e.FULFILLED),x(B),n.abrupt("return",B);case 39:throw n.prev=39,n.t0=n.catch(1),w(h.e.REJECTED),g(n.t0),n.t0;case 44:case"end":return n.stop()}}),n,null,[[1,39]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return R.apply(this,arguments)},voteData:m,voteDataError:A,voteDataStatus:y}}function T(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(j.c)((function(e){return e.contracts})),r=Object(_.a)(),s=r.account,o=r.provider,i=r.web3Instance,O=Object(b.useState)(),m=Object(d.a)(O,2),x=m[0],v=m[1],N=Object(b.useState)(),A=Object(d.a)(N,2),g=A[0],E=A[1],I=Object(b.useState)(h.e.STANDBY),y=Object(d.a)(I,2),w=y[0],R=y[1];function T(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(a.a.mark((function e(n){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.x){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,i.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Object(f.f)(h.b.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,s=(0,e.t0)(e.t1),e.next=12,Object(l.buildProposalMessage)(Object(c.a)(Object(c.a)({},n),{},{votingTimeSeconds:s,snapshot:r}),p.x);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(u.a)(a.a.mark((function t(r){var u,d,b,j,O,m,x,N,A,g,I,y,w,_,S,D,k,P,L,F,M,B;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.partialProposalData,d=r.adapterAddress,b=r.adapterName,j=r.type,t.prev=1,s){t.next=4;break}throw new Error("No account was found to send.");case 4:if(i){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(p.x){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(j===l.SnapshotType.draft||j===l.SnapshotType.proposal){t.next=12;break}throw new Error('Handling for type "vote" is not implemented.');case 12:return R(h.e.AWAITING_CONFIRM),O=d||(b?Object(f.d)(b,n):""),m=u.body,x=u.name,N=u.metadata,A=u.timestamp,t.next=17,Object(l.getSpace)(p.x,p.y);case 17:if(g=t.sent,I=g.data,y={name:x,body:m,metadata:N,token:I.token,space:p.y},j!==l.SnapshotType.draft){t.next=26;break}return t.next=23,Object(l.buildDraftMessage)(y,p.x);case 23:t.t0=t.sent,t.next=29;break;case 26:return t.next=28,T(Object(c.a)(Object(c.a)({},y),{},{timestamp:A}));case 28:t.t0=t.sent;case 29:return w=t.t0,_=j===l.SnapshotType.draft?Object(l.prepareDraftMessage)(w):Object(l.prepareProposalMessage)(w),S=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},_),{},{type:j}),e,O,p.g),D=S.domain,k=S.types,P=JSON.stringify({types:k,domain:D,primaryType:C.a,message:_}),t.next=35,Object(l.signMessage)(o,s,P);case 35:return L=t.sent,R(h.e.PENDING),t.next=39,Object(l.submitMessage)(p.x,s,w,L,{actionId:D.actionId,chainId:D.chainId,verifyingContract:D.verifyingContract,message:_});case 39:return F=t.sent,M=F.data,B={data:w,signature:L,uniqueId:M.uniqueId,uniqueIdDraft:M.uniqueIdDraft||""},R(h.e.FULFILLED),v(B),t.abrupt("return",B);case 47:throw t.prev=47,t.t1=t.catch(1),R(h.e.REJECTED),E(t.t1),t.t1;case 52:case"end":return t.stop()}}),t,null,[[1,47]])})))).apply(this,arguments)}return{proposalData:x,proposalSignAndSendError:g,proposalSignAndSendStatus:w,signAndSendProposal:function(e){return D.apply(this,arguments)}}}},580:function(e,t){},583:function(e,t){},62:function(e,t,n){"use strict";var r,a,c;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),function(e){e[e.EXISTS=1]="EXISTS",e[e.SPONSORED=3]="SPONSORED",e[e.PROCESSED=7]="PROCESSED"}(r||(r={})),function(e){e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.DONE=2]="DONE",e[e.FAILED=3]="FAILED"}(c||(c={}))},623:function(e,t){},625:function(e,t){},653:function(e,t){},656:function(e,t){},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(9),a=(r.d.Yes,r.d.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},719:function(e,t){},739:function(e,t){},746:function(e,t){},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},763:function(e,t){},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return v}));var r=n(10),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return s.current=!0,!n&&c(new AbortController),function(){s.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:s}}var s={count:0};function o(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(o,s),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}var u=n(936),d=n(19),l=n(208);function b(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(u.useLazyQuery)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(r.a)(t,2),c=n[0],s=n[1],o=s.called,i=s.loading,b=s.data,j=s.error,f=Object(a.useState)(),p=Object(r.a)(f,2),O=p[0],h=p[1],m=Object(a.useState)(),x=Object(r.a)(m,2),v=x[0],N=x[1],A=Object(a.useCallback)((function(){try{if(!i&&b){if(h(b.molochv3S[0]),0===b.molochv3S.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){N(j)}}),[null===e||void 0===e?void 0:e.contractAddress,b,j,i]);return Object(a.useEffect)((function(){o||c()}),[o,c]),Object(a.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&A()}),[null===e||void 0===e?void 0:e.contractAddress,A,i]),{dao:O,gqlError:v}}function j(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var f=n(0),p=n(148),O=n.n(p),h=n(20),m=n(22),x=n(117);function v(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(r.a)(s,2),i=o[0],u=o[1],l=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),b=Object(h.f)().connected,j=n&&n.find((function(e){return e})),p=!b||!l||!!j,v=function(){if(!b)return"Your wallet is not connected.";if(!l)return"Either you are not a member, or your membership is not active.";return j||""}(),N=!(!p||!v),A=Object(a.useCallback)((function(e){if(!N)return null;var t=e.title;return Object(f.jsx)(O.a,{ariaHideApp:!1,className:"modal-container",isOpen:i,onRequestClose:function(){u(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(f.jsx)(m.a,{children:Object(f.jsxs)("div",{className:"modal",children:[Object(f.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){u(!1)},children:Object(f.jsx)(x.a,{})}),Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(f.jsx)("p",{children:v})]})]})})})}),[N,v,i]),g=Object(a.useCallback)((function(e){c(e.filter(Boolean))}),[]);return{disabledReason:v,isDisabled:p,openWhyDisabledModal:function(){u(!0)},setOtherDisabledReasons:g,WhyDisabledModal:A}}},812:function(e,t){},881:function(e,t){},893:function(e,t){},896:function(e,t){},9:function(e,t,n){"use strict";var r,a,c,s,o;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),function(e){e.configuration="configuration",e.distribute="distribute",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.voting="voting",e.withdraw="withdraw"}(r||(r={})),function(e){e.bank="bank"}(a||(a={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingSharesPerChunk="onboarding.sharesPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(c||(c={})),function(e){e.Yes="Yes",e.No="No"}(s||(s={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(o||(o={}))},927:function(e,t,n){},928:function(e,t,n){"use strict";n.r(t),n.d(t,"apolloClient",(function(){return On}));var r=n(0),a=n(33),c=n(1),s=n.n(c),o=n(103),i=n.n(o),u=n(19),d=n(40),l=n(936),b=n(135),j=n(429),f=n.n(j),p=n(15),O=n(13),h=n(134),m=n(104),x=n(434),v=n(435),N=n(3),A=n(60),g=n(167),E=null;function I(e,t){return Object(N.a)(Object(N.a)({},e),t)}function y(){return E}var w=n(39),C={BankExtensionContract:null,ConfigurationContract:null,DaoFactoryContract:null,DaoRegistryContract:null,DistributeContract:null,FinancingContract:null,GuildBankContract:null,ManagingContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,VotingContract:null,WithdrawContract:null};function _(e,t){return Object(N.a)(Object(N.a)({},e),{},{DaoFactoryContract:Object(N.a)({},t)})}function R(e,t){return Object(N.a)(Object(N.a)({},e),{},{DaoRegistryContract:Object(N.a)({},t)})}function T(e,t){return Object(N.a)(Object(N.a)({},e),{},{BankExtensionContract:Object(N.a)({},t)})}function S(e,t){return Object(N.a)(Object(N.a)({},e),{},{ConfigurationContract:Object(N.a)({},t)})}function D(e,t){return Object(N.a)(Object(N.a)({},e),{},{DistributeContract:Object(N.a)({},t)})}function k(e,t){return Object(N.a)(Object(N.a)({},e),{},{FinancingContract:Object(N.a)({},t)})}function P(e,t){return Object(N.a)(Object(N.a)({},e),{},{GuildBankContract:Object(N.a)({},t)})}function L(e,t){return Object(N.a)(Object(N.a)({},e),{},{OnboardingContract:Object(N.a)({},t)})}function F(e,t){return Object(N.a)(Object(N.a)({},e),{},{RagequitContract:Object(N.a)({},t)})}function M(e,t){return Object(N.a)(Object(N.a)({},e),{},{TributeContract:Object(N.a)({},t)})}function B(e,t){return Object(N.a)(Object(N.a)({},e),{},{VotingContract:Object(N.a)({},t)})}function G(e,t){return Object(N.a)(Object(N.a)({},e),{},{ManagingContract:Object(N.a)({},t)})}function V(e,t){return Object(N.a)(Object(N.a)({},e),{},{WithdrawContract:Object(N.a)({},t)})}var U=Object(m.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,["type"]);switch(n){case g.b:return I(e,r);case g.a:return y();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(A.a)(t,["type"]);switch(n){case w.a:return T(e,r);case w.b:return S(e,r);case w.c:return _(e,r);case w.d:return R(e,r);case w.e:return D(e,r);case w.f:return k(e,r);case w.g:return P(e,r);case w.h:return G(e,r);case w.i:return L(e,r);case w.j:return F(e,r);case w.k:return M(e,r);case w.l:case w.m:return B(e,r);case w.n:return V(e,r);default:return e}}}),W=Object(m.createStore)(U,Object(x.composeWithDevTools)(Object(m.applyMiddleware)(v.a)));function H(){return Object(r.jsx)("div",{})}var q=n(51);function Y(e){return Object(r.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"MOLOCH v3"})}function z(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(Y,{size:"small"})})}function K(){return Object(r.jsx)("div",{className:"logo-container logo-container--header",children:Object(r.jsx)(Y,{size:"medium"})})}function J(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(Y,{size:"large"})})}var Q=n(10),X=n(931),$=n(148),Z=n.n($),ee=n(445),te=n(4),ne=n.n(te),re=n(14),ae=n(209);function ce(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(r.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(r.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(r.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(r.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function se(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(r.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(r.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var oe={injected:Object(r.jsx)(ce,{}),walletconnect:Object(r.jsx)(se,{})},ie=n(20);function ue(){return Object(r.jsx)("div",{className:"loader--emoji",children:Object(r.jsx)("span",{role:"img","aria-label":"hourglass emoji",children:"\u23f3"})})}var de=n(22);function le(e){var t=e.children,n=e.keyProp,a=e.isOpen,c=e.styleProps,s=e.modalClassNames,o=e.isOpenHandler;return Object(r.jsx)(Z.a,{ariaHideApp:!1,className:"modal-container ".concat(s),isOpen:a,onRequestClose:function(){o(a)},overlayClassName:"modal-overlay",role:"dialog",style:Object(N.a)({overlay:{zIndex:"99"}},c),children:Object(r.jsx)(de.a,{children:Object(r.jsx)("div",{className:"modal",children:t})})},n)}var be=n(117);function je(e){var t,n=e.customWalletText,a=e.showWalletETHBadge,s=Object(ie.f)(),o=s.account,i=s.connected,u=s.providerOptions,d=s.onConnectTo,l=s.onDisconnect,b=s.networkId,j=s.web3Modal,f=Object(ie.e)(),h=f.defaultChain,m=f.defaultChainError,x=f.isDefaultChain,v=Object(q.f)(),N=Object(c.useState)(!1),A=Object(Q.a)(N,2),g=A[0],E=A[1],I=null!==(t=b!==h)&&void 0!==t?t:x,y=b===O.b.GANACHE,w=ae.isMobile?o?Object(p.i)(o):"Connect":a&&o?Object(p.i)(o):n||"";function C(){E(!1),v.push("/members/".concat(o))}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(I&&i?"walletconnect__connect-button--error":""),onClick:function(){E(!0)},children:[Object(r.jsx)("span",{className:"connect-button-text ".concat(i?"connect-button-text--ethAddress":""),children:w||"Connect"}),a&&I&&i&&Object(r.jsx)("span",{children:"Wrong Network"}),a&&Object(r.jsx)(fe,{providerName:null===j||void 0===j?void 0:j.cachedProvider})]}),g&&function(){var e=Object.entries(u).filter((function(e){return"injected"!==e[0]})),t=(ae.isMobile?e:Object.entries(u)).map((function(e){return Object(r.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(i&&(null===j||void 0===j?void 0:j.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object(re.a)(ne.a.mark((function t(){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:y&&"walletconnect"===e[0],children:[Object(r.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(r.jsx)(fe,{providerName:e[0]})]},e[0])}));return Object(r.jsxs)(le,{keyProp:"web3modal",isOpen:g,isOpenHandler:function(){E(!1)},children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){E(!1)},children:Object(r.jsx)(be.a,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),i&&I?null:Object(r.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),o&&Object(r.jsx)("button",{className:"walletconnect__connected-address-button",onClick:C,children:ae.isMobile?Object(p.i)(o):o}),i&&I?Object(r.jsx)(pe,{defaultChainError:(null===m||void 0===m?void 0:m.message)||""}):Object(r.jsx)("div",{className:"walletconnect__options",children:t}),i&&Object(r.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:l,children:"Disconnect Wallet"})]})]})}()]})}function fe(e){var t=e.providerName;return t?Object(r.jsx)("span",{className:"walletconnect__wallet-icon",children:oe[t]}):null}function pe(e){var t=e.defaultChainError;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("small",{children:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var Oe=s.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(r.jsx)(je,{customWalletText:t,showWalletETHBadge:n})}));function he(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"svg-inline--fa fa-bars fa-w-14 fa-3x","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var me={transition:"0.1s"},xe={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},ve={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function Ne(){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})})]})})}function Ae(){var e=Object(c.useState)(!1),t=Object(Q.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(xe),o=Object(Q.a)(s,2),i=o[0],u=o[1],l=Object(q.g)(),b=Object(q.f)(),j=Object(ie.f)().account,f="/"===l.pathname;function p(e){if(!e){u(ve);var t=setTimeout((function(){return a(e)}),500);return function(){return clearTimeout(t)}}a(e),u(xe)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee.a,{query:"(max-width: 62em)",children:function(e){return Object(r.jsx)("div",{className:"nav-header",children:Object(r.jsxs)("div",{className:"nav-header__menu-container",children:[!f&&Object(r.jsx)(Ne,{}),Object(r.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(r.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),p(!0)},children:Object(r.jsx)(he,{})})}),Object(r.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(r.jsx)(Oe,{showWalletETHBadge:!0})})]})})}}),Object(r.jsx)(Z.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:n,onRequestClose:function(){p(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(r.jsx)(X.a,{appear:!0,in:n,timeout:200,children:function(e){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("div",{style:Object(N.a)(Object(N.a)({},me),i[e]),className:"nav-modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),p(!1)},children:Object(r.jsx)(be.a,{})}),Object(r.jsx)(z,{}),Object(r.jsxs)("div",{className:"nav-modal__walletconnect-button-container",children:[Object(r.jsx)(Oe,{showWalletETHBadge:!0}),Object(r.jsx)("button",{className:"button",onClick:function(){p(!1),b.push("/join")},children:"Join"})]}),Object(r.jsxs)("ul",{className:"nav__list",children:[Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)("a",{href:"#",rel:"noopener noreferrer",target:"_blank",children:Object(r.jsx)("span",{children:"Help"})})}),j&&Object(r.jsx)("li",{className:"link-separated",onClick:function(){p(!1)},children:Object(r.jsx)(d.c,{to:"/members/".concat(j),children:Object(r.jsx)("span",{children:"Profile"})})})]})]})})}})})]})}function ge(){if("/"===Object(q.g)().pathname)return null;function e(e){return Object(r.jsx)(d.b,{to:"/",children:e.children})}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(e,{children:Object(r.jsx)(K,{})}),Object(r.jsx)("div",{className:"header__nav-container",children:Object(r.jsx)(Ae,{})})]})})}var Ee=n(437);function Ie(){return Object(r.jsxs)(Ee.a,{children:[Object(r.jsx)("title",{children:"MOLOCH v3"}),Object(r.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var ye=n(440),we=n.n(ye),Ce=(n(876),function(e){var t=e.children,n=Object(A.a)(e,["children"]);return Object(r.jsx)("div",Object(N.a)(Object(N.a)({style:{position:"relative"}},n),{},{children:t}))}),_e=s.a.memo((function(){return Object(r.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(r.jsx)("div",{className:"cube__segment--top"}),Object(r.jsx)("div",{className:"cube__segment--left"}),Object(r.jsx)("div",{className:"cube__segment--right"})]})}));function Re(){var e=Object(q.f)();return Object(c.useEffect)((function(){we.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("header",{className:"header",children:Object(r.jsx)(J,{})}),Object(r.jsxs)("div",{className:"landing",children:[Object(r.jsx)("div",{className:"landing__subtitle",children:Object(r.jsx)("p",{children:"For the ongoing development of Moloch v3"})}),Object(r.jsx)("div",{className:"landing__img",children:Object(r.jsx)(_e,{})}),Object(r.jsx)("div",{className:"landing__button",children:Object(r.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})}),Object(r.jsx)("div",{className:"landing__navlinks",children:Object(r.jsx)(Ne,{})})]})]})})}var Te=n(17),Se=n(118),De=n(52),ke=n.n(De),Pe=n(9),Le=n(27),Fe=n(107),Me=n(71),Be=n(58),Ge=n(115),Ve=n(47);function Ue(e){var t=e.error,n=Object(A.a)(e,["error"]);return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(de.a,{children:Object(r.jsx)("p",Object(N.a)(Object(N.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var We,He=n(57),qe=n(76);function Ye(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(ie.e)().defaultChainError,a=Object(ie.f)(),s=a.connected,o=a.account,i=a.web3Instance,d=Object(ie.b)(),l=Object(ie.a)(),b=l.txError,j=l.txEtherscanURL,f=l.txIsPromptOpen,h=l.txSend,m=l.txStatus,x=Object(Be.f)(),v=x.proposalData,A=x.proposalSignAndSendStatus,g=x.signAndSendProposal,E=Object(Se.a)({mode:"onBlur",reValidateMode:"onChange"}),I=Object(q.f)(),y=Object(c.useState)(),w=Object(Q.a)(y,2),C=w[0],_=w[1],R=Object(c.useState)(),T=Object(Q.a)(R,2),S=T[0],D=T[1],k=E.errors,P=E.getValues,L=E.setValue,F=E.register,M=E.trigger,B=C||b,G=s&&o,V=m===Pe.e.AWAITING_CONFIRM||m===Pe.e.PENDING||A===Pe.e.AWAITING_CONFIRM||A===Pe.e.PENDING,U=m===Pe.e.FULFILLED&&A===Pe.e.FULFILLED,W=V||U||f,H=Object(c.useCallback)((function(){return Y.apply(this,arguments)}),[o,i]);function Y(){return(Y=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&o){e.next=3;break}return D(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.eth.getBalance(o);case 6:t=e.sent,D({wei:t,eth:i.utils.fromWei(t)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),D(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function z(e){return K.apply(this,arguments)}function K(){return(K=Object(re.a)(ne.a.mark((function n(r){var a,c,s,i,u,l,b,j;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,G){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No OnboardingContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(o){n.next=9;break}throw new Error("No account found.");case 9:if(a=(null===v||void 0===v?void 0:v.uniqueId)||"",c=r.ethAddress,s=r.ethAmount,i=ke.a.utils.toWei(Object(p.h)(s),"ether"),a){n.next=18;break}return n.next=15,g({partialProposalData:{name:c,body:"Membership for ".concat(c,"."),metadata:{amountUnit:"ETH"}},adapterName:Pe.a.onboarding,type:Te.SnapshotType.draft});case 15:u=n.sent,l=u.uniqueId,a=l;case 18:return b=[t.contractAddress,a,c,O.w,i],j=Object(N.a)({from:o||"",value:i},d?{gasPrice:d.fast}:null),n.next=22,h("onboard",e.instance.methods,b,j);case 22:I.push("/membership/".concat(a)),n.next=28;break;case 25:n.prev=25,n.t0=n.catch(0),_(n.t0);case 28:case"end":return n.stop()}}),n,null,[[0,25]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){H()}),[H]),Object(c.useEffect)((function(){L(We.ethAddress,o)}),[o,L]),G?n?Object(r.jsx)(ze,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:n.message})})}):Object(r.jsx)(ze,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(We.ethAddress),"aria-invalid":k.ethAddress?"true":"false",name:We.ethAddress,ref:F({validate:function(e){return e?!!Object(Fe.a)(e)||Le.a.INVALID_ETHEREUM_ADDRESS:Le.a.REQUIRED}}),type:"text",disabled:W}),Object(r.jsx)(Ue,{error:Object(p.f)(We.ethAddress,k),id:"error-".concat(We.ethAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(We.ethAmount),"aria-invalid":k.ethAmount?"true":"false",name:We.ethAmount,onChange:function(){return L(We.ethAmount,Object(p.e)(P().ethAmount))},ref:F({validate:function(e){var t=Number(Object(p.h)(e));return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(null===S||void 0===S?void 0:S.eth))||"Insufficient funds."}}),type:"text",disabled:W}),Object(r.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(r.jsx)(Ue,{error:Object(p.f)(We.ethAmount,k),id:"error-".concat(We.ethAmount)})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsxs)("span",{className:"text-underline",children:[S?Object(p.d)(Number(S.eth)):"---"," ","ETH"]})]})]}),Object(r.jsx)("button",{className:"button",disabled:W,onClick:Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:z(P());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:V?Object(r.jsx)(He.a,{}):U?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:W&&function(){if(m===Pe.e.AWAITING_CONFIRM||A===Pe.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(m){case Pe.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge.a,{intervalMs:2e3,messages:Me.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(de.a,{children:e},e)}}),Object(r.jsx)(qe.a,{url:j,isPending:!0})]});case Pe.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(qe.a,{url:j})]});default:return null}}()}),B&&4001!==B.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ve.a,{renderText:"Something went wrong while submitting the proposal.",error:B})})]})}):Object(r.jsx)(ze,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a member proposal."})})})}function ze(e){return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(We||(We={}));var Ke=n(425);function Je(e){var t=e.buttonText,n=void 0===t?"View Proposal":t,a=e.proposal,c=e.onClick,s=e.name;return Object(r.jsxs)("div",{className:"proposalcard",onClick:function(){var e=a.snapshotProposal.hash;c(e)},children:[Object(r.jsx)("h3",{className:"proposalcard__title",children:s}),Object(r.jsx)(Ke.c,{proposal:a}),Object(r.jsx)("button",{className:"proposalcard__button",children:n})]})}var Qe=[{snapshotProposal:{hash:"dc5abd65bacfe1fa2d1ad3dd8fdb213e902c3b63a4f6b57c467e50dca1f913da",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:0}},{snapshotProposal:{hash:"ffa6c0f8d1d992c9aa678340316c8246965ac07144291c04a4375be0324ebc27",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:45e5,noShares:0}},{snapshotProposal:{hash:"eec0cce4145d0b25c722ad182beec85de3959c475b1e4066552ec50717212769",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:35e5}},{snapshotProposal:{hash:"462b6c505af6061713f1a32c70fb6303040e7394d929d89a1c3cd1033eb5a605",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:7e6,noShares:25e5}},{snapshotProposal:{hash:"d137bfdd2e8ce83b5acc229827cfafaf32084ae253f2da974f931ef542b5bbfc",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:35e5,noShares:55e5}},{snapshotProposal:{hash:"55af58ef30f602aa8e395dc41cc7e0598ea949e5730b1347d0fd0ebc02cb15ed",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:5e6,noShares:5e6}}],Xe=[{snapshotProposal:{hash:"a28b59b9dce2132657c9db537f73063c01f33e04cc9ddf70ce61bfbc4690b16b",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"01f091d9e0e1bbe0201be6805ac174638cf2671fdcb8949691263ffa4c443b61",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"1360b9d92677953e84ece64a0c0349b60b6c554f5f5e484b8731adca7f153318",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"b4fcaf70b442fb5bf4a8d116f1b4eab4f8379be68e07bb8ba085043506a99fc2",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"38745ec51d277636144fe6eac46c7378374bbfec2ead1265bbe5a76506313cb4",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"244cc0016922eb37cf675e7d21e8ade6cc93ab435dcaa76cb1bd5beed5375ef4",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}}],$e=[{snapshotProposal:{hash:"3ba30491a6cf748cf3d0ecbb0961627bab8589eaef90726b0aa95f0839f95b44",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e5,noShares:0}},{snapshotProposal:{hash:"f2bee4497f29ed36fda8fb04df71922e32f91f191a58689fd2ec0fa94a139202",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:7e6,noShares:3e6}},{snapshotProposal:{hash:"bf97fd71511f3505406a985f47cf901f89c22356817e7aefe0a4fc41f5b4edbc",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:5e6,noShares:25e5}},{snapshotProposal:{hash:"a724f73ccb0cc9ae0edd8d80f6c75482534f0d3e3f1d7c27fbb17705ef7c61fb",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:75e5,noShares:25e5}},{snapshotProposal:{hash:"79a9b72c3ea3a3f1411a23f65f3f1d043ebf0bd6dbd3b6abe2f05423fd3e9013",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:55e5,noShares:45e5}},{snapshotProposal:{hash:"44509e866a56482b8b3b2373cbe48d89cc0abff4a37626b5ff0e420fc5f3cc8d",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e7,noShares:0}}],Ze=[{snapshotProposal:{hash:"1531a1656c7cb51414606bbe69795f0b9c7c624d3b74b539880e08eab6e5ad95",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e5}},{snapshotProposal:{hash:"0597d6387981ef338abfa8c801c8f07fe67377aaa9689619ed6a3128289d665c",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:3e6,noShares:7e6}},{snapshotProposal:{hash:"7cedf63b766d881250e665da21bfb08944bbca56f04ac2ebcf9d37281fbada3b",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:5e6}},{snapshotProposal:{hash:"b9f1d513670876b5af13534b30a14233c3371d3e58195c31086a47ef7d341fed",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:75e5}},{snapshotProposal:{hash:"05e5c09e12b2fe36cb4e4d6e4d7c7d23fc79f6e8d30e218d4b8f6a1be774b2c2",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:45e5,noShares:55e5}},{snapshotProposal:{hash:"3fd0d42255683cd77fa2c8758f429094b2ece70e325c9f7e94728ed3c93155f4",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e7}}];[].concat(Qe,Xe,$e,Ze);function et(){var e=Object(q.f)(),t=s(Qe),n=s(Xe),a=s($e),c=s(Ze);function s(t){return t.map((function(t){return Object(r.jsx)(Je,{onClick:(n=t.snapshotProposal.hash,function(){n&&e.push("/membership/".concat(n))}),proposal:t,name:Object(p.i)(t.snapshotProposal.name,7)},t.snapshotProposal.hash);var n}))}return Object(r.jsx)(tt,{children:Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[t.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:t})]}),n.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.REQUESTS}),Object(r.jsx)("div",{className:"grid__cards",children:n})]}),a.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:a})]}),c.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Le.d.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:c})]})]})})}function tt(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var nt=n(31);function rt(){return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsx)(de.a,{children:Object(r.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(r.jsxs)("h3",{children:["4",Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}var at=n(190),ct=n(16),st=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,954))})),ot={duration:150},it={display:"inline-block",width:"100%",fontSize:"1.5rem"};function ut(e){var t=e.adapterName,n=e.proposal,a=Object(u.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName}));return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("span",{className:"text-center",style:it,children:Object(r.jsx)(at.a,{intervalMs:200,fadeInProps:ot})}),children:function(){if(!a)return Object(r.jsx)(r.Fragment,{});switch(a){case ct.b.OffchainVotingContract:return Object(r.jsx)(st,{adapterName:t,proposal:n});default:var e=new Error('"'.concat(a,'" is not a valid voting adapter name.'));return Object(r.jsx)(Ve.a,{error:e,renderText:"Something went wrong"})}}()})}function dt(e){var t=e.amount,n=e.amountUnit,a=e.amount2,c=e.amount2Unit;return Object(r.jsx)("div",{className:"proposaldetails__amount",children:Object(r.jsxs)("span",{children:["".concat(t," ").concat(n),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"for"}),Object(r.jsx)("br",{}),"".concat(a," ").concat(c)]})]})})}function lt(e){var t=e.proposal,n=e.renderAmountBadge,a=e.renderActions,c=t.getCommonSnapshotProposalData();return c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"proposaldetails__content",children:[Object(r.jsx)("h3",{children:Object(p.i)(c.msg.payload.name||"",7)}),Object(r.jsx)("p",{children:c.msg.payload.body})]}),Object(r.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),a()]})]})]}):null}function bt(){var e=Object(q.h)().proposalId,t=Object(Be.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===nt.a.PENDING)return Object(r.jsx)(jt,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})})});if(c)return Object(r.jsx)(jt,{children:Object(r.jsx)(rt,{})});if(s===nt.a.REJECTED||a)return Object(r.jsx)(jt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Ve.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{u=Object(p.d)(Number(ke.a.utils.fromWei(null===o||void 0===o?void 0:o.amount,"ether")))}catch(d){u="\u2026"}return Object(r.jsx)(jt,{children:Object(r.jsx)(lt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(dt,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(ut,{adapterName:Pe.a.onboarding,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function jt(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}var ft,pt,Ot=n(25),ht=n(46),mt=n(444);function xt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DistributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.BankExtensionContract})),s=Object(u.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),o=Object(ie.e)().defaultChainError,i=Object(ie.f)(),d=i.connected,l=i.account,b=i.web3Instance,j=Object(ie.b)(),f=Object(ie.a)(),h=f.txError,m=f.txEtherscanURL,x=f.txIsPromptOpen,v=f.txSend,A=f.txStatus,g=Object(Be.f)(),E=g.proposalData,I=g.proposalSignAndSendStatus,y=g.signAndSendProposal,w=Object(Se.a)({mode:"onBlur",reValidateMode:"onChange"}),C=Object(q.f)(),_=Object(c.useState)(),R=Object(Q.a)(_,2),T=R[0],S=R[1],D=Object(c.useState)(),k=Object(Q.a)(D,2),P=k[0],L=k[1],F=Object(c.useState)(),M=Object(Q.a)(F,2),B=M[0],G=M[1],V=w.errors,U=w.getValues,W=w.setValue,H=w.register,Y=w.trigger,z=w.watch,K="all members"===z("type"),J=z("selectedToken"),X=T||h,$=d&&l,Z=mt,ee=A===Pe.e.AWAITING_CONFIRM||A===Pe.e.PENDING||I===Pe.e.AWAITING_CONFIRM||I===Pe.e.PENDING,te=A===Pe.e.FULFILLED&&I===Pe.e.FULFILLED,ae=ee||te||x,ce=Object(c.useCallback)((function(){return oe.apply(this,arguments)}),[n,l,Z,b]),se=Object(c.useCallback)((function(){return ue.apply(this,arguments)}),[l,J]);function oe(){return(oe=Object(re.a)(ne.a.mark((function e(){var t,r,c,s,o,i,u,d,j,f,p,h,m,x,v,A,g,E,I,y,w,C,_,R,T,S,D;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&n&&b){e.next=3;break}return L(void 0),e.abrupt("return");case 3:return e.prev=3,t=n.abi,r=n.contractAddress,c=n.instance.methods,e.next=7,c.nbTokens().call();case 7:if(s=e.sent,!(Number(s)<1)){e.next=12;break}L([]),e.next=44;break;case 12:return o=[],i=t.find((function(e){return"getToken"===e.name})),u=Object(a.a)(Array(Number(s)).keys()).map((function(e){return[r,i,[e.toString()]]})),e.next=17,Object(ht.h)({calls:u,web3Instance:b});case 17:return d=e.sent,j=t.find((function(e){return"balanceOf"===e.name})),f=d.map((function(e){return[r,j,[O.p,e]]})),e.next=22,Object(ht.h)({calls:f,web3Instance:b});case 22:if(p=e.sent,h=d.map((function(e,t){return{address:e,daoBalance:p[t]}})).filter((function(e){return Object(Ot.toBN)(e.daoBalance).gt(Object(Ot.toBN)(0))})),(m=h.find((function(e){return e.address===O.k})))&&o.push(Object(N.a)(Object(N.a)({},m),{},{name:"Ether",symbol:"ETH",decimals:18})),!((x=h.filter((function(e){return e.address!==O.k}))).length>0)){e.next=43;break}return v=Z.find((function(e){return"name"===e.name})),A=x.map((function(e){return[e.address,v,[]]})),g=Z.find((function(e){return"symbol"===e.name})),E=x.map((function(e){return[e.address,g,[]]})),I=Z.find((function(e){return"decimals"===e.name})),y=x.map((function(e){return[e.address,I,[]]})),w=[].concat(Object(a.a)(A),Object(a.a)(E),Object(a.a)(y)),e.next=37,Object(ht.h)({calls:w,web3Instance:b});case 37:for(C=e.sent,_=[];C.length;)_.push(C.splice(0,x.length));R=_[0],T=_[1],S=_[2],D=x.map((function(e,t){return Object(N.a)(Object(N.a)({},e),{},{name:R[t],symbol:T[t],decimals:S[t]})})).sort((function(e,t){return e.name.localeCompare(t.name)})),o=[].concat(Object(a.a)(o),Object(a.a)(D));case 43:L(o);case 44:e.next=50;break;case 46:e.prev=46,e.t0=e.catch(3),console.error(e.t0),L(void 0);case 50:case"end":return e.stop()}}),e,null,[[3,46]])})))).apply(this,arguments)}function ue(){return(ue=Object(re.a)(ne.a.mark((function e(){var t,n,r,a,c,s,o,i;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&J){e.next=3;break}return G(void 0),e.abrupt("return");case 3:try{t=JSON.parse(J),n=t.daoBalance,r=Object(Ot.toBN)(n),a=t.decimals,c=Object(Ot.toBN)(10).pow(Object(Ot.toBN)(a)),s=r.div(c),o=r.mod(c),i=o.eq(Object(Ot.toBN)(0))?s.toString():"".concat(s.toString(),".").concat(o.toString()),G(i)}catch(u){console.error(u),G(void 0)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(e){return be.apply(this,arguments)}function be(){return(be=Object(re.a)(ne.a.mark((function n(r){var a,c,s,o,i,u,d,f,h,m,x,A,g,I,w,_,R,T,D,k,P,L,F,M,B,G;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,$){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No DistributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(l){n.next=9;break}throw new Error("No account found.");case 9:if(b){n.next=11;break}throw new Error("No Web3 instance was found.");case 11:if(a=r.selectedToken,c=r.memberAddress,s=r.amount,o=r.notes,i=JSON.parse(a),u=i.symbol,d=i.decimals,(f=i.address)===O.k?h=Object(Ot.toWei)(Object(p.h)(s),"ether"):(m=Object(Ot.toBN)(10).pow(Object(Ot.toBN)(d)),x=Object(Ot.toBN)(Object(p.h)(s)).mul(m),h=x.toString()),A=(null===E||void 0===E?void 0:E.uniqueId)||"",g=null===E||void 0===E?void 0:E.data,I=(null===E||void 0===E?void 0:E.signature)||"",w=K?"Transfer to all members pro rata.":"Transfer to ".concat(c,"."),A){n.next=32;break}return _=o?"".concat(w,"\n").concat(o):w,R=K?"All members":c,T=Math.floor(Date.now()/1e3),n.next=25,y({partialProposalData:{name:R,body:_,metadata:{amountUnit:u,tokenDecimals:d,isTypeAllMembers:K},timestamp:T.toString()},adapterName:Pe.a.distribute,type:Te.SnapshotType.proposal});case 25:D=n.sent,k=D.uniqueId,P=D.data,L=D.signature,A=k,g=P,I=L;case 32:return F=K?"0x0000000000000000000000000000000000000000":c,M=g?Object(Te.prepareVoteProposalData)({payload:{name:g.payload.name,body:g.payload.body,choices:g.payload.choices,snapshot:g.payload.snapshot.toString(),start:g.payload.start,end:g.payload.end},sig:I,space:g.space,timestamp:parseInt(g.timestamp)},b):"",B=[t.contractAddress,A,F,f,h,M],G=Object(N.a)({from:l||""},j?{gasPrice:j.fast}:null),n.next=38,v("submitProposal",e.instance.methods,B,G);case 38:C.push("/transfers/".concat(A)),n.next=44;break;case 41:n.prev=41,n.t0=n.catch(0),S(n.t0);case 44:case"end":return n.stop()}}),n,null,[[0,41]])})))).apply(this,arguments)}function je(e){return fe.apply(this,arguments)}function fe(){return(fe=Object(re.a)(ne.a.mark((function e(t){var r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return console.error("No BankExtensionContract found."),e.abrupt("return",!1);case 3:return e.next=5,n.instance.methods.balanceOf(t,O.w).call();case 5:return r=e.sent,e.abrupt("return",Object(Ot.toBN)(r).gt(Object(Ot.toBN)(0)));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){ce()}),[ce]),Object(c.useEffect)((function(){se()}),[se]),$&&!o&&s?Object(r.jsx)(vt,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Type"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsxs)("select",{name:ft.type,ref:H,disabled:ae,children:[Object(r.jsx)("option",{value:"single member",children:"Single member"}),Object(r.jsx)("option",{value:"all members",children:"All members"})]})})]}),!K&&Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Member Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(ft.memberAddress),"aria-invalid":V.memberAddress?"true":"false",name:ft.memberAddress,ref:H({validate:function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}e.t0=Le.a.REQUIRED,e.next=17;break;case 4:if(Object(Fe.a)(t)){e.next=8;break}e.t1=Le.a.INVALID_ETHEREUM_ADDRESS,e.next=16;break;case 8:return e.next=10,je(t);case 10:if(e.sent){e.next=14;break}e.t2="The address is not an active member with SHARES.",e.next=15;break;case 14:e.t2=!0;case 15:e.t1=e.t2;case 16:e.t0=e.t1;case 17:return e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),type:"text",disabled:ae}),Object(r.jsx)(Ue,{error:Object(p.f)(ft.memberAddress,V),id:"error-".concat(ft.memberAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Asset"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsxs)("select",{"aria-describedby":"error-".concat(ft.selectedToken),"aria-invalid":V.selectedToken?"true":"false",name:ft.selectedToken,ref:H({validate:function(e){return!P||P.length<1?"No tokens available for distribution.":!!e||Le.a.REQUIRED}}),disabled:ae,children:[Object(r.jsx)("option",{value:"",children:"Select from DAO assets"}),null===P||void 0===P?void 0:P.map((function(e){return Object(r.jsx)("option",{value:JSON.stringify(e),children:"".concat(e.name," (").concat(e.symbol,")")},e.address)}))]}),Object(r.jsx)(Ue,{error:Object(p.f)(ft.selectedToken,V),id:"error-".concat(ft.selectedToken)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(ft.amount),"aria-invalid":V.amount?"true":"false",name:ft.amount,onChange:function(){return W(ft.amount,Object(p.e)(U().amount))},ref:H({validate:function(e){var t=Number(Object(p.h)(e)),n=J&&JSON.parse(J),r=(null===n||void 0===n?void 0:n.address)===O.k;return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(B)?"Insufficient funds.":!!r||(!!Number.isInteger(t)||"The value must be an integer for an ERC20 token.")}}),type:"text",disabled:ae}),Object(r.jsx)("div",{className:"input__suffix-item",children:J&&JSON.parse(J).symbol||"___"})]}),Object(r.jsx)(Ue,{error:Object(p.f)(ft.amount,V),id:"error-".concat(ft.amount)}),Object(r.jsx)("div",{className:"form__input-description",children:K?"If the proposal passes, this total amount will be distributed pro rata to all members' internal accounts, based on the current number of shares held by each member.":"If the proposal passes, this amount will be distributed to the member's internal account."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:B?Number.isInteger(Number(B))?B:Object(p.d)(Number(B)):"---"})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Notes"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{name:ft.notes,placeholder:"Transactions purpose...",ref:H,disabled:ae})})]}),Object(r.jsx)("button",{className:"button",disabled:ae,onClick:Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Y();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:le(U());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:ee?Object(r.jsx)(He.a,{}):te?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:ae&&function(){if(A===Pe.e.AWAITING_CONFIRM||I===Pe.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(A){case Pe.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge.a,{intervalMs:2e3,messages:Me.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(de.a,{children:e},e)}}),Object(r.jsx)(qe.a,{url:m,isPending:!0})]});case Pe.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(qe.a,{url:m})]});default:return null}}()}),X&&4001!==X.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ve.a,{renderText:"Something went wrong while submitting the proposal.",error:X})})]})}):Object(r.jsx)(vt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:$?o?o.message:s?void 0:"Either you are not a member, or your membership is not active.":"Connect your wallet to submit a transfer proposal."})})})}function vt(e){return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function Nt(){return Object(r.jsx)(At,{children:Object(r.jsx)("div",{children:"Transfers @todo"})})}function At(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}function gt(){var e=Object(q.h)().proposalId,t=Object(Be.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===nt.a.PENDING)return Object(r.jsx)(Et,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})})});if(c)return Object(r.jsx)(Et,{children:Object(r.jsx)(rt,{})});if(s===nt.a.REJECTED||a)return Object(r.jsx)(Et,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Ve.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{var d=Object(Ot.toBN)(10).pow(Object(Ot.toBN)(null===i||void 0===i?void 0:i.msg.payload.metadata.tokenDecimals)),l=Object(Ot.toBN)(null===o||void 0===o?void 0:o.amount).div(d),b=Object(Ot.toBN)(null===o||void 0===o?void 0:o.amount).mod(d),j=b.eq(Object(Ot.toBN)(0))?l.toString():"".concat(l.toString(),".").concat(b.toString()),f=Number.isInteger(Number(j));u=f?j:Object(p.d)(Number(j))}catch(O){}return Object(r.jsx)(Et,{children:Object(r.jsx)(lt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(dt,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(ut,{adapterName:Pe.a.distribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function Et(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}function It(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),a=Object(ie.e)().defaultChainError,s=Object(ie.f)(),o=s.connected,i=s.account,l=s.web3Instance,b=Object(ie.b)(),j=Object(ie.a)(),f=j.txError,h=j.txEtherscanURL,m=j.txIsPromptOpen,x=j.txSend,v=j.txStatus,A=Object(ie.a)(),g=A.txError,E=A.txEtherscanURL,I=A.txIsPromptOpen,y=A.txSend,w=A.txStatus,C=Object(Be.f)(),_=C.proposalData,R=C.proposalSignAndSendStatus,T=C.signAndSendProposal,S=Object(Se.a)({mode:"onBlur",reValidateMode:"onChange"}),D=Object(q.f)(),k=Object(c.useState)(),P=Object(Q.a)(k,2),L=P[0],F=P[1],M=Object(c.useState)(),B=Object(Q.a)(M,2),G=B[0],V=B[1],U=Object(c.useState)(),W=Object(Q.a)(U,2),H=W[0],Y=W[1],z=Object(c.useState)(),K=Object(Q.a)(z,2),J=K[0],X=K[1],$=S.errors,Z=S.getValues,ee=S.setValue,te=S.register,ae=S.trigger,ce=(0,S.watch)("erc20Address"),se=L||f||g,oe=o&&i,ue=v===Pe.e.AWAITING_CONFIRM||v===Pe.e.PENDING||w===Pe.e.AWAITING_CONFIRM||w===Pe.e.PENDING||R===Pe.e.AWAITING_CONFIRM||R===Pe.e.PENDING,le=v===Pe.e.FULFILLED&&R===Pe.e.FULFILLED,be=ue||le||m||I,je=Object(c.useCallback)((function(){return Oe.apply(this,arguments)}),[ce,l]),fe=Object(c.useCallback)((function(){return he.apply(this,arguments)}),[i,J]),pe=Object(c.useCallback)((function(){return me.apply(this,arguments)}),[i,J]);function Oe(){return(Oe=Object(re.a)(ne.a.mark((function e(){var t,r,a,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&ce){e.next=3;break}return X(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.resolve().then(n.t.bind(null,444,3));case 6:t=e.sent,r=t.default,a=r,c=new l.eth.Contract(a,ce),X(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),X(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function he(){return(he=Object(re.a)(ne.a.mark((function e(){var t,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&J){e.next=3;break}return Y(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,J.methods.symbol().call();case 6:return t=e.sent,e.next=9,J.methods.decimals().call();case 9:n=e.sent,Y({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),Y(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function me(){return(me=Object(re.a)(ne.a.mark((function e(){var t,n,r,a,c,s,o;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&J){e.next=3;break}return V(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,J.methods.balanceOf(i).call();case 6:return t=e.sent,n=Object(Ot.toBN)(t),e.next=10,J.methods.decimals().call();case 10:r=e.sent,a=Object(Ot.toBN)(10).pow(Object(Ot.toBN)(r)),c=n.div(a),s=n.mod(a),o=s.eq(Object(Ot.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(s.toString()),V(o),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),V(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function xe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(re.a)(ne.a.mark((function t(n,r){var a,c,s,o;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,J){t.next=3;break}throw new Error("No ERC20Contract found.");case 3:if(e){t.next=5;break}throw new Error("No TributeContract found.");case 5:if(i){t.next=7;break}throw new Error("No account found.");case 7:return a=n.sub(r),c=r.add(a),s=[e.contractAddress,c.toString()],o=Object(N.a)({from:i||""},b?{gasPrice:b.fast}:null),t.next=13,y("approve",J.methods,s,o);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function Ne(e){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(re.a)(ne.a.mark((function n(r){var a,c,s,o,u,d,l,j,f,h,m,v,A,g,E,I,y;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,oe){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No TributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(i){n.next=9;break}throw new Error("No account found.");case 9:if(J){n.next=11;break}throw new Error("No ERC20Contract found.");case 11:if(H){n.next=13;break}throw new Error("No ERC20 details found.");case 13:return a=r.applicantAddress,c=r.erc20Address,s=r.tributeAmount,o=r.requestAmount,u=r.description,d=Object(Ot.toBN)(10).pow(Object(Ot.toBN)(H.decimals)),l=Object(Ot.toBN)(Object(p.h)(s)).mul(d),j=Object(p.h)(o),n.next=19,J.methods.allowance(i,e.contractAddress).call();case 19:if(f=n.sent,h=Object(Ot.toBN)(f),!l.gt(h)){n.next=31;break}return n.prev=22,n.next=25,xe(l,h);case 25:n.next=31;break;case 27:throw n.prev=27,n.t0=n.catch(22),console.error(n.t0),new Error("Your ERC20 tokens could not be approved for transfer.");case 31:if(m=(null===_||void 0===_?void 0:_.uniqueId)||""){n.next=40;break}return v=a.toLowerCase()===i.toLowerCase()?"Tribute from ".concat(a,"."):"Tribute from ".concat(Object(p.i)(i,7)," for applicant ").concat(Object(p.i)(a,7),"."),A=u?"".concat(v,"\n").concat(u):v,n.next=37,T({partialProposalData:{name:a,body:A,metadata:{tributeAmountUnit:H.symbol,tributeTokenDecimals:H.decimals,requestAmountUnit:"SHARES"}},adapterName:Pe.a.tribute,type:Te.SnapshotType.draft});case 37:g=n.sent,E=g.uniqueId,m=E;case 40:return I=[t.contractAddress,m,a,O.w,j,c,l.toString()],y=Object(N.a)({from:i||""},b?{gasPrice:b.fast}:null),n.next=44,x("provideTribute",e.instance.methods,I,y);case 44:D.push("/tributes/".concat(m)),n.next=50;break;case 47:n.prev=47,n.t1=n.catch(0),F(n.t1);case 50:case"end":return n.stop()}}),n,null,[[0,47],[22,27]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){je()}),[je]),Object(c.useEffect)((function(){fe()}),[fe]),Object(c.useEffect)((function(){pe()}),[pe]),Object(c.useEffect)((function(){ee(pt.applicantAddress,i)}),[i,ee]),oe?a?Object(r.jsx)(yt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:a.message})})}):Object(r.jsx)(yt,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(pt.applicantAddress),"aria-invalid":$.applicantAddress?"true":"false",name:pt.applicantAddress,ref:te({validate:function(e){return e?!!Object(Fe.a)(e)||Le.a.INVALID_ETHEREUM_ADDRESS:Le.a.REQUIRED}}),type:"text",disabled:be}),Object(r.jsx)(Ue,{error:Object(p.f)(pt.applicantAddress,$),id:"error-".concat(pt.applicantAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(pt.erc20Address),"aria-invalid":$.erc20Address?"true":"false",name:pt.erc20Address,ref:te({validate:function(e){return e?!!Object(Fe.a)(e)||Le.a.INVALID_ETHEREUM_ADDRESS:Le.a.REQUIRED}}),type:"text",disabled:be}),Object(r.jsx)(Ue,{error:Object(p.f)(pt.erc20Address,$),id:"error-".concat(pt.erc20Address)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(pt.tributeAmount),"aria-invalid":$.tributeAmount?"true":"false",name:pt.tributeAmount,onChange:function(){return ee(pt.tributeAmount,Object(p.e)(Z().tributeAmount))},ref:te({validate:function(e){var t=Number(Object(p.h)(e));return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":t>Number(G)?"Insufficient funds.":!!Number.isInteger(t)||"The value must be an integer for an ERC20 token."}}),type:"text",disabled:be}),Object(r.jsx)("div",{className:"input__suffix-item",children:(null===H||void 0===H?void 0:H.symbol)||"___"})]}),Object(r.jsx)(Ue,{error:Object(p.f)(pt.tributeAmount,$),id:"error-".concat(pt.tributeAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:G?Number.isInteger(Number(G))?G:Object(p.d)(Number(G)):"---"})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(pt.requestAmount),"aria-invalid":$.requestAmount?"true":"false",name:pt.requestAmount,onChange:function(){return ee(pt.requestAmount,Object(p.e)(Z().requestAmount))},ref:te({validate:function(e){var t=Number(Object(p.h)(e));return""===e?Le.a.REQUIRED:isNaN(t)?Le.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:be}),Object(r.jsx)(Ue,{error:Object(p.f)(pt.requestAmount,$),id:"error-".concat(pt.requestAmount)}),Object(r.jsxs)("div",{className:"form__input-description",children:["This is the amount of DAO tokens you are requesting be sent to the Applicant Address in exchange for your tribute. Current member allocations can be viewed"," ",Object(r.jsx)(d.b,{to:"/members",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{name:pt.description,placeholder:"Say something about your tribute...",ref:te,disabled:be})})]}),Object(r.jsx)("button",{className:"button",disabled:be,onClick:Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!be){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ae();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:Ne(Z());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:ue?Object(r.jsx)(He.a,{}):le?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:be&&function(){if(v===Pe.e.AWAITING_CONFIRM||w===Pe.e.AWAITING_CONFIRM||R===Pe.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";if(w===Pe.e.PENDING)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Approving your tokens for transfer\u2026"}),Object(r.jsx)(qe.a,{url:E,isPending:!0})]});switch(v){case Pe.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge.a,{intervalMs:2e3,messages:Me.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(de.a,{children:e},e)}}),Object(r.jsx)(qe.a,{url:h,isPending:!0})]});case Pe.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(qe.a,{url:h})]});default:return null}}()}),se&&4001!==se.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ve.a,{renderText:"Something went wrong while submitting the proposal.",error:se})})]})}):Object(r.jsx)(yt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a tribute proposal."})})})}function yt(e){return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function wt(){return Object(r.jsx)(Ct,{children:Object(r.jsx)("div",{children:"Tributes @todo"})})}function Ct(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}function _t(){var e=Object(q.h)().proposalId,t=Object(Be.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===nt.a.PENDING)return Object(r.jsx)(Rt,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(ue,{})})});if(c)return Object(r.jsx)(Rt,{children:Object(r.jsx)(rt,{})});if(s===nt.a.REJECTED||a)return Object(r.jsx)(Rt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Ve.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{var d=Object(Ot.toBN)(10).pow(Object(Ot.toBN)(null===i||void 0===i?void 0:i.msg.payload.metadata.tributeTokenDecimals)),l=Object(Ot.toBN)(null===o||void 0===o?void 0:o.tributeAmount).div(d),b=Object(Ot.toBN)(null===o||void 0===o?void 0:o.tributeAmount).mod(d),j=b.eq(Object(Ot.toBN)(0))?l.toString():"".concat(l.toString(),".").concat(b.toString()),f=Number.isInteger(Number(j));u=f?j:Object(p.d)(Number(j))}catch(h){}var O="\u2026";try{O=Object(p.e)(null===o||void 0===o?void 0:o.requestAmount)}catch(h){}return Object(r.jsx)(Rt,{children:Object(r.jsx)(lt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(dt,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.tributeAmountUnit,amount2:O,amount2Unit:null===i||void 0===i?void 0:i.msg.payload.metadata.requestAmountUnit})},renderActions:function(){return Object(r.jsx)(ut,{adapterName:Pe.a.tribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function Rt(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function Tt(){return Object(r.jsx)(St,{children:Object(r.jsx)("div",{children:"CreateGovernanceProposal @todo"})})}function St(e){return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),e.children]})})}function Dt(){return Object(r.jsx)(kt,{children:Object(r.jsx)("div",{children:"GovernanceProposals @todo"})})}function kt(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}function Pt(){return Object(r.jsx)(Lt,{children:Object(r.jsx)("div",{children:"GovernanceProposalDetails @todo"})})}function Lt(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposals")},children:"View all"})]}),e.children]})})}function Ft(e){var t=e.member,n=e.name,a=e.onClick;return Object(r.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;a(e)},children:Object(r.jsx)("h3",{className:"membercard__title",children:n})})}!function(e){e.type="type",e.selectedToken="selectedToken",e.memberAddress="memberAddress",e.amount="amount",e.notes="notes"}(ft||(ft={})),function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(pt||(pt={}));var Mt=[{address:"0xd38f1A08f9894CE69Bdf796271dC9e4099fC5043"},{address:"0x927A9928Fe2eD6415e4D7761314c3466C3dc78f9"},{address:"0x2e4707940C2d65221ee352945f0551738BCd026E"},{address:"0xF2603046726414C5Dd0B0AE07a842209010AfbC5"},{address:"0x01410229072479e1e4d33490a7052439d7893ed6"},{address:"0x69732A015EE3A371714C99CcF6291fF774638E77"},{address:"0x2b22914fd1A891a4b11A39B11bD53f0e0434a63A"},{address:"0xD47d51c4963aB981A062dd15aE5e442B1Ee9425C"},{address:"0x6197776A13a094370e3F71452fA868937A9f2334"}];function Bt(){var e=Object(q.f)(),t=Mt.map((function(t){return Object(r.jsx)(Ft,{onClick:(n=t.address,function(){n&&e.push("/members/".concat(n))}),member:t,name:Object(p.i)(t.address,7)},t.address);var n}));return Object(r.jsx)(Gt,{children:Object(r.jsx)("div",{className:"grid--fluid grid-container",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(r.jsx)("div",{className:"grid__cards",children:t})]})})})}function Gt(e){return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}var Vt=n(8);function Ut(e){return t=e,ke.a.utils.sha3(t);var t}function Wt(){var e;return e={},Object(Vt.a)(e,ct.a.BANK,"configureExtension"),Object(Vt.a)(e,ct.a.CONFIGURATION,"submitConfigurationProposal"),Object(Vt.a)(e,ct.a.DISTRIBUTE,""),Object(Vt.a)(e,ct.a.FINANCING,"createFinancingRequest"),Object(Vt.a)(e,ct.a.GUILDKICK,"submitKickProposal"),Object(Vt.a)(e,ct.a.MANAGING,"createAdapterChangeRequest"),Object(Vt.a)(e,ct.a.OFFCHAINVOTING,"configureDao"),Object(Vt.a)(e,ct.a.ONBOARDING,"configureDao"),Object(Vt.a)(e,ct.a.RAGEQUIT,"ragequit"),Object(Vt.a)(e,ct.a.TRIBUTE,"configureDao"),Object(Vt.a)(e,ct.a.VOTING,"configureDao"),Object(Vt.a)(e,ct.a.WITHDRAW,"withdraw"),e}function Ht(e){var t;return{acl:qt((t={},Object(Vt.a)(t,ct.a.BANK,{}),Object(Vt.a)(t,ct.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object(Vt.a)(t,ct.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object(Vt.a)(t,ct.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object(Vt.a)(t,ct.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object(Vt.a)(t,ct.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Vt.a)(t,ct.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object(Vt.a)(t,ct.a.OFFCHAINVOTING,{}),Object(Vt.a)(t,ct.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object(Vt.a)(t,ct.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Vt.a)(t,ct.a.VOTING,{}),Object(Vt.a)(t,ct.a.WITHDRAW,{WITHDRAW:!0,SUB_FROM_BALANCE:!0}),t)[e])}}function qt(e){return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER])}var Yt=[{isExtension:!0,name:ct.a.BANK,extensionId:Ut(ct.a.BANK),contractAddress:O.a[O.g],description:"Adds the banking capabilities to the DAO, and keeps track of the DAO accounts and internal token balances."},{name:ct.a.CONFIGURATION,adapterId:Ut(ct.a.CONFIGURATION),contractAddress:O.d[O.g],description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:ct.a.DISTRIBUTE,adapterId:Ut(ct.a.DISTRIBUTE),contractAddress:O.h[O.g],description:"Allows the members to distribute funds to one or all members of the DAO."},{name:ct.a.FINANCING,adapterId:Ut(ct.a.FINANCING),contractAddress:O.l[O.g],description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:ct.a.GUILDKICK,adapterId:Ut(ct.a.GUILDKICK),contractAddress:O.o[O.g],description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:ct.a.MANAGING,adapterId:Ut(ct.a.MANAGING),contractAddress:O.r[O.g],description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:ct.a.ONBOARDING,adapterId:Ut(ct.a.ONBOARDING),contractAddress:O.u[O.g],description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:ct.a.RAGEQUIT,adapterId:Ut(ct.a.RAGEQUIT),contractAddress:O.v[O.g],description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:ct.a.TRIBUTE,adapterId:Ut(ct.a.TRIBUTE),contractAddress:O.A[O.g],description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{options:[{name:ct.a.VOTING,displayName:ct.a.OFFCHAINVOTING,adapterId:Ut(ct.a.VOTING),contractAddress:O.t[O.g],description:"Adds the offchain voting governance process to the DAO to support gasless voting."},{name:ct.a.VOTING,displayName:ct.a.VOTING,adapterId:Ut(ct.a.VOTING),contractAddress:O.B[O.g],description:"Adds the simple on chain voting governance process to the DAO."}],optionDefaultTarget:ct.a.VOTING},{name:ct.a.WITHDRAW,adapterId:Ut(ct.a.WITHDRAW),contractAddress:O.C[O.g],description:"Allows the members to withdraw their funds from the DAO bank."}],zt=n(208);function Kt(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(A.a)(e,["DaoRegistryContract"]),r=Object(l.useLazyQuery)(zt.a,{pollInterval:O.m,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(Q.a)(r,2),s=a[0],o=a[1],i=o.called,d=o.data,b=o.error,j=Object(c.useState)(),f=Object(Q.a)(j,2),p=f[0],h=f[1],m=Object(c.useState)(),x=Object(Q.a)(m,2),v=x[0],g=x[1],E=Object(c.useState)(nt.a.STANDBY),I=Object(Q.a)(E,2),y=I[0],w=I[1],C=Object(c.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return Yt.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(N.a)(Object(N.a)(Object(N.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var s=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),o=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(s||o){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(N.a)(Object(N.a)(Object(N.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}else{var s=a(e.adapterId);if(s)return n.push(Object(N.a)(Object(N.a)(Object(N.a)({},s),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(N.a)(Object(N.a)(Object(N.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(N.a)(Object(N.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(c.useEffect)((function(){i||s()}),[i,s]),Object(c.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(w(nt.a.PENDING),d){var e=d.molochv3S[0],n=e.adapters,r=e.extensions,a=C(n,r),c=a.registeredList,s=a.unRegisteredList;h(c),g(s),w(nt.a.FULFILLED)}else if(b)throw new Error(b.message)}catch(b){h(void 0),g(void 0),w(nt.a.REJECTED)}}),[t,d,b,C]),{adapterExtensionStatus:y,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:p,unRegisteredAdaptersOrExtensions:v}}var Jt,Qt,Xt,$t,Zt=n(81);function en(){var e=Object(ie.e)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString();return n===Jt.ADDRESS?function(t){try{return!!t&&(ke.a.utils.checkAddressChecksum(t,e)||ke.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===Jt.BYTES32?function(e){try{return!!e&&(66===e.length&&ke.a.utils.isHex(e))}catch(t){return!1}}(r):n===Jt.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&ke.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===Jt.UINT256?function(e){return!isNaN(Number(e))}(r):n!==Jt.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r)},getFormFieldError:function(e){return e===Jt.ADDRESS?Le.a.INVALID_ETHEREUM_ADDRESS:e===Jt.BYTES32?Le.a.INVALID_BYTES32:e===Jt.BYTES32_ARRAY?Le.a.INVALID_BYTES32_ARRAY:e===Jt.UINT256?Le.a.INVALID_NUMBER:e===Jt.UINT256_ARRAY?Le.a.INVALID_NUMBER_ARRAY:Le.a.REQUIRED},formatInputByType:function(e,t){return t===Jt.BYTES32_ARRAY?Array.from(e.split(",")):t===Jt.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===Jt.UINT256?Number(e):e}}}function tn(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,a=e.adapterOrExtension,s=e.closeHandler,o=Object(u.c)((function(e){return e.contracts})).DaoRegistryContract,i=Object(c.useState)(),d=Object(Q.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Pe.e.STANDBY),f=Object(Q.a)(j,2),O=f[0],h=f[1],m=Object(c.useState)(Pe.e.STANDBY),x=Object(Q.a)(m,2),v=x[0],A=x[1],g=Object(ie.a)(),E=g.txError,I=g.txIsPromptOpen,y=g.txSend,w=g.txStatus,C=Object(ie.b)(),_=Object(ie.f)(),R=_.connected,T=_.account,S=en(),D=S.isParamInputValid,k=S.getFormFieldError,P=S.formatInputByType,L=Kt().getAdapterOrExtensionFromRedux,F=Object(Se.a)({mode:"onBlur",reValidateMode:"onChange"}),M=F.errors,B=F.formState,G=F.getValues,V=F.setValue,U=F.register,W=F.trigger,H=l||E,q=R&&T,Y=B.isValid,z=(w===Pe.e.AWAITING_CONFIRM||w===Pe.e.PENDING)&&(O===Pe.e.AWAITING_CONFIRM||O===Pe.e.PENDING),K=(w===Pe.e.AWAITING_CONFIRM||w===Pe.e.PENDING)&&(v===Pe.e.AWAITING_CONFIRM||v===Pe.e.PENDING),J=w===Pe.e.FULFILLED&&O===Pe.e.FULFILLED,X=w===Pe.e.FULFILLED&&v===Pe.e.FULFILLED,$=(z||J)&&I,Z=(K||X)&&I;function ee(){return(ee=Object(re.a)(ne.a.mark((function e(){var t,n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,A(Pe.e.AWAITING_CONFIRM),t=[(null===a||void 0===a?void 0:a.isExtension)?null===a||void 0===a?void 0:a.extensionId:null===a||void 0===a?void 0:a.adapterId],n=Object(N.a)({from:T||""},C?{gasPrice:C.fast}:null),e.next=8,y((null===a||void 0===a?void 0:a.isExtension)?"removeExtension":"removeAdapter",o.instance.methods,t,n);case 8:A(Pe.e.FULFILLED),s&&setTimeout((function(){s()}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),b(e.t0),A(Pe.e.REJECTED);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function te(){return(te=Object(re.a)(ne.a.mark((function e(r){var c,s,o,i,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(Pe.e.PENDING),c=L(null===a||void 0===a?void 0:a.name),s=c.contractAddress,o=c.instance.methods,q){e.next=5;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 5:if(s){e.next=7;break}throw new Error("No ".concat(null===a||void 0===a?void 0:a.name," contract found."));case 7:if(T){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(r).find((function(t){return t[0]===e.name}));if(t){var n=P(t[1],e.type);i.push(n)}})),u=Object(N.a)({from:T||""},C?{gasPrice:C.fast}:null),h(Pe.e.AWAITING_CONFIRM),e.next=15,y(n,o,i,u);case 15:h(Pe.e.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),b(e.t0),h(Pe.e.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":M[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return V(e.name[0],G()[e.name])},ref:U({validate:function(t){return""===t?Le.a.REQUIRED:!!D(t,e.type)||k(e.type)}}),disabled:$}),Object(r.jsx)(Ue,{error:Object(p.f)(e.name,M),id:"error-".concat(e.name)})]})]},e.name)})),Object(r.jsx)("button",{className:"button",disabled:$||Z,onClick:function(){$||(Y?function(e){te.apply(this,arguments)}(G()):W())},type:"submit",children:z?Object(r.jsx)(He.a,{}):J?"Done":"Submit"}),H&&4001!==H.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Ve.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:H})}),Object(r.jsxs)("div",{className:"adapter-extension__remove",children:[Object(r.jsx)("p",{children:"Delete this adapter. Once you delete this adapter, it can be re-added if the DAO isn't finalized."}),Object(r.jsx)("button",{className:"button--secondary",disabled:Z||$,onClick:function(){return ee.apply(this,arguments)},children:K?Object(r.jsx)(He.a,{}):X?"Done":"Remove"})]})]})}function nn(e){var t=e.abiMethodName,n=e.adapterOrExtension,a=e.configurationInputs,c=e.isOpen,s=e.closeHandler;return Object(r.jsx)(le,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:c,isOpenHandler:function(){s()},children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){s()},children:Object(r.jsx)(be.a,{})}),Object(r.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(r.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(r.jsx)(tn,{abiConfigurationInputs:a,abiMethodName:t,adapterOrExtension:n,closeHandler:s})]})})}function rn(e){var t=e.adapterOrExtension,n=e.defaultTarget,a=e.renderActions,s=e.renderCheckboxAction,o=Object(c.useState)(n||null),i=Object(Q.a)(o,2),u=i[0],d=i[1],l=Object(c.useState)({}),b=Object(Q.a)(l,2),j=b[0],f=b[1];return Object(r.jsxs)(r.Fragment,{children:[s({selectedTargetOption:u}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(r.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;d(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));f(r)},children:[Object(r.jsxs)("option",{value:"",disabled:null!==u,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(r.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(r.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(a){console.warn(a)}}(u)]}),a({selectedTargetOption:u,selectedTargetOptionProps:j})]})}function an(e){var t=e.size,n=Object(A.a)(e,["size"]);return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)("input",Object(N.a)(Object(N.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(r.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(r.jsx)("span",{className:"checkbox-box ".concat(t||Qt.SMALL)}),Object(r.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}function cn(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,a=Object(c.useState)(""),s=Object(Q.a)(a,2),o=s[0],i=s[1],d=Object(c.useState)(),l=Object(Q.a)(d,2),b=l[0],j=l[1],f=Object(c.useState)(),O=Object(Q.a)(f,2),h=O[0],m=O[1],x=Object(c.useState)(),v=Object(Q.a)(x,2),A=v[0],g=v[1],E=Object(c.useState)(),I=Object(Q.a)(E,2),y=I[0],w=I[1],C=Object(c.useState)(!1),_=Object(Q.a)(C,2),R=_[0],T=_[1],S=Object(c.useState)(!1),D=Object(Q.a)(S,2),k=D[0],P=D[1],L=Object(c.useState)(0),F=Object(Q.a)(L,2),M=F[0],B=F[1],G=Object(c.useState)(),V=Object(Q.a)(G,2),U=V[0],W=V[1],H=Object(c.useState)(),q=Object(Q.a)(H,2),Y=q[0],z=q[1],K=Object(c.useState)(),J=Object(Q.a)(K,2),X=J[0],$=J[1],Z=Object(c.useState)(),ee=Object(Q.a)(Z,2),te=ee[0],ae=ee[1],ce=Object(ie.f)().account,se=Kt(),oe=se.adapterExtensionStatus,ue=se.getAdapterOrExtensionFromRedux,de=se.registeredAdaptersOrExtensions,le=se.unRegisteredAdaptersOrExtensions,be=Object(Zt.c)(),je=be.dao,fe=be.gqlError,pe=Object(ie.a)().txSend,Oe=Object(ie.b)(),he=Object(Zt.e)(),me=he.isDisabled,xe=he.openWhyDisabledModal,ve=he.setOtherDisabledReasons,Ne=he.WhyDisabledModal,Ae=je,ge=b===ht.a.READY,Ee=oe===nt.a.REJECTED&&void 0===de&&void 0===le,Ie=oe===nt.a.PENDING,ye=Object(c.useCallback)((function(){return we.apply(this,arguments)}),[t,null===je||void 0===je?void 0:je.name,ve]);function we(){return(we=Object(re.a)(ne.a.mark((function e(){var n,r;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===je||void 0===je?void 0:je.name," is already finalized"),e.next=6,Object(ht.g)(t.instance);case 6:r=e.sent,j(r),r===ht.a.READY&&ve([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function Ce(e){new Promise((function(t,n){try{t(ue(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Re(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function _e(e){new Promise((function(t,n){try{t(ue(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){Re(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function Re(e,t,n){return Te.apply(this,arguments)}function Te(){return(Te=Object(re.a)(ne.a.mark((function e(n,r,a){var c,s,o,i,u,d,l;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(void 0),t){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,$((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Vt.a)({},r,!0))})),n){e.next=7;break}throw new Error("".concat(a," address must not be empty"));case 7:return c=Ut(r),s=Ht(r),o=s.acl,i="ADAPTER"===a?[c,n,o]:[c,n,ce],u=Object(N.a)({from:ce||""},Oe?{gasPrice:Oe.fast}:null),d="ADAPTER"===a?"addAdapter":"addExtension",e.next=14,pe(d,t.instance.methods,i,u);case 14:$((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Vt.a)({},r,!1))})),m((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Vt.a)({},r,!0))})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),$((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Vt.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),w(l);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function Se(){return(Se=Object(re.a)(ne.a.mark((function e(){var t,r,a,c,s,o,i,u;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:for(a in e.prev=3,t=[],r=function(e){if(U[e]){var n=Yt.filter((function(t){return t.name===e}))[0].adapterId,r=ue(e).contractAddress,a=Ht(e).acl;n&&t.push([n,r,a]),$((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(Vt.a)({},e,!0))}))}},U)r(a);return c=[null===je||void 0===je?void 0:je.daoAddress,t],s=Object(N.a)({from:ce||""},Oe?{gasPrice:Oe.fast}:null),e.next=11,pe("addAdapters",n.instance.methods,c,s);case 11:e.next=20;break;case 13:for(u in e.prev=13,e.t0=e.catch(3),o=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),w(o),Pe(!1),i=function(e){$((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(Vt.a)({},e,!1))}))},U)i(u);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function De(){return(De=Object(re.a)(ne.a.mark((function e(t){var n,r,a,c,s;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(void 0);try{n=Wt()[t.name],r=ue(t.name),a=r.abi,c=a.filter((function(e){return e.name===n}))[0].inputs,i(n),z(t),g(c),T(!0)}catch(o){s=new Error(o&&4001===(null===o||void 0===o?void 0:o.code)?o.message:"".concat(t.name," contract not found")),w(s)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.alert("Sorry, finalizing isn't ready yet!");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){P(e);var t=function(t){W((function(n){return Object(N.a)(Object(N.a)({},n),{},Object(Vt.a)({},t,e))}))};for(var n in U)t(n)}return Object(c.useEffect)((function(){ye()}),[ye,t]),Object(c.useEffect)((function(){P(!1),le&&le&&(null===le||void 0===le||le.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&W((function(t){return Object(N.a)(Object(N.a)({},t),{},Object(Vt.a)({},e.name,!1))}))})))}),[me,le]),Object(c.useEffect)((function(){U&&B(Object.values(U).filter((function(e){return!0===e})).length)}),[U]),Object(r.jsxs)("div",{className:"adaptermanager",children:[Object(r.jsx)("h2",{children:"Adapter/Extension Manager"}),!je&&fe?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(Ve.a,{error:fe,renderText:"Something went wrong"})):je?Object(r.jsxs)("h3",{children:[je.name," ",Object(r.jsx)("small",{children:Object(p.i)(je.daoAddress,7)})]}):void 0,y?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(Ve.a,{error:y,renderText:"Something went wrong"})):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(r.jsxs)("div",{className:"adapter-extension__selection",children:[Object(r.jsx)("div",{children:Object(r.jsx)(an,{id:"selectAll",label:"".concat(M," selected"),checked:!0===k,disabled:Ee||me||0===(null===le||void 0===le?void 0:le.length)||!Ae,name:"selectAll",size:Qt.LARGE,onChange:function(e){Pe(e.target.checked)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary",disabled:0===M||me,onClick:function(){return Se.apply(this,arguments)},children:"Add selected"})})]}),Ie&&Object(r.jsx)(He.a,{text:"Loading data from subgraph..."}),Ee&&Object(r.jsx)("p",{children:"No adapters available"}),Ae&&le&&(null===le||void 0===le?void 0:le.length)>0&&le.map((function(e,t){return Object(r.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(r.jsx)(rn,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)(an,{id:n||"empty",label:"",checked:n&&U&&!0===U[n]||!1,disabled:me||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:Qt.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;W((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Vt.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:null===t||X&&X[n.name]||me,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?_e(n):Ce(n)},children:X&&X[n.name]?Object(r.jsx)(He.a,{}):h&&h[n.name]?"Done":"Add"})})})}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)(an,{id:e.name,label:"",checked:U&&!0===U[e.name]||!1,disabled:me,name:e.name,size:Qt.LARGE,onChange:function(t){W((function(n){return Object(N.a)(Object(N.a)({},n),{},Object(Vt.a)({},e.name,t.target.checked))}))}})}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:X&&X[e.name]||me,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?_e(e):Ce(e)},children:X&&X[e.name]?Object(r.jsx)(He.a,{}):h&&h[e.name]?"Done":"Add"})})]})},t)})),Ae&&de&&(null===de||void 0===de?void 0:de.length)>0&&de.map((function(e,t){return Object(r.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__configure",children:Object(r.jsx)("button",{className:"button--secondary",disabled:me||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return De.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),me&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){xe(),ae(Xt.CONFIGURATION_REASON)},children:Xt.CONFIGURATION_REASON})}),Object(r.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(r.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary finalize",disabled:Ee||!Ae||ge,onClick:function(){window.confirm("Do you really want to finalize this DAO?")&&function(){ke.apply(this,arguments)}()},children:"Finalize Dao"})}),me&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){xe(),ae(Xt.FINALIZED_REASON)},children:Xt.FINALIZED_REASON})}),Object(r.jsx)(Ne,{title:te})]}),R&&Object(r.jsx)(nn,{abiMethodName:o,adapterOrExtension:Y,configurationInputs:A,isOpen:R,closeHandler:function(){T(!1)}})]})}function sn(){var e=Object(q.h)().ethereumAddress,t=Object(q.f)(),n=Mt.find((function(t){return t.address.toLowerCase()===e.toLowerCase()}));return Object(c.useEffect)((function(){n||t.push("/404")}),[t,n]),n?Object(r.jsx)(on,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"memberprofile__left-column",children:[Object(r.jsx)("h3",{children:Object(p.i)(n.address,7)}),Object(r.jsx)(cn,{})]}),Object(r.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile @todo"})]})]})}):Object(r.jsx)(r.Fragment,{})}function on(e){var t=Object(q.f)();return Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsxs)(de.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function un(){return Object(r.jsx)(q.c,{children:[Object(r.jsx)(q.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(Re,{})}},"splash"),Object(r.jsx)(q.a,{exact:!0,path:"/join",render:function(){return Object(r.jsx)(Ye,{})}},"join"),Object(r.jsx)(q.a,{exact:!0,path:"/membership",render:function(){return Object(r.jsx)(et,{})}},"membership"),Object(r.jsx)(q.a,{exact:!0,path:"/membership/:proposalId",render:function(){return Object(r.jsx)(bt,{})}},"membership-details"),Object(r.jsx)(q.a,{exact:!0,path:"/transfer",render:function(){return Object(r.jsx)(xt,{})}},"transfer"),Object(r.jsx)(q.a,{exact:!0,path:"/transfers",render:function(){return Object(r.jsx)(Nt,{})}},"transfers"),Object(r.jsx)(q.a,{exact:!0,path:"/transfers/:proposalId",render:function(){return Object(r.jsx)(gt,{})}},"transfer-details"),Object(r.jsx)(q.a,{exact:!0,path:"/tribute",render:function(){return Object(r.jsx)(It,{})}},"tribute"),Object(r.jsx)(q.a,{exact:!0,path:"/tributes",render:function(){return Object(r.jsx)(wt,{})}},"tributes"),Object(r.jsx)(q.a,{exact:!0,path:"/tributes/:proposalId",render:function(){return Object(r.jsx)(_t,{})}},"tribute-details"),Object(r.jsx)(q.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(r.jsx)(Tt,{})}},"governance-proposal"),Object(r.jsx)(q.a,{exact:!0,path:"/governance-proposals",render:function(){return Object(r.jsx)(Dt,{})}},"governance-proposals"),Object(r.jsx)(q.a,{exact:!0,path:"/governance-proposals/:proposalId",render:function(){return Object(r.jsx)(Pt,{})}},"governance-proposal-details"),Object(r.jsx)(q.a,{exact:!0,path:"/members",render:function(){return Object(r.jsx)(Bt,{})}},"members"),Object(r.jsx)(q.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(r.jsx)(sn,{})}},"member-profile"),Object(r.jsx)(q.a,{component:rt},"no-match")]})}function dn(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ie,{}),Object(r.jsx)(ge,{}),Object(r.jsx)("main",{children:Object(r.jsx)(un,{})}),Object(r.jsx)(H,{})]})}function ln(e){var t=e.render,n=Object(u.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(c.useState)(),a=Object(Q.a)(r,2),s=a[0],o=a[1],i=Object(c.useState)(!1),d=Object(Q.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Object(Vt.a)({},$t.initSnapshotAPI,nt.a.STANDBY)),f=Object(Q.a)(j,2),p=f[0],h=f[1],m=Object(ie.c)(),x=Object(ie.f)(),v=x.account,A=x.connected,g=x.provider,E=x.web3Instance,I=Object(ie.e)().defaultChainError,y=Object(Zt.d)().isMountedRef,C=Object(u.b)(),_=Object(c.useCallback)((function(){return D.apply(this,arguments)}),[m]),R=Object(c.useCallback)((function(e,t){return k.apply(this,arguments)}),[C]),T=Object(c.useCallback)((function(){return S.apply(this,arguments)}),[y]);function S(){return(S=Object(re.a)(ne.a.mark((function e(){var t;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O.x){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(Te.getApiStatus)(O.x);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(y.current){e.next=11;break}return e.abrupt("return");case 11:h((function(e){return Object(N.a)(Object(N.a)({},e),{},Object(Vt.a)({},$t.initSnapshotAPI,nt.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),y.current){e.next=18;break}return e.abrupt("return");case 18:o(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function D(){return(D=Object(re.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function k(){return(k=Object(re.a)(ne.a.mark((function e(t,n){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(Object(w.o)(t,n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){b(Object.values(p).every((function(e){return e===nt.a.FULFILLED})))}),[p]),Object(c.useEffect)((function(){A&&g&&E&&_()}),[A,_,g,E]),Object(c.useEffect)((function(){A&&v&&n&&R(v,n)}),[v,A,n,R]),Object(c.useEffect)((function(){o(I)}),[I]),Object(c.useEffect)((function(){T()}),[T]),t({error:s,isInitComplete:l})}function bn(e){var t=e.error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{}),Object(r.jsx)(Ce,{className:"section-wrapper",children:Object(r.jsx)("main",{children:Object(r.jsxs)(de.a,{children:[Object(r.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(r.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(r.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(r.jsx)(Ve.a,{error:t,renderText:""})})]})})})]})}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(Jt||(Jt={})),function(e){e.LARGE="large",e.SMALL="small"}(Qt||(Qt={})),function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(Xt||(Xt={})),function(e){e.initSnapshotAPI="initSnapshotAPI"}($t||($t={}));var jn=n(202),fn=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,953)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},pn=(n(927),document.getElementById("root"));"production"===O.i&&Object(p.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var On=new b.ApolloClient({uri:O.n,cache:new b.InMemoryCache({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}}}})});null!==pn&&i.a.render(Object(r.jsx)(u.a,{store:W,children:Object(r.jsx)(d.a,{children:Object(r.jsx)(jn.b,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:f.a,options:{infuraId:O.q,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:h.a.LIGHT,children:Object(r.jsx)(l.ApolloProvider,{client:On,children:Object(r.jsx)(ln,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(r.jsx)(bn,{error:t}):n?Object(r.jsx)(dn,{}):null}})})})})}),pn),fn()},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(202);function c(){return Object(r.useContext)(a.a)}}},[[928,1,2]]]);
//# sourceMappingURL=main.867192e8.chunk.js.map