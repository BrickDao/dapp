(this["webpackJsonpmolochv3-ui"]=this["webpackJsonpmolochv3-ui"]||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return h})),n.d(t,"g",(function(){return O})),n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return g})),n.d(t,"h",(function(){return N})),n.d(t,"d",(function(){return w})),n.d(t,"l",(function(){return A})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return C}));var r,a,c=n(22),s=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x83eA12d54D5DCF88FeD2fB80dcEa1336A8Ac8924",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xE1306199D95a1Ee0Ef155A984B0a0B50F7B0c216"}),o=s.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,i=s.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,u=s.REACT_APP_ENVIRONMENT,d=s.REACT_APP_INFURA_PROJECT_ID_DEV,l=s.REACT_APP_INFURA_PROJECT_ID_LOCAL,b=s.REACT_APP_INFURA_PROJECT_ID_PROD,j=s.REACT_APP_MULTICALL_CONTRACT_ADDRESS,f=s.REACT_APP_SNAPSHOT_HUB_API_URL,p=u,h="localhost"===p?"/snapshot-hub":f,O="production"===u?b:"development"===u?d:l,m={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},x=(r={},Object(c.a)(r,m.MAINNET,"Main Ethereum Network"),Object(c.a)(r,m.ROPSTEN,"Ropsten Test Network"),Object(c.a)(r,m.RINKEBY,"Rinkeby Test Network"),Object(c.a)(r,m.GOERLI,"G\xf6rli Test Network"),Object(c.a)(r,m.KOVAN,"Kovan Test Network"),Object(c.a)(r,m.GANACHE,"Ganache Test Network"),r),v=(a={},Object(c.a)(a,m.MAINNET,"https://etherscan.io"),Object(c.a)(a,m.ROPSTEN,"https://ropsten.etherscan.io"),Object(c.a)(a,m.RINKEBY,"https://rinkeby.etherscan.io"),Object(c.a)(a,m.GOERLI,"https://goerli.etherscan.io"),Object(c.a)(a,m.KOVAN,"https://kovan.etherscan.io"),a),g=o,N=j,w="production"===u?m.MAINNET:"development"===u?m.RINKEBY:i?m[i]:m.GANACHE,A="0x000000000000000000000000000000000000babe",E="0x00000000000000000000000000000000000FF1CE",C={development:"thelao",localhost:"thelao",production:"thelao"}[p||"localhost"]},107:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),a=n(1),c=n(11);function s(e){var t=e.intervalMs,n=e.messages,s=e.useFirstItemStart?n[0]:Object(c.a)(n),o=Object(a.useState)(s),i=Object(r.a)(o,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},109:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},11:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b}));var a=n(6);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),s=c[0],o=c[1];t[s]="function"===typeof o?e:null}}function s(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function o(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=function(e){return e.toString().replace(/,/g,"")};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e)return"---";if("undefined"!==typeof e&&e.length>9){var n=e.substring(0,t),r=e.substring(e.length-3);return n+"..."+r}return"---"}},127:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(3),a=n(2),c=n.n(a),s=n(8),o="SET_CONNECTED_MEMBER",i="CLEAR_CONNECTED_MEMBER";function u(e,t){return function(){var n=Object(s.a)(c.a.mark((function n(a){var s,i,u,l,b;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((s=t.instance)&&e){n.next=4;break}return a(d()),n.abrupt("return");case 4:return n.prev=4,n.next=7,s.methods.memberAddressesByDelegatedKey(e).call({from:e});case 7:return i=n.sent,n.next=10,s.methods.isActiveMember(i).call({from:e});case 10:return u=n.sent,n.next=13,s.methods.getCurrentDelegateKey(i).call({from:e});case 13:l=n.sent,b=u&&!i.startsWith("0x0000000000"),a((c={delegateKey:l,isActiveMember:b,memberAddress:i},Object(r.a)({type:o},c))),n.next=22;break;case 18:throw n.prev=18,n.t0=n.catch(4),a(d()),n.t0;case 22:case"end":return n.stop()}var c}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}()}function d(){return{type:i}}},146:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n.n(r),c=n(8),s=n(48),o=n.n(s);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(o.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},147:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(6),c=n(3),s=n(1),o=n(15),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.intervalMs,n=void 0===t?1e3:t,l=e.fadeInProps,b=Object(c.a)(Object(c.a)({},l),{},{inline:!0}),j=Object(s.useState)(1),f=Object(a.a)(j,2),p=f[0],h=f[1];return Object(s.useEffect)((function(){var e=setInterval((function(){return h((function(e){return(e+1)%i.length}))}),n);return function(){clearInterval(e)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{style:u,children:[Object(r.jsx)("span",{children:p>=0&&i[0]}),Object(r.jsx)("span",{children:p>=1&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},b),{},{children:i[1]}))}),Object(r.jsx)("span",{children:p>=2&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},b),{},{children:i[2]}))}),Object(r.jsx)("span",{children:p>=3&&Object(r.jsx)(o.a,Object(c.a)(Object(c.a)({},b),{},{children:i[3]}))})]}),Object(r.jsx)("span",{style:d,children:"\xa0"})]})}},15:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(3),c=(n(1),n(828)),s=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},o={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(r.jsx)(c.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(r.jsx)("span",{style:Object(a.a)(Object(a.a)({},s(e)),o[n]),children:e.children}):Object(r.jsx)("div",{style:Object(a.a)(Object(a.a)({},s(e)),o[n]),children:e.children})}})}},151:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var r=n(0),a=n(1),c=n(97),s=Object(a.createContext)({});function o(e){var t=e.children,n=e.defaultChain,a=e.defaultTheme,o=void 0===a?c.a.DARK:a,i=e.providerOptions,u={defaultChain:n,defaultTheme:o,providerOptions:i},d=Object(c.b)(u),l={account:d.account,connected:d.connected,onConnectTo:d.onConnectTo,onDisconnect:d.onDisconnect,networkId:d.networkId,provider:d.provider,providerOptions:i,web3Instance:d.web3Instance,web3Modal:d.web3Modal};return Object(r.jsx)(s.Provider,{value:l,children:t})}},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l.a}));var r=n(2),a=n.n(r),c=n(8),s=n(6),o=n(1),i=n(10),u=n(39),d=n(11),l=n(65),b=n(5);function j(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],j=Object(o.useState)(""),f=Object(s.a)(j,2),p=f[0],h=f[1],O=Object(o.useState)(!1),m=Object(s.a)(O,2),x=m[0],v=m[1],g=Object(o.useState)(),N=Object(s.a)(g,2),w=N[0],A=N[1],E=Object(o.useState)(b.e.STANDBY),C=Object(s.a)(E,2),y=C[0],_=C[1],I=Object(l.a)().networkId;function k(e){return function(t){_(b.e.PENDING),v(!1),I&&I!==i.a.GANACHE&&h("".concat(i.f[I],"/tx/").concat(t)),e&&e(t)}}function D(){return(D=Object(c.a)(a.a.mark((function e(){var t,n,c,s,o,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),h(""),_(b.e.AWAITING_CONFIRM),v(!0),n=i.length,c=new Array(n),s=0;s<n;s++)c[s]=i[s];return c[4]=k(c[4]),e.next=10,u.a.apply(void 0,c);case 10:return o=e.sent,A(o),_(b.e.FULFILLED),t(),e.abrupt("return",o);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),_(b.e.REJECTED),v(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:p,txIsPromptOpen:x,txReceipt:w,txSend:function(){return D.apply(this,arguments)},txStatus:y}}var f="https://ethgasstation.info/json/ethgasAPI.json";function p(){var e=Object(o.useState)(f),t=Object(s.a)(e,2),n=t[0],r=(t[1],Object(o.useState)()),a=Object(s.a)(r,2),c=a[0];a[1],Object(o.useRef)();return Object(o.useEffect)((function(){}),[n]),c}var h=n(18),O=n(43);function m(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(o.useState)(!1),a=Object(s.a)(r,2),c=a[0],u=a[1],d=Object(o.useState)(),b=Object(s.a)(d,2),j=b[0],f=b[1];return Object(o.useEffect)((function(){u(t===i.d),n&&t!==i.d?f(new Error("Please connect to the ".concat(i.b[i.d],"."))):f(void 0)}),[n,t]),{defaultChain:i.d,defaultChainError:j,isDefaultChain:c}}function x(){var e=m().isDefaultChain,t=Object(l.a)().web3Instance,n=Object(h.b)();function r(){return(r=Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(Object(O.j)(t));case 5:return r.next=7,n(Object(O.i)(t));case 7:return r.next=9,n(Object(O.k)(t));case 9:return r.next=11,n(Object(O.l)(t));case 11:return r.next=13,n(Object(O.m)(t));case 13:return r.next=15,n(Object(O.n)(t));case 15:r.next=20;break;case 17:throw r.prev=17,r.t0=r.catch(0),r.t0;case 20:case"end":return r.stop()}}),r,null,[[0,17]])})))).apply(this,arguments)}return Object(o.useCallback)((function(){return r.apply(this,arguments)}),[n,e,t])}function v(){var e=Object(h.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey}))||"",t=Object(h.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress}))||"",n=Object(l.a)().account,r=void 0===n?"":n;return Object(d.g)(r)===Object(d.g)(t)&&Object(d.g)(r)!==Object(d.g)(e)}n(97)},27:function(e,t,n){"use strict";var r,a,c,s;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number."}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(s||(s={}))},30:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},343:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return M})),n.d(t,"e",(function(){return F}));var r=n(3),a=n(2),c=n.n(a),s=n(0),o=n(8),i=n(6),u=n(1),d=n(18),l=n(9),b=n(5),j=n(39),f=n(10),p=n(60),h=n(73),O=n(21),m=n(107),x=n(44),v=n(66),g=n(15),N=n(81);function w(e){var t=e.adapterName,n=e.proposal.snapshotProposal,a=Object(u.useState)(b.e.STANDBY),w=Object(i.a)(a,2),A=w[0],E=w[1],C=Object(u.useState)(),y=Object(i.a)(C,2),_=y[0],I=y[1],k=Object(d.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),D=Object(d.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.instance.methods})),S=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),R=Object(d.c)((function(e){return e.contracts})),T=Object(O.f)(),P=T.account,L=T.provider,M=Object(O.a)(),F=M.txEtherscanURL,V=M.txIsPromptOpen,B=M.txSend,G=M.txStatus,U=Object(h.d)(),W=U.isDisabled,q=U.openWhyDisabledModal,z=U.WhyDisabledModal,H=Object(O.b)(),Y=A===b.e.AWAITING_CONFIRM||A===b.e.PENDING||G===b.e.AWAITING_CONFIRM||G===b.e.PENDING,K=G===b.e.FULFILLED&&A===b.e.FULFILLED,J=Y||K||V;function Q(){return(Q=Object(o.a)(c.a.mark((function e(){var a,s,i,u,d,h,O,m,x,v,g,N,w,A,C;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(n.votes){e.next=7;break}throw new Error("No Snapshot proposal votes were found.");case 7:return E(b.e.AWAITING_CONFIRM),a=n.idInDAO,s=Object(j.c)(t,R),i=n.votes.map(function(){var e=Object(o.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t)[0],e.t0=l.createVote,e.t1=a,e.t2=r.address,e.t3=r.msg.payload.choice===l.VoteChoicesIndex.Yes,e.t4=Number(r.msg.timestamp),e.t5=r.sig,e.next=9,k.getPriorAmount(r.address,f.i,n.msg.payload.snapshot).call();case 9:return e.t6=e.sent,e.t7={proposalHash:e.t1,account:e.t2,voteYes:e.t3,timestamp:e.t4,sig:e.t5,weight:e.t6},e.abrupt("return",(0,e.t0)(e.t7));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=l.prepareVoteResult,e.t1=s,e.t2=f.d,e.t3=S,e.next=17,Promise.all(i);case 17:return e.t4=e.sent,e.t5={actionId:e.t1,chainId:e.t2,daoAddress:e.t3,votes:e.t4},e.next=21,(0,e.t0)(e.t5);case 21:return u=e.sent,d=u.voteResultTree,h=u.votes,O=d.getHexRoot(),m=Object(l.toStepNode)({actionId:s,chainId:f.d,merkleTree:d,step:h[h.length-1],verifyingContract:S}),x=Object(l.getVoteResultRootDomainDefinition)(S,s,f.d),v=x.domain,g=x.types,N=JSON.stringify({domain:v,message:{root:O},primaryType:p.a,types:g}),e.next=30,Object(l.signMessage)(L,P,N);case 30:return w=e.sent,E(b.e.FULFILLED),A=[S,a,O,Object(r.a)(Object(r.a)({},m),{},{rootSig:w})],C=Object(r.a)({from:P||""},H?{gasPrice:H.fast}:null),e.next=36,B("submitVoteResult",D,A,C);case 36:e.next=42;break;case 38:e.prev=38,e.t6=e.catch(0),I(e.t6),E(b.e.REJECTED);case 42:case"end":return e.stop()}}),e,null,[[0,38]])})))).apply(this,arguments)}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{className:"proposaldetails__button",disabled:W||J,onClick:W||J?function(){}:function(){return Q.apply(this,arguments)},children:Y?Object(s.jsx)(N.a,{}):K?"Done":"Submit Vote Result"}),Object(s.jsx)(x.a,{error:_,renderText:"Something went wrong"}),J&&Object(s.jsx)("div",{className:"form__submit-status-container",children:function(){if(G===b.e.AWAITING_CONFIRM||A===b.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(G){case b.e.PENDING:return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{intervalMs:2e3,messages:p.b,useFirstItemStart:!0,render:function(e){return Object(s.jsx)(g.a,{children:e},e)}}),Object(s.jsx)(v.a,{url:F,isPending:!0})]});case b.e.FULFILLED:return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{children:"Result submitted!"}),Object(s.jsx)(v.a,{url:F})]});default:return null}}()}),W&&Object(s.jsx)("button",{className:"button--help",onClick:q,children:"Why is submitting disabled?"})]}),Object(s.jsx)(z,{title:"Why is this disabled?"})]})}var A=n(11);var E=n(52);function C(e){var t,n,a,j=e.adapterName,f=e.proposal,p=Object(u.useState)(),m=Object(i.a)(p,2),v=m[0],g=m[1],N=Object(u.useState)(),w=Object(i.a)(N,2),C=w[0],y=w[1],_=Object(u.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),I=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),k=Object(O.f)().account,D=Object(E.e)(),S=D.signAndSendVote,R=D.voteDataStatus,T=Object(O.d)(),P=function(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(i.a)(e,2),r=n[0];return n[1],Object(A.g)(r)===Object(A.g)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===l.VoteChoicesIndex.Yes?b.d.Yes:b.d.No}(null===(t=f.snapshotProposal)||void 0===t?void 0:t.votes,k||""),L=Object(h.d)(),M=L.isDisabled,V=L.openWhyDisabledModal,B=L.setOtherDisabledReasons,G=L.WhyDisabledModal,U=(null===(n=f.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",W=(null===(a=f.snapshotProposal)||void 0===a?void 0:a.idInSnapshot)||"",q=R===b.e.AWAITING_CONFIRM||R===b.e.PENDING,z=R===b.e.FULFILLED,H=M||(q||z),Y=q?v:void 0;function K(){return(K=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(W){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return g(l.VoteChoices[t]),e.next=8,S({partialVoteData:{choice:t},adapterName:j,proposalIdInDAO:U,proposalIdInSnapshot:W});case 8:return e.next=10,f.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),y(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){if(I){var e=T?"Your member address is delegated to ".concat(I,". You must use that address to vote."):"";_.current=Object(r.a)(Object(r.a)({},_.current),{},{addressIsDelegatedMessage:e})}_.current=Object(r.a)(Object(r.a)({},_.current),{},{alreadyVotedMessage:P?"You have already voted.":""}),B(Object.values(_.current))}),[I,T,B,P]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(F,{onClick:H?function(){}:function(e){return K.apply(this,arguments)},buttonProps:{disabled:H,"aria-disabled":H},voteChosen:P,voteProgress:Y}),Object(s.jsx)(x.a,{error:C,renderText:"Something went wrong"}),M&&Object(s.jsx)("button",{className:"button--help",onClick:V,children:"Why is voting disabled?"}),Object(s.jsx)(G,{title:"Why is voting disabled?"})]})}var y=n(147);function _(e){var t=e.startLabel,n=e.startPeriodMs,r=e.endLabel,a=e.endedLabel,c=e.endPeriodMs,o=Object(u.useState)(null),d=Object(i.a)(o,2),l=d[0],b=d[1],j=Object(u.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),r=n.days,a=n.hours,c=n.minutes,o=n.seconds;return r>2&&t?"~".concat(r," days"):r>0?"".concat(f(r,"day")," : ").concat(f(a,"hr")," : ").concat(f(c,"min")):a>0?"".concat(f(a,"hr")," : ").concat(f(c,"min")):c>0?"".concat(f(c,"min")," : ").concat(f(o,"sec")):Object(s.jsx)("span",{className:"color-brightsalmon",children:f(o,"sec")})}),[]);function f(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(u.useEffect)((function(){var e=setInterval((function(){var o=new Date,i=new Date(n),u=new Date(c);if(o<i){var d=Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(s.jsx)("span",{className:"votingstatus__timer",children:j(i,!0)})]});b(d)}else if(o<u){var l=Object(s.jsxs)("span",{children:[Object(s.jsx)("span",{className:"votingstatus",children:r||"Ends:"})," ",Object(s.jsx)("span",{className:"votingstatus__timer",children:j(u)})]});b(l)}else{b(Object(s.jsx)("span",{className:"votingstatus",children:a||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[j,r,c,a,t,n]),Object(s.jsx)("div",{children:l})}function I(e){return Object(s.jsxs)("svg",Object(r.a)(Object(r.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(s.jsx)("defs",{children:Object(s.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(s.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(s.jsxs)("g",{id:"Group-70",children:[Object(s.jsx)("mask",{id:"mask-2",fill:"white",children:Object(s.jsx)("use",{xlinkHref:"#path-1"})}),Object(s.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function k(e){var t=e.hasVotingEnded,n=e.noShares,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,o=void 0===c||c,i=e.totalShares,u=e.yesShares,d=r();return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("div",{className:"votingstatus-container",children:[Object(s.jsx)(I,{"aria-label":"Counting down until voting ends",role:"img"}),d&&Object(s.jsx)("span",{className:"votingstatus",children:d}),a(_)]}),Object(s.jsx)(M,{yesShares:u,noShares:n,totalShares:i,votingExpired:t,showPercentages:o})]})}var D=Object(s.jsxs)("span",{children:["Grace period ends:",Object(s.jsx)("br",{})]}),S=Object(s.jsxs)("span",{children:["Grace period ended ",Object(s.jsx)("br",{})," ",Object(s.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),R={duration:150};function T(e){var t=e.countdownGracePeriodStartMs,n=e.proposal,r=n.snapshotProposal,a=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),c=Object(u.useState)(),o=Object(i.a)(c,2),l=o[0],f=o[1],p=Object(u.useState)(0),h=Object(i.a)(p,2),O=h[0],m=h[1],x=Object(E.b)(n),v=x.hasOffchainVotingStarted,g=x.hasOffchainVotingEnded,N=x.offchainVotingStartEndInitReady,w=Object(E.a)(n),A=(null===r||void 0===r?void 0:r.msg.payload.start)||0,C=(null===r||void 0===r?void 0:r.msg.payload.end)||0,_=(null===w||void 0===w?void 0:w.Yes.shares)||0,I=(null===w||void 0===w?void 0:w.No.shares)||0,T=null===w||void 0===w?void 0:w.totalShares;return Object(u.useEffect)((function(){g&&f(_>I)}),[g,I,_]),Object(u.useEffect)((function(){t&&a&&Object(j.e)(b.b.offchainVotingGracePeriod,a).then((function(e){return e&&m(1e3*Number(e))})).catch((function(){return m(0)}))}),[t,a]),Object(s.jsx)(k,{renderTimer:function(e){return N&&v&&!g?Object(s.jsx)(e,{startPeriodMs:1e3*A,endPeriodMs:1e3*C}):t&&O?Object(s.jsx)(e,{startPeriodMs:t,endLabel:D,endedLabel:S,endPeriodMs:t+O}):void 0},renderStatus:function(){return N?t?"":"boolean"===typeof l?l?"Approved":"Failed":void 0:Object(s.jsx)(y.a,{intervalMs:200,fadeInProps:R})},hasVotingEnded:g,noShares:I,totalShares:T,yesShares:_})}function P(e){return Object(s.jsx)("svg",Object(r.a)(Object(r.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(s.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function L(e,t){return(e/t*100).toFixed(0)}function M(e){var t=e.yesShares,n=void 0===t?0:t,r=e.noShares,a=void 0===r?0:r,c=e.totalShares,o=e.votingExpired,i=e.showPercentages,u=c?L(n,c):"0",d=c?L(a,c):"0";return Object(s.jsxs)("div",{className:"votingbar-container",children:[Object(s.jsxs)("div",{className:"votingbar",children:[Object(s.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(u,"% yes votes"),style:{width:"".concat(u,"%")}}),Object(s.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(d,"% no votes"),style:{width:"".concat(d,"%")}})]}),Object(s.jsx)("div",{className:"votingbar__percentages",children:i&&Object(s.jsxs)(s.Fragment,{children:[o&&n>a&&Object(s.jsx)("span",{className:"yes-check",children:Object(s.jsx)(P,{"aria-label":"Vote has passed"})}),Object(s.jsxs)("span",{className:"yes-percent",children:[u,"%"]}),Object(s.jsxs)("span",{className:"no-percent",children:[d,"%"]}),o&&n<=a&&Object(s.jsx)("span",{className:"no-check",children:Object(s.jsx)(P,{"aria-label":"Vote has failed"})})]})})]})}function F(e){var t=e.buttonProps,n=e.onClick,a=e.voteChosen,c=e.voteProgress,o=function(e){return a===e?"votingbutton--voted":""};function i(e){return c===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function u(e){return c===e?Object(s.jsx)(N.a,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):a===e?"Voted ".concat(e):"Vote ".concat(e)}function d(e){return function(){n(e)}}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(o(l.VoteChoices.Yes)),onClick:d(l.VoteChoices.Yes),children:u(l.VoteChoices.Yes)})),Object(s.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(o(l.VoteChoices.No)),onClick:d(l.VoteChoices.No),children:u(l.VoteChoices.No)}))]})}},379:function(e,t){},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return w}));var r=n(2),a=n.n(r),c=n(3),s=n(34),o=n(8);function i(e,t,n,r,a){return u.apply(this,arguments)}function u(){return(u=Object(o.a)(a.a.mark((function e(t,n,r,i,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o.a)(a.a.mark((function e(o,d){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n[t],e.next=4,l.apply(void 0,Object(s.a)(r)).estimateGas({from:i.from,value:i.value});case 4:return b=e.sent,e.next=7,l.apply(void 0,Object(s.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:b})).on("transactionHash",(function(e){u&&u(e)})).on("receipt",(function(e){o(e)})).on("error",(function(e){d(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(48),l=n.n(d);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var f=n(5);function p(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function h(e,t){try{switch(e){case f.a.configuration:case f.a.financing:case f.a.guildkick:return"";case f.a.managing:return p(t.ManagingContract);case f.a.onboarding:return p(t.OnboardingContract);case f.a.ragequit:return"";case f.a.tribute:return p(t.TributeContract);case f.a.voting:return p(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var O=n(11);function m(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(O.g)(t.contractAddress)===Object(O.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function x(e,t){return v.apply(this,arguments)}function v(){return(v=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}n(146);var g=n(6),N=n(10);function w(e){return A.apply(this,arguments)}function A(){return(A=Object(o.a)(a.a.mark((function e(t){var r,c,s,o,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,s=t.calls,o=t.web3Instance,e.next=3,n.e(10).then(n.t.bind(null,840,3));case 3:if(i=e.sent,u=i.default,N.h){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new o.eth.Contract(u,N.h),l=d.methods,e.next=12,l.aggregate(s.map((function(e){var t=Object(g.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),o.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=s[t][1].outputs||[],r=o.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:o.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},419:function(e,t){},421:function(e,t){},43:function(e,t,n){"use strict";n.d(t,"h",(function(){return r.c})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"l",(function(){return A})),n.d(t,"i",(function(){return E})),n.d(t,"m",(function(){return C})),n.d(t,"k",(function(){return y})),n.d(t,"n",(function(){return _}));var r=n(127),a=n(3),c=n(58),s=n(2),o=n.n(s),i=n(8),u=n(5),d=n(10),l=n(76),b=n(39),j=n(146),f="CONTRACT_BANK_EXTENSION",p="CONTRACT_DAO_REGISTRY",h="CONTRACT_MANAGING",O="CONTRACT_ONBOARDING",m="CONTRACT_TRIBUTE",x="CONTRACT_VOTING",v="CONTRACT_VOTING_OP_ROLLUP";function g(e){return function(){var t=Object(i.a)(o.a.mark((function t(r){var a,c,s,i,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(6).then(n.t.bind(null,832,3));case 4:if(a=t.sent,c=a.default,s=c,i=d.c){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(s,i),r(I({type:p,abi:s,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function N(e,t){return k({actionType:x,adapterOrExtensionName:u.a.voting,adapterNameForRedux:l.b.VotingContract,contractAddress:t,lazyImport:function(){return n.e(14).then(n.t.bind(null,833,3))},web3Instance:e})}function w(e,t){return k({actionType:v,adapterOrExtensionName:u.a.voting,adapterNameForRedux:l.b.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,834,3))},web3Instance:e})}function A(e,t){return k({actionType:O,adapterNameForRedux:l.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(12).then(n.t.bind(null,835,3))},web3Instance:e})}function E(e,t){return k({actionType:f,adapterNameForRedux:l.a.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(5).then(n.t.bind(null,836,3))},web3Instance:e})}function C(e,t){return k({actionType:m,adapterNameForRedux:l.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(13).then(n.t.bind(null,837,3))},web3Instance:e})}function y(e,t){return k({actionType:h,adapterNameForRedux:l.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(9).then(n.t.bind(null,838,3))},web3Instance:e})}function _(e,t){return function(){var r=Object(i.a)(o.a.mark((function r(a,c){var s,d,l,j,f,p,h;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=34;break}return s=c().contracts.DaoRegistryContract,r.next=5,n.e(8).then(n.t.bind(null,839,3));case 5:if(d=r.sent,l=d.default,s){r.next=10;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),r.abrupt("return");case 10:if(j="",f=t||"",p=function(){var t=Object(i.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new e.eth.Contract(l,n).methods.getAdapterName().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!f){r.next=17;break}return r.next=16,p(f);case 16:j=r.sent;case 17:if(f||j){r.next=24;break}return r.next=20,Object(b.b)(u.a.voting,null===(h=c().contracts.DaoRegistryContract)||void 0===h?void 0:h.instance);case 20:return f=r.sent,r.next=23,p(f);case 23:j=r.sent;case 24:r.t0=j,r.next="VotingContract"===r.t0?27:"OffchainVotingContract"===r.t0?30:33;break;case 27:return r.next=29,N(e,f)(a,c);case 29:return r.abrupt("return",r.sent);case 30:return r.next=32,w(e,f)(a,c);case 32:return r.abrupt("return",r.sent);case 33:throw new Error("Voting contract name could not be found.");case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 39:case"end":return r.stop()}}),r,null,[[0,36]])})));return function(e,t){return r.apply(this,arguments)}}()}function I(e){var t=e.type,n=Object(c.a)(e,["type"]);return Object(a.a)({type:t},n)}function k(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,s=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(o.a.mark((function e(c,i){var l,f,p,h,O,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(p=e.sent,h=p.default,O=h,e.t0=a,e.t0){e.next=18;break}if(!s){e.next=14;break}return e.next=11,Object(j.a)(r,null===(l=i().contracts.DaoRegistryContract)||void 0===l?void 0:l.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(b.b)(r,null===(f=i().contracts.DaoRegistryContract)||void 0===f?void 0:f.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(I({type:t,abi:O,contractAddress:m,adapterName:n,instance:new d.eth.Contract(O,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}},431:function(e,t){},433:function(e,t){},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(3),a=n(0),c=(n(1),n(15));function s(e){var t=e.error,n=e.renderText;return t&&4001!==(null===t||void 0===t?void 0:t.code)?Object(a.jsx)(c.a,{children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(a.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(a.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(a.jsx)("small",{children:"Details"})}),Object(a.jsx)("p",{className:"error-message",children:Object(a.jsx)("small",{children:t.message})})]}))]})}):null}},459:function(e,t){},46:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e[e.EXISTS=1]="EXISTS",e[e.SPONSORED=3]="SPONSORED",e[e.PROCESSED=7]="PROCESSED"}(r||(r={})),function(e){e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={}))},461:function(e,t){},462:function(e,t){},467:function(e,t){},469:function(e,t){},482:function(e,t){},494:function(e,t){},497:function(e,t){},5:function(e,t,n){"use strict";var r,a,c,s,o;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return o})),function(e){e.configuration="configuration",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.voting="voting"}(r||(r={})),function(e){e.bank="bank"}(a||(a={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingSharesPerChunk="onboarding.sharesPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(c||(c={})),function(e){e.Yes="Yes",e.No="No"}(s||(s={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(o||(o={}))},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return D}));var r=n(2),a=n.n(r),c=n(3),s=n(357),o=n(34),i=n(22),u=n(8),d=n(6),l=n(9),b=n(1),j=n(18),f=n(39),p=n(10),h=n(21),O=n(5);function m(e){var t=e.snapshotProposal,n=null===t||void 0===t?void 0:t.votes,r=null===t||void 0===t?void 0:t.msg.payload.snapshot,m=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),x=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),v=Object(b.useState)(),g=Object(d.a)(v,2),N=g[0],w=g[1],A=Object(b.useState)(),E=Object(d.a)(A,2),C=E[0],y=E[1],_=Object(h.f)().web3Instance,I=null===m||void 0===m?void 0:m.find((function(e){return"getPriorAmount"===e.name})),k=Object(b.useCallback)((function(){return D.apply(this,arguments)}),[x,I,r,N,_]);function D(){return(D=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,h,m,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,x&&I&&N){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("No snapshot was found.");case 5:return t={},Object(i.a)(t,O.d.Yes,{percentage:0,shares:0}),Object(i.a)(t,O.d.No,{percentage:0,shares:0}),Object(i.a)(t,"totalShares",0),n=t,u=[x,I,[p.l,p.i,r.toString()]],b=N.map((function(e){var t=Object(d.a)(e,1)[0];return[x,I,[t,p.i,r.toString()]]})),j=[u].concat(Object(o.a)(b)),e.next=11,Object(f.f)({calls:j,web3Instance:_});case 11:h=e.sent,m=Object(s.a)(h),v=m[0],m.slice(1).forEach((function(e,t){var r=l.VoteChoicesIndex[N[t][1]]===l.VoteChoicesIndex[l.VoteChoicesIndex.Yes]?O.d.Yes:O.d.No;n[r].shares+=Number(e)})),n[O.d.Yes].percentage=n[O.d.Yes].shares/Number(v)*100,n[O.d.No].percentage=n[O.d.No].shares/Number(v)*100,n.totalShares=Number(v),y((function(e){return Object(c.a)(Object(c.a)({},e),n)})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),y(void 0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(n){var e=n.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}));w(Object.entries(Object.fromEntries(e)))}}),[n]),Object(b.useEffect)((function(){k()}),[k]),C}var x=n(30);function v(e){var t=e.snapshotProposal,n=Object(b.useRef)({start:x.a.STANDBY,end:x.a.STANDBY}),r=Object(b.useState)(!1),a=Object(d.a)(r,2),c=a[0],s=a[1],o=Object(b.useState)(!1),i=Object(d.a)(o,2),u=i[0],j=i[1],f=Object(b.useState)(m(n.current)),p=Object(d.a)(f,2),h=p[0],O=p[1];function m(e){return Object.values(e).every((function(e){return e===x.a.FULFILLED}))}return Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!c){O((function(){return n.current.start=x.a.PENDING,m(n.current)}));var e=setInterval((function(){O((function(){return n.current.start=x.a.FULFILLED,m(n.current)}));var e=Math.floor(Date.now()/1e3)>t.msg.payload.start;e&&s(e)}),1e3);return function(){clearInterval(e)}}O((function(){return n.current.start=x.a.FULFILLED,m(n.current)}))}),[c,null===t||void 0===t?void 0:t.msg.payload.start,null===t||void 0===t?void 0:t.msg.type]),Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!u){O((function(){return n.current.end=x.a.PENDING,m(n.current)}));var e=setInterval((function(){O((function(){return n.current.end=x.a.FULFILLED,m(n.current)}));var e=Math.ceil(Date.now()/1e3)>t.msg.payload.end;e&&j(e)}),1e3);return function(){clearInterval(e)}}O((function(){return n.current.end=x.a.FULFILLED,m(n.current)}))}),[u,null===t||void 0===t?void 0:t.msg.payload.end,null===t||void 0===t?void 0:t.msg.type]),{hasOffchainVotingStarted:c,hasOffchainVotingEnded:u,offchainVotingStartEndInitReady:h}}var g=n(73),N="Something went wrong while getting the proposal.",w="Proposal was not found.";function A(e,t){var n=Object(b.useState)(),r=Object(d.a)(n,1)[0],s=Object(b.useState)(),o=Object(d.a)(s,2),i=o[0],j=o[1],f=Object(b.useState)(),h=Object(d.a)(f,2),O=h[0],m=h[1],v=Object(b.useState)(!1),A=Object(d.a)(v,2),E=A[0],C=A[1],y=Object(b.useState)(),_=Object(d.a)(y,2),I=_[0],k=_[1],D=Object(b.useState)(x.a.STANDBY),S=Object(d.a)(D,2),R=S[0],T=S[1],P=Object(g.a)(),L=P.abortController,M=P.isMountedRef,F=Object(g.b)(),V=Object(d.a)(F,2),B=V[0],G=V[1],U=Object(b.useCallback)((function(){return Y.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,M,B]),W=Object(b.useCallback)((function(){return K.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,M,B,t]),q=Object(b.useCallback)((function(){return J.apply(this,arguments)}),[U,W]),z=O?l.SnapshotType.proposal:i?l.SnapshotType.draft:void 0,H=i||O?{daoProposal:r,getCommonSnapshotProposalData:function(){switch(z){case l.SnapshotType.draft:return i;case l.SnapshotType.proposal:return O;default:return}},refetchProposalOrDraft:function(){G({type:"increment"})},snapshotDraft:i,snapshotProposal:O,snapshotType:z}:void 0;function Y(){return(Y=Object(u.a)(a.a.mark((function t(){var n,r,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===B&&T(x.a.PENDING),t.next=4,fetch("".concat(p.j,"/api/").concat(p.k,"/draft/").concat(e),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(N);case 7:return t.next=9,n.json();case 9:if(r=t.sent,M.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw C(!0),new Error(w);case 15:return s=Object.keys(r)[0],o=Object(c.a)({idInDAO:s,idInSnapshot:s},r[s]),T(x.a.FULFILLED),j(o),t.abrupt("return",o);case 22:t.prev=22,t.t0=t.catch(0),T(x.a.REJECTED),k(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function K(){return(K=Object(u.a)(a.a.mark((function n(){var r,s,o,i,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,0===B&&T(x.a.PENDING),n.next=4,fetch("".concat(p.j,"/api/").concat(p.k,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((s=n.sent).ok){n.next=9;break}if(t!==l.SnapshotType.proposal){n.next=8;break}throw new Error(N);case 8:return n.abrupt("return");case 9:return n.next=11,s.json();case 11:if(o=n.sent,M.current){n.next=14;break}return n.abrupt("return");case 14:if(o&&Object.keys(o).length){n.next=19;break}if(t!==l.SnapshotType.proposal){n.next=18;break}throw C(!0),new Error(w);case 18:return n.abrupt("return");case 19:return i=Object.keys(o)[0],u=(null===(r=o[i])||void 0===r?void 0:r.data.erc712DraftHash)||i,d=Object(c.a)({idInDAO:u,idInSnapshot:i},o[i]),T(x.a.FULFILLED),m(d),n.abrupt("return",d);case 27:n.prev=27,n.t0=n.catch(0),T(x.a.REJECTED),k(n.t0);case 31:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(t=e.sent){e.next=9;break}return e.next=6,U();case 6:return n=e.sent,j(n),e.abrupt("return");case 9:m(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(null===L||void 0===L?void 0:L.signal)switch(t){case l.SnapshotType.draft:U();break;case l.SnapshotType.proposal:W();break;default:q()}}),[null===L||void 0===L?void 0:L.signal,U,W,q,t]),{proposalData:H,proposalError:I,proposalNotFound:E,proposalStatus:R}}var E,C=n(46);function y(e){var t=e.snapshotDraft,n=e.snapshotProposal,r=(null===t||void 0===t?void 0:t.idInDAO)||(null===n||void 0===n?void 0:n.idInDAO),c=Object(h.f)().web3Instance,s=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),o=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),i=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.contractAddress})),l=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.abi})),p=Object(b.useState)(),O=Object(d.a)(p,2),m=O[0],x=O[1],g=Object(b.useState)(),N=Object(d.a)(g,2),w=N[0],A=N[1],y=Object(b.useState)(),_=Object(d.a)(y,2),I=_[0],k=_[1],D=Object(b.useRef)(),S=v(e),R=S.hasOffchainVotingStarted,T=S.hasOffchainVotingEnded,P=S.offchainVotingStartEndInitReady,L=Object(b.useCallback)((function(){return W.apply(this,arguments)}),[o,s,l,i,r,c]),M=!!m&&C.a[m.flags]===C.a[C.a.EXISTS],F=!!m&&C.a[m.flags]===C.a[C.a.SPONSORED],V=!!m&&C.a[m.flags]===C.a[C.a.PROCESSED],B=w&&w.reporter&&!w.reporter.startsWith("0x00000000000")&&w.resultRoot&&!w.resultRoot.startsWith("0x00000000000"),G=I&&E[I]===E[E.GRACE_PERIOD];function U(e,t){return{status:e,transitionMessage:t,daoProposal:m,daoProposalVoteResult:I,daoProposalVotes:w}}function W(){return(W=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,p,h,O,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o&&s&&l&&i&&r){e.next=3;break}return e.abrupt("return");case 3:return t=o.filter((function(e){return"proposals"===e.name}))[0],n=l.filter((function(e){return"voteResult"===e.name}))[0],u=l.filter((function(e){return"votes"===e.name}))[0],b=[[s,t,[r]],[i,u,[s,r]],[i,n,[s,r]]],e.next=9,Object(f.f)({calls:b,web3Instance:c});case 9:j=e.sent,p=Object(d.a)(j,3),h=p[0],O=p[1],m=p[2],x(h),A(O),k(m),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){L();var e=setInterval(L,5e3);D.current=e}),[L]),Object(b.useEffect)((function(){return V&&D.current&&clearInterval(D.current),function(){D.current&&clearInterval(D.current)}}),[V]),P&&!R&&M?U(C.b.Sponsor):P&&R&&!T&&F?U(C.b.OffchainVoting):P&&T&&F&&!B?U(C.b.OffchainVotingSubmitResult):P&&T&&F&&B&&G?U(C.b.OffchainVotingGracePeriod):F&&P&&T&&B&&!G?U(C.b.Process):V?U(C.b.Completed):{status:void 0,transitionMessage:void 0,daoProposal:m,daoProposalVoteResult:I,daoProposalVotes:w}}!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(E||(E={}));var _=n(60),I=n(65);function k(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){return e.contracts})),n=Object(I.a)(),r=n.account,s=n.provider,o=n.web3Instance,i=Object(b.useState)(),h=Object(d.a)(i,2),m=h[0],x=h[1],v=Object(b.useState)(),g=Object(d.a)(v,2),N=g[0],w=g[1],A=Object(b.useState)(O.e.STANDBY),E=Object(d.a)(A,2),C=E[0],y=E[1];function k(){return(k=Object(u.a)(a.a.mark((function n(i){var u,d,b,j,h,m,v,g,N,A,E,C,I,k,D,S,R,T,P,L,M,F,V;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=i.partialVoteData,d=i.adapterName,b=i.proposalIdInDAO,j=i.proposalIdInSnapshot,n.prev=1,o){n.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(r){n.next=6;break}throw new Error("No account was found.");case 6:if(e){n.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(p.j){n.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:return y(O.e.AWAITING_CONFIRM),h=Object(f.c)(d,t),m=u.choice,v=u.delegateAddress,g=u.metadata,N=void 0===g?{}:g,n.next=15,Object(l.getSpace)(p.j,p.k);case 15:return A=n.sent,E=A.data,C={chainId:p.d,choice:m,metadata:Object(c.a)(Object(c.a)({},N),{},{memberAddress:v||r})},I={proposalHash:b,space:p.k,token:E.token},n.next=21,Object(l.buildVoteMessage)(C,I,p.j);case 21:return k=n.sent,D=Object(l.prepareVoteMessage)({timestamp:k.timestamp,payload:{proposalHash:k.payload.proposalHash,choice:l.VoteChoicesIndex[m]}}),S=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},D),{},{type:l.SnapshotType.vote}),e,h,p.d),R=S.domain,T=S.types,P=JSON.stringify({types:T,domain:R,primaryType:_.a,message:D}),n.next=27,Object(l.signMessage)(s,r,P);case 27:return L=n.sent,y(O.e.PENDING),n.next=31,Object(l.submitMessage)(p.j,r,Object(c.a)(Object(c.a)({},k),{},{payload:Object(c.a)(Object(c.a)({},k.payload),{},{proposalHash:j})}),L,{actionId:R.actionId,chainId:R.chainId,verifyingContract:R.verifyingContract,message:D});case 31:return M=n.sent,F=M.data,V={data:k,signature:L,uniqueId:F.uniqueId},y(O.e.FULFILLED),x(V),n.abrupt("return",V);case 39:throw n.prev=39,n.t0=n.catch(1),y(O.e.REJECTED),w(n.t0),n.t0;case 44:case"end":return n.stop()}}),n,null,[[1,39]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return k.apply(this,arguments)},voteData:m,voteDataError:N,voteDataStatus:C}}function D(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(j.c)((function(e){return e.contracts})),r=Object(I.a)(),s=r.account,o=r.provider,i=r.web3Instance,h=Object(b.useState)(),m=Object(d.a)(h,2),x=m[0],v=m[1],g=Object(b.useState)(),N=Object(d.a)(g,2),w=N[0],A=N[1],E=Object(b.useState)(O.e.STANDBY),C=Object(d.a)(E,2),y=C[0],k=C[1];function D(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(a.a.mark((function e(n){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.j){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,i.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Object(f.e)(O.b.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,s=(0,e.t0)(e.t1),e.next=12,Object(l.buildProposalMessage)(Object(c.a)(Object(c.a)({},n),{},{votingTimeSeconds:s,snapshot:r}),p.j);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=Object(u.a)(a.a.mark((function t(r){var u,d,b,j,h,m,x,g,N,w,E,C,y,I,S,R,T,P,L,M,F,V;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.partialProposalData,d=r.adapterAddress,b=r.adapterName,j=r.type,t.prev=1,s){t.next=4;break}throw new Error("No account was found to send.");case 4:if(i){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(p.j){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(j===l.SnapshotType.draft||j===l.SnapshotType.proposal){t.next=12;break}throw new Error('Handling for type "vote" is not implemented.');case 12:return k(O.e.AWAITING_CONFIRM),h=d||(b?Object(f.c)(b,n):""),m=u.body,x=u.name,g=u.metadata,N=u.timestamp,t.next=17,Object(l.getSpace)(p.j,p.k);case 17:if(w=t.sent,E=w.data,C={name:x,body:m,metadata:g,token:E.token,space:p.k},j!==l.SnapshotType.draft){t.next=26;break}return t.next=23,Object(l.buildDraftMessage)(C,p.j);case 23:t.t0=t.sent,t.next=29;break;case 26:return t.next=28,D(Object(c.a)(Object(c.a)({},C),{},{timestamp:N}));case 28:t.t0=t.sent;case 29:return y=t.t0,I=j===l.SnapshotType.draft?Object(l.prepareDraftMessage)(y):Object(l.prepareProposalMessage)(y),S=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},I),{},{type:j}),e,h,p.d),R=S.domain,T=S.types,P=JSON.stringify({types:T,domain:R,primaryType:_.a,message:I}),t.next=35,Object(l.signMessage)(o,s,P);case 35:return L=t.sent,k(O.e.PENDING),t.next=39,Object(l.submitMessage)(p.j,s,y,L,{actionId:R.actionId,chainId:R.chainId,verifyingContract:R.verifyingContract,message:I});case 39:return M=t.sent,F=M.data,V={data:y,signature:L,uniqueId:F.uniqueId,uniqueIdDraft:F.uniqueIdDraft||""},k(O.e.FULFILLED),v(V),t.abrupt("return",V);case 47:throw t.prev=47,t.t1=t.catch(1),k(O.e.REJECTED),A(t.t1),t.t1;case 52:case"end":return t.stop()}}),t,null,[[1,47]])})))).apply(this,arguments)}return{proposalData:x,proposalSignAndSendError:w,proposalSignAndSendStatus:y,signAndSendProposal:function(e){return R.apply(this,arguments)}}}},537:function(e,t){},539:function(e,t){},567:function(e,t){},570:function(e,t){},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(5),a=(r.d.Yes,r.d.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},632:function(e,t){},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(151);function c(){return Object(r.useContext)(a.a)}},652:function(e,t){},659:function(e,t){},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},676:function(e,t){},725:function(e,t){},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return O}));var r=n(6),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return s.current=!0,!n&&c(new AbortController),function(){s.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:s}}var s={count:0};function o(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(o,s),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}function u(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var d=n(0),l=n(108),b=n.n(l),j=n(18),f=n(21),p=n(15),h=n(109);function O(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(r.a)(s,2),i=o[0],u=o[1],l=Object(j.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),O=Object(f.f)().connected,m=n&&n.find((function(e){return e})),x=!O||!l||!!m,v=function(){if(!O)return"Your wallet is not connected.";if(!l)return"Either you are not a member, or your membership is not active.";return m||""}(),g=!(!x||!v),N=Object(a.useCallback)((function(e){if(!g)return null;var t=e.title;return Object(d.jsx)(b.a,{ariaHideApp:!1,className:"modal-container",isOpen:i,onRequestClose:function(){u(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(d.jsx)(p.a,{children:Object(d.jsxs)("div",{className:"modal",children:[Object(d.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){u(!1)},children:Object(d.jsx)(h.a,{})}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(d.jsx)("p",{children:v})]})]})})})}),[g,v,i]),w=Object(a.useCallback)((function(e){c(e.filter(Boolean))}),[]);return{disabledReason:v,isDisabled:x,openWhyDisabledModal:function(){u(!0)},setOtherDisabledReasons:w,WhyDisabledModal:N}}},76:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.FINANCING="financing",e.GUILDKICK="guildkick",e.ONBOARDING="onboarding",e.OFFCHAIN_VOTING="offchain-voting",e.MANAGING="managing",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.VOTING="voting",e.WITHDRAW="withdraw"}(r||(r={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(a||(a={}))},794:function(e,t){},797:function(e,t){},800:function(e,t){},81:function(e,t,n){"use strict";var r=n(0),a=n(6),c=n(58),s=n(3),o=n(1);function i(e){return Object(r.jsx)("div",Object(s.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,u=e.textProps,d=Object(c.a)(e,["showAfterMs","text","textProps"]),l=Object(o.useState)(!1),b=Object(a.a)(l,2),j=b[0],f=b[1];return Object(o.useEffect)((function(){var e=t&&setTimeout((function(){return f(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&j)&&e.text?Object(r.jsxs)("div",{className:"loader-container",children:[Object(r.jsx)(i,Object(s.a)({},d)),Object(r.jsx)("span",Object(s.a)(Object(s.a)({className:"loader-text"},u),{},{children:n}))]}):(!t||t&&j)&&!e.text?Object(r.jsx)(i,Object(s.a)({},d)):null}},824:function(e,t,n){},825:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(74),o=n.n(s),i=n(18),u=n(28),d=n(345),l=n.n(d),b=n(11),j=n(10),f=n(97),p=n(75),h=n(350),O=n(351),m=n(3),x=n(58),v=n(127),g=null;function N(e,t){return Object(m.a)(Object(m.a)({},e),t)}function w(){return g}var A=n(43),E={BankExtensionContract:null,DaoRegistryContract:null,ManagingContract:null,OnboardingContract:null,TributeContract:null,VotingContract:null};function C(e,t){return Object(m.a)(Object(m.a)({},e),{},{BankExtensionContract:Object(m.a)({},t)})}function y(e,t){return Object(m.a)(Object(m.a)({},e),{},{DaoRegistryContract:Object(m.a)({},t)})}function _(e,t){return Object(m.a)(Object(m.a)({},e),{},{OnboardingContract:Object(m.a)({},t)})}function I(e,t){return Object(m.a)(Object(m.a)({},e),{},{TributeContract:Object(m.a)({},t)})}function k(e,t){return Object(m.a)(Object(m.a)({},e),{},{VotingContract:Object(m.a)({},t)})}function D(e,t){return Object(m.a)(Object(m.a)({},e),{},{ManagingContract:Object(m.a)({},t)})}var S=Object(p.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(x.a)(t,["type"]);switch(n){case v.b:return N(e,r);case v.a:return w();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(x.a)(t,["type"]);switch(n){case A.a:return C(e,r);case A.b:return y(e,r);case A.d:return _(e,r);case A.e:return I(e,r);case A.f:case A.g:return k(e,r);case A.c:return D(e,r);default:return e}}}),R=Object(p.createStore)(S,Object(h.composeWithDevTools)(Object(p.applyMiddleware)(O.a)));function T(){return Object(r.jsx)("div",{})}var P=n(35);function L(e){return Object(r.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"MOLOCH v3"})}function M(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(L,{size:"small"})})}function F(){return Object(r.jsx)("div",{className:"logo-container logo-container--header",children:Object(r.jsx)(L,{size:"medium"})})}function V(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(L,{size:"large"})})}var B=n(6),G=n(828),U=n(108),W=n.n(U),q=n(358),z=n(2),H=n.n(z),Y=n(8),K=n(153);function J(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(r.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(r.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(r.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(r.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function Q(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(r.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(r.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var X={injected:Object(r.jsx)(J,{}),walletconnect:Object(r.jsx)(Q,{})},Z=n(21);function $(){return Object(r.jsx)("div",{className:"loader--emoji",children:Object(r.jsx)("span",{role:"img","aria-label":"hourglass emoji",children:"\u23f3"})})}var ee=n(15);function te(e){var t=e.children,n=e.keyProp,a=e.isOpen,c=e.styleProps,s=e.isOpenHandler;return Object(r.jsx)(W.a,{ariaHideApp:!1,className:"modal-container",isOpen:a,onRequestClose:function(){s(a)},overlayClassName:"modal-overlay",role:"dialog",style:Object(m.a)({overlay:{zIndex:"99"}},c),children:Object(r.jsx)(ee.a,{children:Object(r.jsx)("div",{className:"modal",children:t})})},n)}var ne=n(109);function re(e){var t,n=e.customWalletText,c=e.showWalletETHBadge,s=Object(Z.f)(),o=s.account,i=s.connected,u=s.providerOptions,d=s.onConnectTo,l=s.onDisconnect,f=s.networkId,p=s.web3Modal,h=Object(Z.e)(),O=h.defaultChain,m=h.defaultChainError,x=h.isDefaultChain,v=Object(a.useState)(!1),g=Object(B.a)(v,2),N=g[0],w=g[1],A=null!==(t=f!==O)&&void 0!==t?t:x,E=f===j.a.GANACHE,C=K.isMobile?o?Object(b.i)(o):"Connect":c&&o?Object(b.i)(o):n||"";function y(){window.open("".concat(j.f[O],"/address/").concat(o),"_blank")}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(A&&i?"walletconnect__connect-button--error":""),onClick:function(){w(!0)},children:[Object(r.jsx)("span",{className:"connect-button-text ".concat(i?"connect-button-text--ethAddress":""),children:C||"Connect"}),c&&A&&i&&Object(r.jsx)("span",{children:"Wrong Network"}),c&&Object(r.jsx)(ae,{providerName:null===p||void 0===p?void 0:p.cachedProvider})]}),N&&function(){var e=Object.entries(u).filter((function(e){return"injected"!==e[0]})),t=(K.isMobile?e:Object.entries(u)).map((function(e){return Object(r.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(i&&(null===p||void 0===p?void 0:p.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object(Y.a)(H.a.mark((function t(){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:E&&"walletconnect"===e[0],children:[Object(r.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(r.jsx)(ae,{providerName:e[0]})]},e[0])}));return Object(r.jsxs)(te,{keyProp:"web3modal",isOpen:N,isOpenHandler:function(){w(!1)},children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){w(!1)},children:Object(r.jsx)(ne.a,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),i&&A?null:Object(r.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),o&&Object(r.jsx)("button",{className:"walletconnect__connected-address-button",onClick:y,disabled:E,children:K.isMobile?Object(b.i)(o):o}),i&&A?Object(r.jsx)(ce,{defaultChainError:(null===m||void 0===m?void 0:m.message)||""}):Object(r.jsx)("div",{className:"walletconnect__options",children:t}),i&&Object(r.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:l,children:"Disconnect Wallet"})]})]})}()]})}function ae(e){var t=e.providerName;return t?Object(r.jsx)("span",{className:"walletconnect__wallet-icon",children:X[t]}):null}function ce(e){var t=e.defaultChainError;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("small",{children:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)($,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var se=c.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(r.jsx)(re,{customWalletText:t,showWalletETHBadge:n})}));function oe(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"svg-inline--fa fa-bars fa-w-14 fa-3x","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var ie={transition:"0.1s"},ue={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},de={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function le(){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(u.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(u.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(u.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(u.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})})]})})}function be(){var e=Object(a.useState)(!1),t=Object(B.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(ue),o=Object(B.a)(s,2),i=o[0],d=o[1],l=Object(P.g)(),b=Object(P.f)(),j=Object(Z.f)().account,f="/"===l.pathname;function p(e){if(!e){d(de);var t=setTimeout((function(){return c(e)}),500);return function(){return clearTimeout(t)}}c(e),d(ue)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(q.a,{query:"(max-width: 62em)",children:function(e){return Object(r.jsx)("div",{className:"nav-header",children:Object(r.jsxs)("div",{className:"nav-header__menu-container",children:[!f&&Object(r.jsx)(le,{}),Object(r.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(r.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),p(!0)},children:Object(r.jsx)(oe,{})})}),Object(r.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(r.jsx)(se,{showWalletETHBadge:!0})})]})})}}),Object(r.jsx)(W.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:n,onRequestClose:function(){p(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(r.jsx)(G.a,{appear:!0,in:n,timeout:200,children:function(e){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("div",{style:Object(m.a)(Object(m.a)({},ie),i[e]),className:"nav-modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),p(!1)},children:Object(r.jsx)(ne.a,{})}),Object(r.jsx)(M,{}),Object(r.jsxs)("div",{className:"nav-modal__walletconnect-button-container",children:[Object(r.jsx)(se,{showWalletETHBadge:!0}),Object(r.jsx)("button",{className:"button",onClick:function(){p(!1),b.push("/join")},children:"Join"})]}),Object(r.jsxs)("ul",{className:"nav__list",children:[Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(u.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(u.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(u.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)(u.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})}),Object(r.jsx)("li",{onClick:function(){p(!1)},children:Object(r.jsx)("a",{href:"#",rel:"noopener noreferrer",target:"_blank",children:Object(r.jsx)("span",{children:"Help"})})}),j&&Object(r.jsx)("li",{className:"link-separated",onClick:function(){p(!1)},children:Object(r.jsx)(u.c,{to:"/members/".concat(j),children:Object(r.jsx)("span",{children:"Profile"})})})]})]})})}})})]})}function je(){if("/"===Object(P.g)().pathname)return null;function e(e){return Object(r.jsx)(u.b,{to:"/",children:e.children})}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(e,{children:Object(r.jsx)(F,{})}),Object(r.jsx)("div",{className:"header__nav-container",children:Object(r.jsx)(be,{})})]})})}var fe=n(353);function pe(){return Object(r.jsxs)(fe.a,{children:[Object(r.jsx)("title",{children:"MOLOCH v3"}),Object(r.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var he=n(356),Oe=n.n(he),me=(n(789),function(e){var t=e.children,n=Object(x.a)(e,["children"]);return Object(r.jsx)("div",Object(m.a)(Object(m.a)({style:{position:"relative"}},n),{},{children:t}))}),xe=c.a.memo((function(){return Object(r.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(r.jsx)("div",{className:"cube__segment--top"}),Object(r.jsx)("div",{className:"cube__segment--left"}),Object(r.jsx)("div",{className:"cube__segment--right"})]})}));function ve(){var e=Object(P.f)();return Object(a.useEffect)((function(){Oe.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("header",{className:"header",children:Object(r.jsx)(V,{})}),Object(r.jsxs)("div",{className:"landing",children:[Object(r.jsx)("div",{className:"landing__subtitle",children:Object(r.jsx)("p",{children:"For the ongoing development of Moloch v3"})}),Object(r.jsx)("div",{className:"landing__img",children:Object(r.jsx)(xe,{})}),Object(r.jsx)("div",{className:"landing__button",children:Object(r.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})}),Object(r.jsx)("div",{className:"landing__navlinks",children:Object(r.jsx)(le,{})})]})]})})}var ge=n(9),Ne=n(152),we=n(48),Ae=n.n(we),Ee=n(5),Ce=n(27),ye=function(e){return Ae.a.utils.isAddress(e)},_e=n(60),Ie=n(52),ke=n(107),De=n(44);function Se(e){var t=e.error,n=Object(x.a)(e,["error"]);return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(ee.a,{children:Object(r.jsx)("p",Object(m.a)(Object(m.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var Re,Te=n(81),Pe=n(66);function Le(){var e=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),t=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(Z.e)().defaultChainError,c=Object(Z.f)(),s=c.connected,o=c.account,u=c.web3Instance,d=Object(Z.b)(),l=Object(Z.a)(),f=l.txError,p=l.txEtherscanURL,h=l.txIsPromptOpen,O=l.txSend,x=l.txStatus,v=Object(Ie.f)(),g=v.proposalData,N=v.proposalSignAndSendStatus,w=v.signAndSendProposal,A=Object(Ne.a)({mode:"onBlur",reValidateMode:"onChange"}),E=Object(P.f)(),C=Object(a.useState)(),y=Object(B.a)(C,2),_=y[0],I=y[1],k=Object(a.useState)(),D=Object(B.a)(k,2),S=D[0],R=D[1],T=A.errors,L=A.getValues,M=A.setValue,F=A.register,V=A.triggerValidation,G=_||f,U=s&&o,W=x===Ee.e.AWAITING_CONFIRM||x===Ee.e.PENDING||N===Ee.e.AWAITING_CONFIRM||N===Ee.e.PENDING,q=x===Ee.e.FULFILLED&&N===Ee.e.FULFILLED,z=W||q||h,K=Object(a.useCallback)((function(){return J.apply(this,arguments)}),[o,u]);function J(){return(J=Object(Y.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&o){e.next=3;break}return R(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,u.eth.getBalance(o);case 6:t=e.sent,R({wei:t,eth:u.utils.fromWei(t)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),R(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(Y.a)(H.a.mark((function n(r){var a,c,s,i,u,l,f,p;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,U){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No OnboardingContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(o){n.next=9;break}throw new Error("No account found.");case 9:if(a=(null===g||void 0===g?void 0:g.uniqueId)||"",c=r.ethAddress,s=r.ethAmount,i=Ae.a.utils.toWei(Object(b.h)(s),"ether"),a){n.next=18;break}return n.next=15,w({partialProposalData:{name:c,body:"Membership for ".concat(c,"."),metadata:{amountUnit:"ETH"}},adapterName:Ee.a.onboarding,type:ge.SnapshotType.draft});case 15:u=n.sent,l=u.uniqueId,a=l;case 18:return f=[t.contractAddress,a,c,j.i,i],p=Object(m.a)({from:o||"",value:i},d?{gasPrice:d.fast}:null),n.next=22,O("onboard",e.instance.methods,f,p);case 22:E.push("/membership/".concat(a)),n.next=28;break;case 25:n.prev=25,n.t0=n.catch(0),I(n.t0);case 28:case"end":return n.stop()}}),n,null,[[0,25]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){K()}),[K]),Object(a.useEffect)((function(){M(Re.ethAddress,o)}),[o,M]),U?n?Object(r.jsx)(Me,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:n.message})})}):Object(r.jsx)(Me,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(Re.ethAddress),"aria-invalid":T.ethAddress?"true":"false",name:Re.ethAddress,ref:F({validate:function(e){return e?!!ye(e)||Ce.a.INVALID_ETHEREUM_ADDRESS:Ce.a.REQUIRED}}),type:"text",disabled:z}),Object(r.jsx)(Se,{error:Object(b.f)(Re.ethAddress,T),id:"error-".concat(Re.ethAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Re.ethAmount),"aria-invalid":T.ethAmount?"true":"false",name:Re.ethAmount,onChange:function(){return M(Re.ethAmount,Object(b.e)(L().ethAmount))},ref:F({validate:function(e){var t=Number(Object(b.h)(e));return""===e?Ce.a.REQUIRED:isNaN(t)?Ce.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(null===S||void 0===S?void 0:S.eth))||"Insufficient funds."}}),type:"text",disabled:z}),Object(r.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(r.jsx)(Se,{error:Object(b.f)(Re.ethAmount,T),id:"error-".concat(Re.ethAmount)})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsxs)("span",{className:"text-underline",children:[S?Object(b.d)(Number(S.eth)):"---"," ","ETH"]})]})]}),Object(r.jsx)("button",{className:"button",disabled:z,onClick:Object(Y.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:Q(L());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:W?Object(r.jsx)(Te.a,{}):q?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:z&&function(){if(x===Ee.e.AWAITING_CONFIRM||N===Ee.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(x){case Ee.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke.a,{intervalMs:2e3,messages:_e.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ee.a,{children:e},e)}}),Object(r.jsx)(Pe.a,{url:p,isPending:!0})]});case Ee.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(Pe.a,{url:p})]});default:return null}}()}),G&&4001!==G.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(De.a,{renderText:"Something went wrong while submitting the proposal.",error:G})})]})}):Object(r.jsx)(Me,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a member proposal."})})})}function Me(e){return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(Re||(Re={}));var Fe=n(343);function Ve(e){var t=e.buttonText,n=void 0===t?"View Proposal":t,a=e.proposal,c=e.onClick,s=e.name;return Object(r.jsxs)("div",{className:"proposalcard",onClick:function(){var e=a.snapshotProposal.hash;c(e)},children:[Object(r.jsx)("h3",{className:"proposalcard__title",children:s}),Object(r.jsx)(Fe.c,{proposal:a}),Object(r.jsx)("button",{className:"proposalcard__button",children:n})]})}var Be=[{snapshotProposal:{hash:"dc5abd65bacfe1fa2d1ad3dd8fdb213e902c3b63a4f6b57c467e50dca1f913da",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:0}},{snapshotProposal:{hash:"ffa6c0f8d1d992c9aa678340316c8246965ac07144291c04a4375be0324ebc27",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:45e5,noShares:0}},{snapshotProposal:{hash:"eec0cce4145d0b25c722ad182beec85de3959c475b1e4066552ec50717212769",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:35e5}},{snapshotProposal:{hash:"462b6c505af6061713f1a32c70fb6303040e7394d929d89a1c3cd1033eb5a605",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:7e6,noShares:25e5}},{snapshotProposal:{hash:"d137bfdd2e8ce83b5acc229827cfafaf32084ae253f2da974f931ef542b5bbfc",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:35e5,noShares:55e5}},{snapshotProposal:{hash:"55af58ef30f602aa8e395dc41cc7e0598ea949e5730b1347d0fd0ebc02cb15ed",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:5e6,noShares:5e6}}],Ge=[{snapshotProposal:{hash:"a28b59b9dce2132657c9db537f73063c01f33e04cc9ddf70ce61bfbc4690b16b",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"01f091d9e0e1bbe0201be6805ac174638cf2671fdcb8949691263ffa4c443b61",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"1360b9d92677953e84ece64a0c0349b60b6c554f5f5e484b8731adca7f153318",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"b4fcaf70b442fb5bf4a8d116f1b4eab4f8379be68e07bb8ba085043506a99fc2",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"38745ec51d277636144fe6eac46c7378374bbfec2ead1265bbe5a76506313cb4",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"244cc0016922eb37cf675e7d21e8ade6cc93ab435dcaa76cb1bd5beed5375ef4",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}}],Ue=[{snapshotProposal:{hash:"3ba30491a6cf748cf3d0ecbb0961627bab8589eaef90726b0aa95f0839f95b44",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e5,noShares:0}},{snapshotProposal:{hash:"f2bee4497f29ed36fda8fb04df71922e32f91f191a58689fd2ec0fa94a139202",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:7e6,noShares:3e6}},{snapshotProposal:{hash:"bf97fd71511f3505406a985f47cf901f89c22356817e7aefe0a4fc41f5b4edbc",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:5e6,noShares:25e5}},{snapshotProposal:{hash:"a724f73ccb0cc9ae0edd8d80f6c75482534f0d3e3f1d7c27fbb17705ef7c61fb",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:75e5,noShares:25e5}},{snapshotProposal:{hash:"79a9b72c3ea3a3f1411a23f65f3f1d043ebf0bd6dbd3b6abe2f05423fd3e9013",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:55e5,noShares:45e5}},{snapshotProposal:{hash:"44509e866a56482b8b3b2373cbe48d89cc0abff4a37626b5ff0e420fc5f3cc8d",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e7,noShares:0}}],We=[{snapshotProposal:{hash:"1531a1656c7cb51414606bbe69795f0b9c7c624d3b74b539880e08eab6e5ad95",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e5}},{snapshotProposal:{hash:"0597d6387981ef338abfa8c801c8f07fe67377aaa9689619ed6a3128289d665c",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:3e6,noShares:7e6}},{snapshotProposal:{hash:"7cedf63b766d881250e665da21bfb08944bbca56f04ac2ebcf9d37281fbada3b",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:5e6}},{snapshotProposal:{hash:"b9f1d513670876b5af13534b30a14233c3371d3e58195c31086a47ef7d341fed",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:75e5}},{snapshotProposal:{hash:"05e5c09e12b2fe36cb4e4d6e4d7c7d23fc79f6e8d30e218d4b8f6a1be774b2c2",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:45e5,noShares:55e5}},{snapshotProposal:{hash:"3fd0d42255683cd77fa2c8758f429094b2ece70e325c9f7e94728ed3c93155f4",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e7}}];[].concat(Be,Ge,Ue,We);function qe(){var e=Object(P.f)(),t=s(Be),n=s(Ge),a=s(Ue),c=s(We);function s(t){return t.map((function(t){return Object(r.jsx)(Ve,{onClick:(n=t.snapshotProposal.hash,function(){n&&e.push("/membership/".concat(n))}),proposal:t,name:Object(b.i)(t.snapshotProposal.name,7)},t.snapshotProposal.hash);var n}))}return Object(r.jsx)(ze,{children:Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[t.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Ce.d.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:t})]}),n.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Ce.d.REQUESTS}),Object(r.jsx)("div",{className:"grid__cards",children:n})]}),a.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Ce.d.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:a})]}),c.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:Ce.d.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:c})]})]})})}function ze(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var He=n(30);function Ye(){return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsx)(ee.a,{children:Object(r.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(r.jsxs)("h3",{children:["4",Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}var Ke=n(147),Je=n(76),Qe=Object(a.lazy)((function(){return n.e(3).then(n.bind(null,843))})),Xe={duration:150},Ze={display:"inline-block",width:"100%",fontSize:"1.5rem"};function $e(e){var t=e.adapterName,n=e.proposal,c=Object(i.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterName}));return Object(r.jsx)(a.Suspense,{fallback:Object(r.jsx)("span",{className:"text-center",style:Ze,children:Object(r.jsx)(Ke.a,{intervalMs:200,fadeInProps:Xe})}),children:function(){if(!c)return Object(r.jsx)(r.Fragment,{});switch(c){case Je.b.OffchainVotingContract:return Object(r.jsx)(Qe,{adapterName:t,proposal:n});default:var e=new Error('"'.concat(c,'" is not a valid voting adapter name.'));return Object(r.jsx)(De.a,{error:e,renderText:"Something went wrong"})}}()})}function et(e){var t=e.amount,n=e.amountUnit,a=e.amount2,c=e.amount2Unit;return Object(r.jsx)("div",{className:"proposaldetails__amount",children:Object(r.jsxs)("span",{children:["".concat(t," ").concat(n),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"for"}),Object(r.jsx)("br",{}),"".concat(a," ").concat(c)]})]})})}function tt(e){var t=e.proposal,n=e.renderAmountBadge,a=e.renderActions,c=t.getCommonSnapshotProposalData();return c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"proposaldetails__content",children:[Object(r.jsx)("h3",{children:Object(b.i)(c.msg.payload.name||"",7)}),Object(r.jsx)("p",{children:c.msg.payload.body})]}),Object(r.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),a()]})]})]}):null}function nt(){var e=Object(P.h)().proposalId,t=Object(Ie.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===He.a.PENDING)return Object(r.jsx)(rt,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)($,{})})});if(c)return Object(r.jsx)(rt,{children:Object(r.jsx)(Ye,{})});if(s===He.a.REJECTED||a)return Object(r.jsx)(rt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(De.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{u=Object(b.d)(Number(Ae.a.utils.fromWei(null===o||void 0===o?void 0:o.amount,"ether")))}catch(d){u="\u2026"}return Object(r.jsx)(rt,{children:Object(r.jsx)(tt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(et,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)($e,{adapterName:Ee.a.onboarding,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function rt(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function at(){return Object(r.jsx)(ct,{children:Object(r.jsx)("div",{children:"CreateTransferProposal @todo"})})}function ct(e){return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),e.children]})})}function st(){return Object(r.jsx)(ot,{children:Object(r.jsx)("div",{children:"Transfers @todo"})})}function ot(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}function it(){return Object(r.jsx)(ut,{children:Object(r.jsx)("div",{children:"TransferDetails @todo"})})}function ut(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}var dt,lt=n(29);function bt(){var e=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),t=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),c=Object(Z.e)().defaultChainError,s=Object(Z.f)(),o=s.connected,d=s.account,l=s.web3Instance,f=Object(Z.b)(),p=Object(Z.a)(),h=p.txError,O=p.txEtherscanURL,x=p.txIsPromptOpen,v=p.txSend,g=p.txStatus,N=Object(Z.a)(),w=N.txError,A=N.txEtherscanURL,E=N.txIsPromptOpen,C=N.txSend,y=N.txStatus,_=Object(Ie.f)(),I=_.proposalData,k=_.proposalSignAndSendStatus,D=_.signAndSendProposal,S=Object(Ne.a)({mode:"onBlur",reValidateMode:"onChange"}),R=Object(P.f)(),T=Object(a.useState)(),L=Object(B.a)(T,2),M=L[0],F=L[1],V=Object(a.useState)(),G=Object(B.a)(V,2),U=G[0],W=G[1],q=Object(a.useState)(),z=Object(B.a)(q,2),K=z[0],J=z[1],Q=Object(a.useState)(),X=Object(B.a)(Q,2),$=X[0],te=X[1],ne=S.errors,re=S.formState,ae=S.getValues,ce=S.setValue,se=S.register,oe=S.triggerValidation,ie=ae().erc20Address,ue=M||h||w,de=o&&d,le=re.isValid,be=g===Ee.e.AWAITING_CONFIRM||g===Ee.e.PENDING||y===Ee.e.AWAITING_CONFIRM||y===Ee.e.PENDING||k===Ee.e.AWAITING_CONFIRM||k===Ee.e.PENDING,je=g===Ee.e.FULFILLED&&k===Ee.e.FULFILLED,fe=be||je||x||E,pe=Object(a.useCallback)((function(){return me.apply(this,arguments)}),[ie,l]),he=Object(a.useCallback)((function(){return xe.apply(this,arguments)}),[d,$]),Oe=Object(a.useCallback)((function(){return ve.apply(this,arguments)}),[d,$]);function me(){return(me=Object(Y.a)(H.a.mark((function e(){var t,r,a,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&ie){e.next=3;break}return te(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,n.e(7).then(n.t.bind(null,841,3));case 6:t=e.sent,r=t.default,a=r,c=new l.eth.Contract(a,ie),te(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),te(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function xe(){return(xe=Object(Y.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&$){e.next=3;break}return J(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,$.methods.symbol().call();case 6:return t=e.sent,e.next=9,$.methods.decimals().call();case 9:n=e.sent,J({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),J(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ve(){return(ve=Object(Y.a)(H.a.mark((function e(){var t,n,r,a,c,s,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&$){e.next=3;break}return W(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,$.methods.balanceOf(d).call();case 6:return t=e.sent,n=Object(lt.toBN)(t),e.next=10,$.methods.decimals().call();case 10:r=e.sent,a=Object(lt.toBN)(10).pow(Object(lt.toBN)(r)),c=n.div(a),s=n.mod(a),o=s.eq(Object(lt.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(s.toString()),W(o),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),W(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function we(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(Y.a)(H.a.mark((function t(n,r){var a,c,s,o;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,$){t.next=3;break}throw new Error("No ERC20Contract found.");case 3:if(e){t.next=5;break}throw new Error("No TributeContract found.");case 5:if(d){t.next=7;break}throw new Error("No account found.");case 7:return a=n.sub(r),c=r.add(a),s=[e.contractAddress,c.toString()],o=Object(m.a)({from:d||""},f?{gasPrice:f.fast}:null),t.next=13,C("approve",$.methods,s,o);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function Re(){return(Re=Object(Y.a)(H.a.mark((function n(r){var a,c,s,o,i,u,l,p,h,O,x,g,N,w,A,E,C;return H.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,de){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No TributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(d){n.next=9;break}throw new Error("No account found.");case 9:if($){n.next=11;break}throw new Error("No ERC20Contract found.");case 11:if(K){n.next=13;break}throw new Error("No ERC20 details found.");case 13:return a=r.applicantAddress,c=r.erc20Address,s=r.tributeAmount,o=r.requestAmount,i=r.description,u=Object(lt.toBN)(10).pow(Object(lt.toBN)(K.decimals)),l=Object(lt.toBN)(Object(b.h)(s)).mul(u),p=Object(b.h)(o),n.next=19,$.methods.allowance(d,e.contractAddress).call();case 19:if(h=n.sent,O=Object(lt.toBN)(h),!l.gt(O)){n.next=31;break}return n.prev=22,n.next=25,we(l,O);case 25:n.next=31;break;case 27:throw n.prev=27,n.t0=n.catch(22),console.error(n.t0),new Error("Your ERC20 tokens could not be approved for transfer.");case 31:if(x=(null===I||void 0===I?void 0:I.uniqueId)||""){n.next=40;break}return g=a.toLowerCase()===d.toLowerCase()?"Tribute from ".concat(a,"."):"Tribute from ".concat(Object(b.i)(d,7)," for applicant ").concat(Object(b.i)(a,7),"."),N=i?"".concat(g,"\n").concat(i):g,n.next=37,D({partialProposalData:{name:a,body:N,metadata:{tributeAmountUnit:K.symbol,tributeTokenDecimals:K.decimals,requestAmountUnit:"SHARES"}},adapterName:Ee.a.tribute,type:ge.SnapshotType.draft});case 37:w=n.sent,A=w.uniqueId,x=A;case 40:return E=[t.contractAddress,x,a,j.i,p,c,l.toString()],C=Object(m.a)({from:d||""},f?{gasPrice:f.fast}:null),n.next=44,v("provideTribute",e.instance.methods,E,C);case 44:R.push("/tributes/".concat(x)),n.next=50;break;case 47:n.prev=47,n.t1=n.catch(0),F(n.t1);case 50:case"end":return n.stop()}}),n,null,[[0,47],[22,27]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){pe()}),[pe]),Object(a.useEffect)((function(){he()}),[he]),Object(a.useEffect)((function(){Oe()}),[Oe]),Object(a.useEffect)((function(){ce(dt.applicantAddress,d)}),[d,ce]),de?c?Object(r.jsx)(jt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:c.message})})}):Object(r.jsx)(jt,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(dt.applicantAddress),"aria-invalid":ne.applicantAddress?"true":"false",name:dt.applicantAddress,ref:se({validate:function(e){return e?!!ye(e)||Ce.a.INVALID_ETHEREUM_ADDRESS:Ce.a.REQUIRED}}),type:"text",disabled:fe}),Object(r.jsx)(Se,{error:Object(b.f)(dt.applicantAddress,ne),id:"error-".concat(dt.applicantAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(dt.erc20Address),"aria-invalid":ne.erc20Address?"true":"false",name:dt.erc20Address,ref:se({validate:function(e){return e?!!ye(e)||Ce.a.INVALID_ETHEREUM_ADDRESS:Ce.a.REQUIRED}}),type:"text",disabled:fe}),Object(r.jsx)(Se,{error:Object(b.f)(dt.erc20Address,ne),id:"error-".concat(dt.erc20Address)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(dt.tributeAmount),"aria-invalid":ne.tributeAmount?"true":"false",name:dt.tributeAmount,onChange:function(){return ce(dt.tributeAmount,Object(b.e)(ae().tributeAmount))},ref:se({validate:function(e){var t=Number(Object(b.h)(e));return""===e?Ce.a.REQUIRED:isNaN(t)?Ce.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":!(t>Number(U))||"Insufficient funds."}}),type:"text",disabled:fe}),Object(r.jsx)("div",{className:"input__suffix-item",children:(null===K||void 0===K?void 0:K.symbol)||"___"})]}),Object(r.jsx)(Se,{error:Object(b.f)(dt.tributeAmount,ne),id:"error-".concat(dt.tributeAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal is accepted, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:U?U.includes(".")?Object(b.d)(Number(U)):U:"---"})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(dt.requestAmount),"aria-invalid":ne.requestAmount?"true":"false",name:dt.requestAmount,onChange:function(){return ce(dt.requestAmount,Object(b.e)(ae().requestAmount))},ref:se({validate:function(e){var t=Number(Object(b.h)(e));return""===e?Ce.a.REQUIRED:isNaN(t)?Ce.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:fe}),Object(r.jsx)(Se,{error:Object(b.f)(dt.requestAmount,ne),id:"error-".concat(dt.requestAmount)}),Object(r.jsxs)("div",{className:"form__input-description",children:["This is the amount of DAO tokens you are requesting be sent to the Applicant Address in exchange for your tribute. Current member allocations can be viewed"," ",Object(r.jsx)(u.b,{to:"/members",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{"aria-describedby":"error-".concat(dt.description),name:dt.description,placeholder:"Say something about your tribute...",ref:se})})]}),Object(r.jsx)("button",{className:"button",disabled:fe,onClick:function(){fe||(le?function(e){Re.apply(this,arguments)}(ae()):oe())},type:"submit",children:be?Object(r.jsx)(Te.a,{}):je?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:fe&&function(){if(g===Ee.e.AWAITING_CONFIRM||y===Ee.e.AWAITING_CONFIRM||k===Ee.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";if(y===Ee.e.PENDING)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Approving your tokens for transfer\u2026"}),Object(r.jsx)(Pe.a,{url:A,isPending:!0})]});switch(g){case Ee.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ke.a,{intervalMs:2e3,messages:_e.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ee.a,{children:e},e)}}),Object(r.jsx)(Pe.a,{url:O,isPending:!0})]});case Ee.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(Pe.a,{url:O})]});default:return null}}()}),ue&&4001!==ue.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(De.a,{renderText:"Something went wrong while submitting the proposal.",error:ue})})]})}):Object(r.jsx)(jt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a tribute proposal."})})})}function jt(e){return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function ft(){return Object(r.jsx)(pt,{children:Object(r.jsx)("div",{children:"Tributes @todo"})})}function pt(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}function ht(){var e=Object(P.h)().proposalId,t=Object(Ie.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,s=t.proposalStatus;if(s===He.a.PENDING)return Object(r.jsx)(Ot,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)($,{})})});if(c)return Object(r.jsx)(Ot,{children:Object(r.jsx)(Ye,{})});if(s===He.a.REJECTED||a)return Object(r.jsx)(Ot,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(De.a,{error:a,renderText:"Something went wrong."})})});if(n){var o=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{var d=Object(lt.toBN)(10).pow(Object(lt.toBN)(null===i||void 0===i?void 0:i.msg.payload.metadata.tributeTokenDecimals)),l=Object(lt.toBN)(null===o||void 0===o?void 0:o.tributeAmount).div(d),j=Object(lt.toBN)(null===o||void 0===o?void 0:o.tributeAmount).mod(d),f=j.eq(Object(lt.toBN)(0))?l.toString():"".concat(l.toString(),".").concat(j.toString()),p=!f.includes(".");u=p?f:Object(b.d)(Number(f))}catch(O){}var h="\u2026";try{h=Object(b.e)(null===o||void 0===o?void 0:o.requestAmount)}catch(O){}return Object(r.jsx)(Ot,{children:Object(r.jsx)(tt,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(et,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.tributeAmountUnit,amount2:h,amount2Unit:null===i||void 0===i?void 0:i.msg.payload.metadata.requestAmountUnit})},renderActions:function(){return Object(r.jsx)($e,{adapterName:Ee.a.tribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function Ot(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function mt(){return Object(r.jsx)(xt,{children:Object(r.jsx)("div",{children:"CreateGovernanceProposal @todo"})})}function xt(e){return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),e.children]})})}function vt(){return Object(r.jsx)(gt,{children:Object(r.jsx)("div",{children:"GovernanceProposals @todo"})})}function gt(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}function Nt(){return Object(r.jsx)(wt,{children:Object(r.jsx)("div",{children:"GovernanceProposalDetails @todo"})})}function wt(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposals")},children:"View all"})]}),e.children]})})}function At(e){var t=e.member,n=e.name,a=e.onClick;return Object(r.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;a(e)},children:Object(r.jsx)("h3",{className:"membercard__title",children:n})})}!function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(dt||(dt={}));var Et=[{address:"0xd38f1A08f9894CE69Bdf796271dC9e4099fC5043"},{address:"0x927A9928Fe2eD6415e4D7761314c3466C3dc78f9"},{address:"0x2e4707940C2d65221ee352945f0551738BCd026E"},{address:"0xF2603046726414C5Dd0B0AE07a842209010AfbC5"},{address:"0x01410229072479e1e4d33490a7052439d7893ed6"},{address:"0x69732A015EE3A371714C99CcF6291fF774638E77"}];function Ct(){var e=Object(P.f)(),t=Et.map((function(t){return Object(r.jsx)(At,{onClick:(n=t.address,function(){n&&e.push("/members/".concat(n))}),member:t,name:Object(b.i)(t.address,7)},t.address);var n}));return Object(r.jsx)(yt,{children:Object(r.jsx)("div",{className:"grid--fluid grid-container",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(r.jsx)("div",{className:"grid__cards",children:t})]})})})}function yt(e){return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}function _t(){var e=Object(P.h)().ethereumAddress,t=Object(P.f)(),n=Et.find((function(t){return t.address.toLowerCase()===e.toLowerCase()}));return Object(a.useEffect)((function(){n||t.push("/404")}),[t,n]),n?Object(r.jsx)(It,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"memberprofile__left-column",children:[Object(r.jsx)("h3",{children:Object(b.i)(n.address,7)}),Object(r.jsx)("p",{children:"MemberProfile @todo"})]}),Object(r.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile @todo"})]})]})}):Object(r.jsx)(r.Fragment,{})}function It(e){var t=Object(P.f)();return Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsxs)(ee.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function kt(){return Object(r.jsx)(P.c,{children:[Object(r.jsx)(P.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(ve,{})}},"splash"),Object(r.jsx)(P.a,{exact:!0,path:"/join",render:function(){return Object(r.jsx)(Le,{})}},"join"),Object(r.jsx)(P.a,{exact:!0,path:"/membership",render:function(){return Object(r.jsx)(qe,{})}},"membership"),Object(r.jsx)(P.a,{exact:!0,path:"/membership/:proposalId",render:function(){return Object(r.jsx)(nt,{})}},"membership-details"),Object(r.jsx)(P.a,{exact:!0,path:"/transfer",render:function(){return Object(r.jsx)(at,{})}},"transfer"),Object(r.jsx)(P.a,{exact:!0,path:"/transfers",render:function(){return Object(r.jsx)(st,{})}},"transfers"),Object(r.jsx)(P.a,{exact:!0,path:"/transfers/:proposalId",render:function(){return Object(r.jsx)(it,{})}},"transfer-details"),Object(r.jsx)(P.a,{exact:!0,path:"/tribute",render:function(){return Object(r.jsx)(bt,{})}},"tribute"),Object(r.jsx)(P.a,{exact:!0,path:"/tributes",render:function(){return Object(r.jsx)(ft,{})}},"tributes"),Object(r.jsx)(P.a,{exact:!0,path:"/tributes/:proposalId",render:function(){return Object(r.jsx)(ht,{})}},"tribute-details"),Object(r.jsx)(P.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(r.jsx)(mt,{})}},"governance-proposal"),Object(r.jsx)(P.a,{exact:!0,path:"/governance-proposals",render:function(){return Object(r.jsx)(vt,{})}},"governance-proposals"),Object(r.jsx)(P.a,{exact:!0,path:"/governance-proposals/:proposalId",render:function(){return Object(r.jsx)(Nt,{})}},"governance-proposal-details"),Object(r.jsx)(P.a,{exact:!0,path:"/members",render:function(){return Object(r.jsx)(Ct,{})}},"members"),Object(r.jsx)(P.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(r.jsx)(_t,{})}},"member-profile"),Object(r.jsx)(P.a,{component:Ye},"no-match")]})}function Dt(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(pe,{}),Object(r.jsx)(je,{}),Object(r.jsx)("main",{children:Object(r.jsx)(kt,{})}),Object(r.jsx)(T,{})]})}var St,Rt=n(22),Tt=n(73);function Pt(e){var t=e.render,n=Object(i.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(a.useState)(),c=Object(B.a)(r,2),s=c[0],o=c[1],u=Object(a.useState)(!1),d=Object(B.a)(u,2),l=d[0],b=d[1],f=Object(a.useState)(Object(Rt.a)({},St.initSnapshotAPI,He.a.STANDBY)),p=Object(B.a)(f,2),h=p[0],O=p[1],x=Object(Z.c)(),v=Object(Z.f)(),g=v.account,N=v.connected,w=v.provider,E=v.web3Instance,C=Object(Z.e)().defaultChainError,y=Object(Tt.c)().isMountedRef,_=Object(i.b)(),I=Object(a.useCallback)((function(){return R.apply(this,arguments)}),[x]),k=Object(a.useCallback)((function(e,t){return T.apply(this,arguments)}),[_]),D=Object(a.useCallback)((function(){return S.apply(this,arguments)}),[y]);function S(){return(S=Object(Y.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.j){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(ge.getApiStatus)(j.j);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(y.current){e.next=11;break}return e.abrupt("return");case 11:O((function(e){return Object(m.a)(Object(m.a)({},e),{},Object(Rt.a)({},St.initSnapshotAPI,He.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),y.current){e.next=18;break}return e.abrupt("return");case 18:o(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function R(){return(R=Object(Y.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function T(){return(T=Object(Y.a)(H.a.mark((function e(t,n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(Object(A.h)(t,n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){b(Object.values(h).every((function(e){return e===He.a.FULFILLED})))}),[h]),Object(a.useEffect)((function(){N&&w&&E&&I()}),[N,I,w,E]),Object(a.useEffect)((function(){N&&g&&n&&k(g,n)}),[g,N,n,k]),Object(a.useEffect)((function(){o(C)}),[C]),Object(a.useEffect)((function(){D()}),[D]),t({error:s,isInitComplete:l})}function Lt(e){var t=e.error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(je,{}),Object(r.jsx)(me,{className:"section-wrapper",children:Object(r.jsx)("main",{children:Object(r.jsxs)(ee.a,{children:[Object(r.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(r.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(r.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(r.jsx)(De.a,{error:t,renderText:""})})]})})})]})}!function(e){e.initSnapshotAPI="initSnapshotAPI"}(St||(St={}));var Mt=n(151),Ft=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,842)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Vt=(n(824),document.getElementById("root"));"production"===j.e&&Object(b.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1),null!==Vt&&o.a.render(Object(r.jsx)(i.a,{store:R,children:Object(r.jsx)(u.a,{children:Object(r.jsx)(Mt.b,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:l.a,options:{infuraId:j.g,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:f.a.LIGHT,children:Object(r.jsx)(Pt,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(r.jsx)(Lt,{error:t}):n?Object(r.jsx)(Dt,{}):null}})})})}),Vt),Ft()},97:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return x}));var r,a,c=n(2),s=n.n(c),o=n(8),i=n(6),u=n(3),d=n(1),l=n(48),b=n.n(l),j=n(349),f=n.n(j),p=n(10),h=n(27),O="WEB3_CONNECT_CACHED_PROVIDER";function m(e,t){var n=t.type,r=t.payload;switch(n){case a.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case a.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case a.UPDATE:var c=r.provider,s=r.networkId,o=r.account,i=r.connected,d=r.web3Instance;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===c?{}:{provider:c}),void 0===s?{}:{networkId:s}),void 0===o?{}:{account:o}),void 0===i?{}:{connected:i}),void 0===d?{}:{web3Instance:d});case a.UPDATE_FROM_ERROR:var l=r.provider,b=r.networkId,j=r.account;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===l?{}:{provider:l}),void 0===b?{}:{networkId:b}),void 0===j?{}:{account:j}),{},{error:void 0});case a.ERROR:var f=r.error;return{provider:e.provider,error:f};case a.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case a.DEACTIVATE_PROVIDER:return{}}}function x(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(d.useReducer)(m,{}),l=Object(i.a)(c,2),j=l[0],x=l[1],v=n,g=t||p.d,N=Object(d.useCallback)(A,[j.web3Modal]),w=Object(d.useCallback)((function(){switch(g){case h.b.GOERLI:return h.c.GOERLI;case h.b.KOVAN:return h.c.KOVAN;case h.b.RINKEBY:return h.c.RINKEBY;case h.b.ROPSTEN:return h.c.ROPSTEN;case h.b.MAINNET:default:return h.c.MAINNET}}),[g]);function A(e){return E.apply(this,arguments)}function E(){return(E=Object(o.a)(s.a.mark((function e(t){var n,r,c,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.web3Modal.connectTo(t);case 5:return y(n=e.sent),r=new b.a(n),e.next=10,r.eth.getAccounts();case 10:return c=e.sent,e.next=13,r.eth.net.getId();case 13:o=e.sent,x({type:a.UPDATE,payload:{account:c[0],connected:!0,provider:n,networkId:o,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function C(){return(C=Object(o.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!j.provider.close){e.next=4;break}return e.next=4,j.provider.close();case 4:if(e.t0=j.web3Modal,!e.t0){e.next=8;break}return e.next=8,j.web3Modal.clearCachedProvider();case 8:x({type:a.DEACTIVATE_PROVIDER}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function y(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){x({type:a.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object(o.a)(s.a.mark((function t(n){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),x({type:a.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,N(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=j.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=j.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(d.useEffect)((function(){j.web3Modal||x({type:a.INIT_WEB3MODAL,payload:{web3Modal:new f.a({cacheProvider:!0,network:w(),providerOptions:r,theme:v})}})}),[w,r,v,j.web3Modal]),Object(d.useEffect)((function(){function e(){return(e=Object(o.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,N(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.web3Modal&&localStorage.getItem(O)&&function(t){e.apply(this,arguments)}(j.web3Modal.cachedProvider)}),[N,j.web3Modal]),Object(u.a)(Object(u.a)({},j),{},{onConnectTo:A,onDisconnect:function(){return C.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(a||(a={}))}},[[825,1,2]]]);
//# sourceMappingURL=main.4ada60fb.chunk.js.map