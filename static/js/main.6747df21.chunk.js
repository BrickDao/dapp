(this["webpackJsonpmolochv3-ui"]=this["webpackJsonpmolochv3-ui"]||[]).push([[0],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}},11:function(e,t,n){"use strict";n.d(t,"i",(function(){return y})),n.d(t,"v",(function(){return D})),n.d(t,"o",(function(){return S})),n.d(t,"m",(function(){return T})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return P})),n.d(t,"j",(function(){return L})),n.d(t,"f",(function(){return F})),n.d(t,"e",(function(){return M})),n.d(t,"a",(function(){return B})),n.d(t,"z",(function(){return G})),n.d(t,"d",(function(){return V})),n.d(t,"t",(function(){return U})),n.d(t,"h",(function(){return W})),n.d(t,"k",(function(){return H})),n.d(t,"n",(function(){return Y})),n.d(t,"p",(function(){return z})),n.d(t,"r",(function(){return q})),n.d(t,"s",(function(){return K})),n.d(t,"y",(function(){return J})),n.d(t,"A",(function(){return Q})),n.d(t,"q",(function(){return X})),n.d(t,"g",(function(){return $})),n.d(t,"x",(function(){return Z})),n.d(t,"u",(function(){return ee})),n.d(t,"w",(function(){return te})),n.d(t,"l",(function(){return ne}));var r,a,c,o,s,i,u,d,l,b,j,O,f,p,h,m,v=n(5),x=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS:"0x83eA12d54D5DCF88FeD2fB80dcEa1336A8Ac8924",REACT_APP_SNAPSHOT_HUB_API_URL:"https://snapshot-hub-erc712.dev.thelao.io",REACT_APP_ENVIRONMENT:"development",REACT_APP_INFURA_PROJECT_ID_DEV:"d77d55afab36442eb530fac5e2a27ed1",REACT_APP_MULTICALL_CONTRACT_ADDRESS:"0xE1306199D95a1Ee0Ef155A984B0a0B50F7B0c216",REACT_APP_GRAPH_API_URL:"https://api.thegraph.com/subgraphs/name/sophiacodes/molochv3-dev"}),N=x.REACT_APP_DAO_REGISTRY_CONTRACT_ADDRESS,A=x.REACT_APP_DEFAULT_CHAIN_NAME_LOCAL,g=x.REACT_APP_ENVIRONMENT,E=x.REACT_APP_INFURA_PROJECT_ID_DEV,I=x.REACT_APP_INFURA_PROJECT_ID_LOCAL,w=x.REACT_APP_INFURA_PROJECT_ID_PROD,C=x.REACT_APP_MULTICALL_CONTRACT_ADDRESS,_=x.REACT_APP_SNAPSHOT_HUB_API_URL,R=x.REACT_APP_GRAPH_API_URL,y=g,D="localhost"===y?"/snapshot-hub":_,S="production"===g?w:"development"===g?E:I,T=R,k={MAINNET:1,ROPSTEN:3,RINKEBY:4,GOERLI:5,KOVAN:42,GANACHE:1337},P=(r={},Object(v.a)(r,k.MAINNET,"Main Ethereum Network"),Object(v.a)(r,k.ROPSTEN,"Ropsten Test Network"),Object(v.a)(r,k.RINKEBY,"Rinkeby Test Network"),Object(v.a)(r,k.GOERLI,"G\xf6rli Test Network"),Object(v.a)(r,k.KOVAN,"Kovan Test Network"),Object(v.a)(r,k.GANACHE,"Ganache Test Network"),r),L=(a={},Object(v.a)(a,k.MAINNET,"https://etherscan.io"),Object(v.a)(a,k.ROPSTEN,"https://ropsten.etherscan.io"),Object(v.a)(a,k.RINKEBY,"https://rinkeby.etherscan.io"),Object(v.a)(a,k.GOERLI,"https://goerli.etherscan.io"),Object(v.a)(a,k.KOVAN,"https://kovan.etherscan.io"),a),F=N,M=(c={},Object(v.a)(c,k.MAINNET,""),Object(v.a)(c,k.ROPSTEN,""),Object(v.a)(c,k.RINKEBY,"0xCC7158B10515B266244c643A2527f7EFfc911421"),Object(v.a)(c,k.GOERLI,""),Object(v.a)(c,k.KOVAN,""),Object(v.a)(c,k.GANACHE,"0xa549101aAD5143d89aEC2aa330754cEB2C0FF607"),c),B=(o={},Object(v.a)(o,k.MAINNET,""),Object(v.a)(o,k.ROPSTEN,""),Object(v.a)(o,k.RINKEBY,"0xE02769bebC6b0A65d5ffaa58d9f981618077a4Ac"),Object(v.a)(o,k.GOERLI,""),Object(v.a)(o,k.KOVAN,""),Object(v.a)(o,k.GANACHE,"0xCdfD73dCa055ada355142eDfDA22C90BC4CD5504"),o),G=(s={},Object(v.a)(s,k.MAINNET,""),Object(v.a)(s,k.ROPSTEN,""),Object(v.a)(s,k.RINKEBY,"0x1bF6E52BBD3f8f7Ed6fE8a9621E639aca560A730"),Object(v.a)(s,k.GOERLI,""),Object(v.a)(s,k.KOVAN,""),Object(v.a)(s,k.GANACHE,"0x87a7DF246f4c26E3352a2ecd147517d42D83dc07"),s),V=(i={},Object(v.a)(i,k.MAINNET,""),Object(v.a)(i,k.ROPSTEN,""),Object(v.a)(i,k.RINKEBY,"0xEF2850b0067C276f65fAAeA9EBA0674819039342"),Object(v.a)(i,k.GOERLI,""),Object(v.a)(i,k.KOVAN,""),Object(v.a)(i,k.GANACHE,"0x14f02614a3ffD9532b9F5C8Ff5dF3B52419cBF1F"),i),U=(u={},Object(v.a)(u,k.MAINNET,""),Object(v.a)(u,k.ROPSTEN,""),Object(v.a)(u,k.RINKEBY,"0x3044286BFc20080A1D2C06feC1953a0410a4E74c"),Object(v.a)(u,k.GOERLI,""),Object(v.a)(u,k.KOVAN,""),Object(v.a)(u,k.GANACHE,"0x81849Db26EAd5202fC67e69476a896c6950Eb126"),u),W=(d={},Object(v.a)(d,k.MAINNET,""),Object(v.a)(d,k.ROPSTEN,""),Object(v.a)(d,k.RINKEBY,"0x7a28B101eC1eE1B484a07633c339667BDE3d7A52"),Object(v.a)(d,k.GOERLI,""),Object(v.a)(d,k.KOVAN,""),Object(v.a)(d,k.GANACHE,"0xdfA0518846a46203131d52ECCd34965EE61346Fb"),l={},Object(v.a)(l,k.MAINNET,""),Object(v.a)(l,k.ROPSTEN,""),Object(v.a)(l,k.RINKEBY,"0x54b038278f791c511d1ba330C7B9A1578B350Deb"),Object(v.a)(l,k.GOERLI,""),Object(v.a)(l,k.KOVAN,""),Object(v.a)(l,k.GANACHE,"0xC3b7E041CF5Ee2d4372D12ED67a98DC87a3593Dd"),l),H=(b={},Object(v.a)(b,k.MAINNET,""),Object(v.a)(b,k.ROPSTEN,""),Object(v.a)(b,k.RINKEBY,"0x80017f240cAd3d761aD7f729796b6275d0Ec57c6"),Object(v.a)(b,k.GOERLI,""),Object(v.a)(b,k.KOVAN,""),Object(v.a)(b,k.GANACHE,"0x4438bFC72E53eA66c24F8f4992997e9C8a425179"),b),Y=(j={},Object(v.a)(j,k.MAINNET,""),Object(v.a)(j,k.ROPSTEN,""),Object(v.a)(j,k.RINKEBY,"0x7c3eE8016C8a4dF00672d2417DB7bbA18ff0b054"),Object(v.a)(j,k.GOERLI,""),Object(v.a)(j,k.KOVAN,""),Object(v.a)(j,k.GANACHE,"0x2Ab0c81b017a3a926E40136E28ba3e9b231fFd5b"),j),z=(O={},Object(v.a)(O,k.MAINNET,""),Object(v.a)(O,k.ROPSTEN,""),Object(v.a)(O,k.RINKEBY,"0x01e79Fb7a697e871c763D681293eBae74f36CE88"),Object(v.a)(O,k.GOERLI,""),Object(v.a)(O,k.KOVAN,""),Object(v.a)(O,k.GANACHE,"0xFc889988C6e177C6C3c7A6D98Ef4A09f66B445E7"),O),q=(f={},Object(v.a)(f,k.MAINNET,""),Object(v.a)(f,k.ROPSTEN,""),Object(v.a)(f,k.RINKEBY,"0x98ED73779Bd0eD4b8fdA8026F60236CBcbdbb1a6"),Object(v.a)(f,k.GOERLI,""),Object(v.a)(f,k.KOVAN,""),Object(v.a)(f,k.GANACHE,"0xfBbE098b03865e5C6A64F81f0A475FD5c500DC9D"),f),K=(p={},Object(v.a)(p,k.MAINNET,""),Object(v.a)(p,k.ROPSTEN,""),Object(v.a)(p,k.RINKEBY,"0xF2Af0123caBad9Dc851C4BDcA1029b33287d2310"),Object(v.a)(p,k.GOERLI,""),Object(v.a)(p,k.KOVAN,""),Object(v.a)(p,k.GANACHE,"0xe6bbddF90c76552CbE1D0973F22fb5a975D5825D"),p),J=(h={},Object(v.a)(h,k.MAINNET,""),Object(v.a)(h,k.ROPSTEN,""),Object(v.a)(h,k.RINKEBY,"0x36615f472822bD067A4746E37267090428874974"),Object(v.a)(h,k.GOERLI,""),Object(v.a)(h,k.KOVAN,""),Object(v.a)(h,k.GANACHE,"0xF6677172474B23ae084347fF0c2E30E99aA9fAfd"),h),Q=(m={},Object(v.a)(m,k.MAINNET,""),Object(v.a)(m,k.ROPSTEN,""),Object(v.a)(m,k.RINKEBY,"0xa257cAa73C01B6748eA8edAfcC7c3B67538f773A"),Object(v.a)(m,k.GOERLI,""),Object(v.a)(m,k.KOVAN,""),Object(v.a)(m,k.GANACHE,"0xE62aEcA374e4a8486eB56FCC5e4091ee978e8005"),m),X=C,$="production"===g?k.MAINNET:"development"===g?k.RINKEBY:A?k[A]:k.GANACHE,Z="0x000000000000000000000000000000000000babe",ee="0x00000000000000000000000000000000000FF1CE",te={development:"thelao",localhost:"thelao",production:"thelao"}[y||"localhost"],ne="production"===g?1e4:5e3},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return v}));var r,a,c=n(4),o=n.n(c),s=n(12),i=n(8),u=n(3),d=n(1),l=n(47),b=n.n(l),j=n(397),O=n.n(j),f=n(11),p=n(27),h="WEB3_CONNECT_CACHED_PROVIDER";function m(e,t){var n=t.type,r=t.payload;switch(n){case a.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case a.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case a.UPDATE:var c=r.provider,o=r.networkId,s=r.account,i=r.connected,d=r.web3Instance;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===c?{}:{provider:c}),void 0===o?{}:{networkId:o}),void 0===s?{}:{account:s}),void 0===i?{}:{connected:i}),void 0===d?{}:{web3Instance:d});case a.UPDATE_FROM_ERROR:var l=r.provider,b=r.networkId,j=r.account;return Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},e),void 0===l?{}:{provider:l}),void 0===b?{}:{networkId:b}),void 0===j?{}:{account:j}),{},{error:void 0});case a.ERROR:var O=r.error;return{provider:e.provider,error:O};case a.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case a.DEACTIVATE_PROVIDER:return{}}}function v(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(d.useReducer)(m,{}),l=Object(i.a)(c,2),j=l[0],v=l[1],x=n,N=t||f.g,A=Object(d.useCallback)(E,[j.web3Modal]),g=Object(d.useCallback)((function(){switch(N){case p.b.GOERLI:return p.c.GOERLI;case p.b.KOVAN:return p.c.KOVAN;case p.b.RINKEBY:return p.c.RINKEBY;case p.b.ROPSTEN:return p.c.ROPSTEN;case p.b.MAINNET:default:return p.c.MAINNET}}),[N]);function E(e){return I.apply(this,arguments)}function I(){return(I=Object(s.a)(o.a.mark((function e(t){var n,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,j.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j.web3Modal.connectTo(t);case 5:return C(n=e.sent),r=new b.a(n),e.next=10,r.eth.getAccounts();case 10:return c=e.sent,e.next=13,r.eth.net.getId();case 13:s=e.sent,v({type:a.UPDATE,payload:{account:c[0],connected:!0,provider:n,networkId:s,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function w(){return(w=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!j.provider.close){e.next=4;break}return e.next=4,j.provider.close();case 4:if(e.t0=j.web3Modal,!e.t0){e.next=8;break}return e.next=8,j.web3Modal.clearCachedProvider();case 8:v({type:a.DEACTIVATE_PROVIDER}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function C(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){v({type:a.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object(s.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),v({type:a.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,A(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=j.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=j.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(d.useEffect)((function(){j.web3Modal||v({type:a.INIT_WEB3MODAL,payload:{web3Modal:new O.a({cacheProvider:!0,network:g(),providerOptions:r,theme:x})}})}),[g,r,x,j.web3Modal]),Object(d.useEffect)((function(){function e(){return(e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,A(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j.web3Modal&&localStorage.getItem(h)&&function(t){e.apply(this,arguments)}(j.web3Modal.cachedProvider)}),[A,j.web3Modal]),Object(u.a)(Object(u.a)({},j),{},{onConnectTo:E,onDisconnect:function(){return w.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(r||(r={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(a||(a={}))},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),a=n(1),c=n(16);function o(e){var t=e.intervalMs,n=e.messages,o=e.useFirstItemStart?n[0]:Object(c.a)(n),s=Object(a.useState)(o),i=Object(r.a)(s,2),u=i[0],d=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return d((function(e){return Object(c.a)(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(u)}},14:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e.BANK="bank",e.CONFIGURATION="configuration",e.DISTRIBUTE="distribute",e.FINANCING="financing",e.GUILDKICK="guildkick",e.ONBOARDING="onboarding",e.OFFCHAINVOTING="offchainvoting",e.MANAGING="managing",e.RAGEQUIT="ragequit",e.TRIBUTE="tribute",e.VOTING="voting",e.WITHDRAW="withdraw"}(r||(r={})),function(e){e.OffchainVotingContract="OffchainVotingContract",e.VotingContract="VotingContract"}(a||(a={}))},148:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return u}));var r=n(3),a=n(4),c=n.n(a),o=n(12),s="SET_CONNECTED_MEMBER",i="CLEAR_CONNECTED_MEMBER";function u(e,t){return function(){var n=Object(o.a)(c.a.mark((function n(a){var o,i,u,l,b;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((o=t.instance)&&e){n.next=4;break}return a(d()),n.abrupt("return");case 4:return n.prev=4,n.next=7,o.methods.memberAddressesByDelegatedKey(e).call({from:e});case 7:return i=n.sent,n.next=10,o.methods.isActiveMember(i).call({from:e});case 10:return u=n.sent,n.next=13,o.methods.getCurrentDelegateKey(i).call({from:e});case 13:l=n.sent,b=u&&!i.startsWith("0x0000000000"),a((c={delegateKey:l,isActiveMember:b,memberAddress:i},Object(r.a)({type:s},c))),n.next=22;break;case 18:throw n.prev=18,n.t0=n.catch(4),a(d()),n.t0;case 22:case"end":return n.stop()}var c}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}()}function d(){return{type:i}}},16:function(e,t,n){"use strict";function r(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return b}));var a=n(8);function c(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var c=Object(a.a)(r[n],2),o=c[0],s=c[1];t[o]="function"===typeof s?e:null}}function o(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function s(e){return e<.01?e.toFixed(4):e.toFixed(2)}var i=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function u(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function d(e){return e.toLowerCase().trim()}var l=function(e){return e.toString().replace(/,/g,"")};function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e)return"---";if("undefined"!==typeof e&&e.length>9){var n=e.substring(0,t),r=e.substring(e.length-3);return n+"..."+r}return"---"}},171:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n.n(r),c=n(12),o=n(47),s=n.n(o);function i(e,t){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(s.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}},175:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(0),a=n(8),c=n(3),o=n(1),s=n(21),i=["",".",".","."],u={position:"absolute"},d={height:1,width:1};function l(e){var t=e.intervalMs,n=void 0===t?1e3:t,l=e.fadeInProps,b=Object(c.a)(Object(c.a)({},l),{},{inline:!0}),j=Object(o.useState)(1),O=Object(a.a)(j,2),f=O[0],p=O[1];return Object(o.useEffect)((function(){var e=setInterval((function(){return p((function(e){return(e+1)%i.length}))}),n);return function(){clearInterval(e)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{style:u,children:[Object(r.jsx)("span",{children:f>=0&&i[0]}),Object(r.jsx)("span",{children:f>=1&&Object(r.jsx)(s.a,Object(c.a)(Object(c.a)({},b),{},{children:i[1]}))}),Object(r.jsx)("span",{children:f>=2&&Object(r.jsx)(s.a,Object(c.a)(Object(c.a)({},b),{},{children:i[2]}))}),Object(r.jsx)("span",{children:f>=3&&Object(r.jsx)(s.a,Object(c.a)(Object(c.a)({},b),{},{children:i[3]}))})]}),Object(r.jsx)("span",{style:d,children:"\xa0"})]})}},179:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(0),a=n(1),c=n(115),o=Object(a.createContext)({});function s(e){var t=e.children,n=e.defaultChain,a=e.defaultTheme,s=void 0===a?c.a.DARK:a,i=e.providerOptions,u={defaultChain:n,defaultTheme:s,providerOptions:i},d=Object(c.b)(u),l={account:d.account,connected:d.connected,onConnectTo:d.onConnectTo,onDisconnect:d.onDisconnect,networkId:d.networkId,provider:d.provider,providerOptions:i,web3Instance:d.web3Instance,web3Modal:d.web3Modal};return Object(r.jsx)(o.Provider,{value:l,children:t})}},184:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(180),a=n(116);function c(){var e=Object(r.a)(["\n  query GetDao($id: ID) {\n    molochv3S(where: {id: $id}) {\n      id # dao address\n      daoAddress\n      name\n      totalShares\n      bank {\n        id\n        bankAddress\n      }\n    }\n  }\n"]);return c=function(){return e},e}var o=Object(a.gql)(c());function s(){var e=Object(r.a)(["\n  query GetAdaptersAndExtensions($daoAddress: String) {\n    molochv3S(where: {daoAddress: $daoAddress}) {\n      adapters {\n        id\n        acl\n        adapterId\n        adapterAddress\n      }\n      extensions {\n        id\n        extensionId\n        extensionAddress\n      }\n    }\n  }\n"]);return s=function(){return e},e}var i=Object(a.gql)(s())},21:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),a=n(3),c=(n(1),n(881)),o=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},s={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function i(e){var t=e.inline;return Object(r.jsx)(c.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(r.jsx)("span",{style:Object(a.a)(Object(a.a)({},o(e)),s[n]),children:e.children}):Object(r.jsx)("div",{style:Object(a.a)(Object(a.a)({},o(e)),s[n]),children:e.children})}})}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return x})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return l.a}));var r=n(4),a=n.n(r),c=n(12),o=n(8),s=n(1),i=n(11),u=n(44),d=n(16),l=n(81),b=n(7);function j(){var e=Object(s.useState)(),t=Object(o.a)(e,2),n=t[0],r=t[1],j=Object(s.useState)(""),O=Object(o.a)(j,2),f=O[0],p=O[1],h=Object(s.useState)(!1),m=Object(o.a)(h,2),v=m[0],x=m[1],N=Object(s.useState)(),A=Object(o.a)(N,2),g=A[0],E=A[1],I=Object(s.useState)(b.e.STANDBY),w=Object(o.a)(I,2),C=w[0],_=w[1],R=Object(l.a)().networkId;function y(e){return function(t){_(b.e.PENDING),x(!1),R&&R!==i.b.GANACHE&&p("".concat(i.j[R],"/tx/").concat(t)),e&&e(t)}}function D(){return(D=Object(c.a)(a.a.mark((function e(){var t,n,c,o,s,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=Object(d.c)(),e.prev=1,r(void 0),p(""),_(b.e.AWAITING_CONFIRM),x(!0),n=i.length,c=new Array(n),o=0;o<n;o++)c[o]=i[o];return c[4]=y(c[4]),e.next=10,u.b.apply(void 0,c);case 10:return s=e.sent,E(s),_(b.e.FULFILLED),t(),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),_(b.e.REJECTED),x(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:f,txIsPromptOpen:v,txReceipt:g,txSend:function(){return D.apply(this,arguments)},txStatus:C}}var O="https://ethgasstation.info/json/ethgasAPI.json";function f(){var e=Object(s.useState)(O),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(s.useState)()),a=Object(o.a)(r,2),c=a[0];a[1],Object(s.useRef)();return Object(s.useEffect)((function(){}),[n]),c}var p=n(17),h=n(37);function m(){var e=Object(l.a)(),t=e.networkId,n=e.connected,r=Object(s.useState)(!1),a=Object(o.a)(r,2),c=a[0],u=a[1],d=Object(s.useState)(),b=Object(o.a)(d,2),j=b[0],O=b[1];return Object(s.useEffect)((function(){u(t===i.g),n&&t!==i.g?O(new Error("Please connect to the ".concat(i.c[i.g],"."))):O(void 0)}),[n,t]),{defaultChain:i.g,defaultChainError:j,isDefaultChain:c}}function v(){var e=m().isDefaultChain,t=Object(l.a)().web3Instance,n=Object(p.b)();function r(){return(r=Object(c.a)(a.a.mark((function r(){return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(Object(h.r)(t));case 5:return r.next=7,n(Object(h.q)(t));case 7:return r.next=9,n(Object(h.p)(t));case 9:return r.next=11,n(Object(h.s)(t));case 11:return r.next=13,n(Object(h.t)(t));case 13:return r.next=15,n(Object(h.u)(t));case 15:return r.next=17,n(Object(h.w)(t));case 17:return r.next=19,n(Object(h.y)(t));case 19:return r.next=21,n(Object(h.o)(t));case 21:return r.next=23,n(Object(h.u)(t));case 23:return r.next=25,n(Object(h.v)(t));case 25:return r.next=27,n(Object(h.x)(t));case 27:return r.next=29,n(Object(h.z)(t));case 29:r.next=34;break;case 31:throw r.prev=31,r.t0=r.catch(0),r.t0;case 34:case"end":return r.stop()}}),r,null,[[0,31]])})))).apply(this,arguments)}return Object(s.useCallback)((function(){return r.apply(this,arguments)}),[n,e,t])}function x(){var e=Object(p.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey}))||"",t=Object(p.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress}))||"",n=Object(l.a)().account,r=void 0===n?"":n;return Object(d.g)(r)===Object(d.g)(t)&&Object(d.g)(r)!==Object(d.g)(e)}n(115)},27:function(e,t,n){"use strict";var r,a,c,o;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return o})),function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(r||(r={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(a||(a={})),function(e){e.REQUIRED="This field is required.",e.INVALID_BYTES32="The value is not a bytes32.",e.INVALID_BYTES32_ARRAY="The value is not a comma-separated bytes32 format, ie. 0x...,0x...",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number.",e.INVALID_NUMBER_ARRAY="The value is not a comma-separated number format, ie. 42,5,124"}(c||(c={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(o||(o={}))},28:function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(r||(r={}))},37:function(e,t,n){"use strict";n.d(t,"n",(function(){return r.c})),n.d(t,"a",(function(){return O})),n.d(t,"l",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return N})),n.d(t,"i",(function(){return A})),n.d(t,"k",(function(){return g})),n.d(t,"h",(function(){return E})),n.d(t,"m",(function(){return I})),n.d(t,"j",(function(){return w})),n.d(t,"q",(function(){return C})),n.d(t,"r",(function(){return _})),n.d(t,"v",(function(){return D})),n.d(t,"o",(function(){return S})),n.d(t,"x",(function(){return T})),n.d(t,"u",(function(){return k})),n.d(t,"y",(function(){return P})),n.d(t,"w",(function(){return L})),n.d(t,"t",(function(){return F})),n.d(t,"s",(function(){return M})),n.d(t,"p",(function(){return B})),n.d(t,"z",(function(){return G}));var r=n(148),a=n(3),c=n(54),o=n(4),s=n.n(o),i=n(12),u=n(7),d=n(11),l=n(44),b=n(171),j=n(14),O="CONTRACT_BANK_EXTENSION",f="CONTRACT_VOTING_OP_ROLLUP",p="CONTRACT_DAO_FACTORY",h="CONTRACT_DAO_REGISTRY",m="CONTRACT_CONFIGURATION",v="CONTRACT_FINANCING",x="CONTRACT_GUILDKICK",N="CONTRACT_MANAGING",A="CONTRACT_RAGEQUIT",g="CONTRACT_VOTING",E="CONTRACT_ONBOARDING",I="CONTRACT_WITHDRAW",w="CONTRACT_TRIBUTE";function C(e){return function(){var t=Object(i.a)(s.a.mark((function t(r){var a,c,o,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=10;break}return t.next=4,n.e(7).then(n.t.bind(null,885,3));case 4:a=t.sent,c=a.default,o=c,i=d.e[d.g],u=new e.eth.Contract(o,i),r(V({type:p,abi:o,contractAddress:i,instance:u}));case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t.catch(0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e){return t.apply(this,arguments)}}()}function _(e){return function(){var t=Object(i.a)(s.a.mark((function t(r){var a,c,o,i,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(8).then(n.t.bind(null,886,3));case 4:if(a=t.sent,c=a.default,o=c,i=d.f){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:u=new e.eth.Contract(o,i),r(V({type:h,abi:o,contractAddress:i,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function R(e,t){return U({actionType:g,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.b.VotingContract,contractAddress:t,lazyImport:function(){return n.e(19).then(n.t.bind(null,887,3))},web3Instance:e})}function y(e,t){return U({actionType:f,adapterOrExtensionName:u.a.voting,adapterNameForRedux:j.b.OffchainVotingContract,contractAddress:t,lazyImport:function(){return n.e(15).then(n.t.bind(null,888,3))},web3Instance:e})}function D(e,t){return U({actionType:E,adapterNameForRedux:j.a.ONBOARDING,adapterOrExtensionName:u.a.onboarding,contractAddress:t,lazyImport:function(){return n.e(16).then(n.t.bind(null,889,3))},web3Instance:e})}function S(e,t){return U({actionType:O,adapterNameForRedux:j.a.BANK,adapterOrExtensionName:u.c.bank,contractAddress:t,isExtension:!0,lazyImport:function(){return n.e(5).then(n.t.bind(null,890,3))},web3Instance:e})}function T(e,t){return U({actionType:w,adapterNameForRedux:j.a.TRIBUTE,adapterOrExtensionName:u.a.tribute,contractAddress:t,lazyImport:function(){return n.e(18).then(n.t.bind(null,891,3))},web3Instance:e})}function k(e,t){return U({actionType:N,adapterNameForRedux:j.a.MANAGING,adapterOrExtensionName:u.a.managing,contractAddress:t,lazyImport:function(){return n.e(13).then(n.t.bind(null,892,3))},web3Instance:e})}function P(e,t){return U({actionType:I,adapterNameForRedux:j.a.WITHDRAW,adapterOrExtensionName:u.a.withdraw,contractAddress:t,lazyImport:function(){return n.e(20).then(n.t.bind(null,893,3))},web3Instance:e})}function L(e,t){return U({actionType:A,adapterNameForRedux:j.a.RAGEQUIT,adapterOrExtensionName:u.a.ragequit,contractAddress:t,lazyImport:function(){return n.e(17).then(n.t.bind(null,894,3))},web3Instance:e})}function F(e,t){return U({actionType:x,adapterNameForRedux:j.a.GUILDKICK,adapterOrExtensionName:u.a.guildkick,contractAddress:t,lazyImport:function(){return n.e(11).then(n.t.bind(null,895,3))},web3Instance:e})}function M(e,t){return U({actionType:v,adapterNameForRedux:j.a.FINANCING,adapterOrExtensionName:u.a.financing,contractAddress:t,lazyImport:function(){return n.e(10).then(n.t.bind(null,896,3))},web3Instance:e})}function B(e,t){return U({actionType:m,adapterNameForRedux:j.a.CONFIGURATION,adapterOrExtensionName:u.a.configuration,contractAddress:t,lazyImport:function(){return n.e(6).then(n.t.bind(null,897,3))},web3Instance:e})}function G(e,t){return function(){var r=Object(i.a)(s.a.mark((function r(a,c){var o,d,b,j,O,f,p;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!e){r.next=34;break}return o=c().contracts.DaoRegistryContract,r.next=5,n.e(12).then(n.t.bind(null,898,3));case 5:if(d=r.sent,b=d.default,o){r.next=10;break}return console.warn("Please init the DaoRegistry contract before the voting contract."),r.abrupt("return");case 10:if(j="",O=t||"",f=function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new e.eth.Contract(b,n).methods.getAdapterName().call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!O){r.next=17;break}return r.next=16,f(O);case 16:j=r.sent;case 17:if(O||j){r.next=24;break}return r.next=20,Object(l.c)(u.a.voting,null===(p=c().contracts.DaoRegistryContract)||void 0===p?void 0:p.instance);case 20:return O=r.sent,r.next=23,f(O);case 23:j=r.sent;case 24:r.t0=j,r.next="VotingContract"===r.t0?27:"OffchainVotingContract"===r.t0?30:33;break;case 27:return r.next=29,R(e,O)(a,c);case 29:return r.abrupt("return",r.sent);case 30:return r.next=32,y(e,O)(a,c);case 32:return r.abrupt("return",r.sent);case 33:throw new Error("Voting contract name could not be found.");case 34:r.next=39;break;case 36:r.prev=36,r.t1=r.catch(0),console.warn("The voting contract could not be found in the DAO. Are you sure you meant to add this contract's ABI?");case 39:case"end":return r.stop()}}),r,null,[[0,36]])})));return function(e,t){return r.apply(this,arguments)}}()}function V(e){var t=e.type,n=Object(c.a)(e,["type"]);return Object(a.a)({type:t},n)}function U(e){var t=e.actionType,n=e.adapterNameForRedux,r=e.adapterOrExtensionName,a=e.contractAddress,c=e.isExtension,o=void 0!==c&&c,u=e.lazyImport,d=e.web3Instance;return function(){var e=Object(i.a)(s.a.mark((function e(c,i){var j,O,f,p,h,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u();case 3:if(f=e.sent,p=f.default,h=p,e.t0=a,e.t0){e.next=18;break}if(!o){e.next=14;break}return e.next=11,Object(b.a)(r,null===(j=i().contracts.DaoRegistryContract)||void 0===j?void 0:j.instance);case 11:e.t1=e.sent,e.next=17;break;case 14:return e.next=16,Object(l.c)(r,null===(O=i().contracts.DaoRegistryContract)||void 0===O?void 0:O.instance);case 16:e.t1=e.sent;case 17:e.t0=e.t1;case 18:m=e.t0,c(V({type:t,abi:h,contractAddress:m,adapterOrExtensionName:n,instance:new d.eth.Contract(h,m)})),e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),console.warn('The contract "'.concat(r,"\" could not be found in the DAO. Are you sure you meant to add this contract's ABI?"));case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()}},390:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return M}));var r=n(3),a=n(4),c=n.n(a),o=n(0),s=n(12),i=n(8),u=n(1),d=n(17),l=n(15),b=n(7),j=n(44),O=n(11),f=n(76),p=n(73),h=n(22),m=n(126),v=n(46),x=n(82),N=n(21),A=n(59);function g(e){var t=e.adapterName,n=e.proposal.snapshotProposal,a=Object(u.useState)(b.e.STANDBY),g=Object(i.a)(a,2),E=g[0],I=g[1],w=Object(u.useState)(),C=Object(i.a)(w,2),_=C[0],R=C[1],y=Object(d.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),D=Object(d.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.instance.methods})),S=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),T=Object(d.c)((function(e){return e.contracts})),k=Object(h.f)(),P=k.account,L=k.provider,F=Object(h.a)(),M=F.txEtherscanURL,B=F.txIsPromptOpen,G=F.txSend,V=F.txStatus,U=Object(p.e)(),W=U.isDisabled,H=U.openWhyDisabledModal,Y=U.WhyDisabledModal,z=Object(h.b)(),q=E===b.e.AWAITING_CONFIRM||E===b.e.PENDING||V===b.e.AWAITING_CONFIRM||V===b.e.PENDING,K=V===b.e.FULFILLED&&E===b.e.FULFILLED,J=q||K||B;function Q(){return(Q=Object(s.a)(c.a.mark((function e(){var a,o,i,u,d,p,h,m,v,x,N,A,g,E,w;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,S){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(n.votes){e.next=7;break}throw new Error("No Snapshot proposal votes were found.");case 7:return I(b.e.AWAITING_CONFIRM),a=n.idInDAO,o=Object(j.d)(t,T),i=n.votes.map(function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.values(t)[0],e.t0=l.createVote,e.t1=a,e.t2=r.address,e.t3=r.msg.payload.choice===l.VoteChoicesIndex.Yes,e.t4=Number(r.msg.timestamp),e.t5=r.sig,e.next=9,y.getPriorAmount(r.address,O.u,n.msg.payload.snapshot).call();case 9:return e.t6=e.sent,e.t7={proposalHash:e.t1,account:e.t2,voteYes:e.t3,timestamp:e.t4,sig:e.t5,weight:e.t6},e.abrupt("return",(0,e.t0)(e.t7));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=l.prepareVoteResult,e.t1=o,e.t2=O.g,e.t3=S,e.next=17,Promise.all(i);case 17:return e.t4=e.sent,e.t5={actionId:e.t1,chainId:e.t2,daoAddress:e.t3,votes:e.t4},e.next=21,(0,e.t0)(e.t5);case 21:return u=e.sent,d=u.voteResultTree,p=u.votes,h=d.getHexRoot(),m=Object(l.toStepNode)({actionId:o,chainId:O.g,merkleTree:d,step:p[p.length-1],verifyingContract:S}),v=Object(l.getVoteResultRootDomainDefinition)(S,o,O.g),x=v.domain,N=v.types,A=JSON.stringify({domain:x,message:{root:h},primaryType:f.a,types:N}),e.next=30,Object(l.signMessage)(L,P,A);case 30:return g=e.sent,I(b.e.FULFILLED),E=[S,a,h,Object(r.a)(Object(r.a)({},m),{},{rootSig:g})],w=Object(r.a)({from:P||""},z?{gasPrice:z.fast}:null),e.next=36,G("submitVoteResult",D,E,w);case 36:e.next=42;break;case 38:e.prev=38,e.t6=e.catch(0),R(e.t6),I(b.e.REJECTED);case 42:case"end":return e.stop()}}),e,null,[[0,38]])})))).apply(this,arguments)}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{className:"proposaldetails__button",disabled:W||J,onClick:W||J?function(){}:function(){return Q.apply(this,arguments)},children:q?Object(o.jsx)(A.a,{}):K?"Done":"Submit Vote Result"}),Object(o.jsx)(v.a,{error:_,renderText:"Something went wrong"}),J&&Object(o.jsx)("div",{className:"form__submit-status-container",children:function(){if(V===b.e.AWAITING_CONFIRM||E===b.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(V){case b.e.PENDING:return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m.a,{intervalMs:2e3,messages:f.b,useFirstItemStart:!0,render:function(e){return Object(o.jsx)(N.a,{children:e},e)}}),Object(o.jsx)(x.a,{url:M,isPending:!0})]});case b.e.FULFILLED:return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{children:"Result submitted!"}),Object(o.jsx)(x.a,{url:M})]});default:return null}}()}),W&&Object(o.jsx)("button",{className:"button--help",onClick:H,children:"Why is submitting disabled?"})]}),Object(o.jsx)(Y,{title:"Why is this disabled?"})]})}var E=n(16);var I=n(65);function w(e){var t,n,a,j=e.adapterName,O=e.proposal,f=Object(u.useState)(),m=Object(i.a)(f,2),x=m[0],N=m[1],A=Object(u.useState)(),g=Object(i.a)(A,2),w=g[0],C=g[1],_=Object(u.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),R=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),y=Object(h.f)().account,D=Object(I.e)(),S=D.signAndSendVote,T=D.voteDataStatus,k=Object(h.d)(),P=function(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(i.a)(e,2),r=n[0];return n[1],Object(E.g)(r)===Object(E.g)(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===l.VoteChoicesIndex.Yes?b.d.Yes:b.d.No}(null===(t=O.snapshotProposal)||void 0===t?void 0:t.votes,y||""),L=Object(p.e)(),F=L.isDisabled,B=L.openWhyDisabledModal,G=L.setOtherDisabledReasons,V=L.WhyDisabledModal,U=(null===(n=O.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",W=(null===(a=O.snapshotProposal)||void 0===a?void 0:a.idInSnapshot)||"",H=T===b.e.AWAITING_CONFIRM||T===b.e.PENDING,Y=T===b.e.FULFILLED,z=F||(H||Y),q=H?x:void 0;function K(){return(K=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,U){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(W){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return N(l.VoteChoices[t]),e.next=8,S({partialVoteData:{choice:t},adapterName:j,proposalIdInDAO:U,proposalIdInSnapshot:W});case 8:return e.next=10,O.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),C(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(u.useEffect)((function(){if(R){var e=k?"Your member address is delegated to ".concat(R,". You must use that address to vote."):"";_.current=Object(r.a)(Object(r.a)({},_.current),{},{addressIsDelegatedMessage:e})}_.current=Object(r.a)(Object(r.a)({},_.current),{},{alreadyVotedMessage:P?"You have already voted.":""}),G(Object.values(_.current))}),[R,k,G,P]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(M,{onClick:z?function(){}:function(e){return K.apply(this,arguments)},buttonProps:{disabled:z,"aria-disabled":z},voteChosen:P,voteProgress:q}),Object(o.jsx)(v.a,{error:w,renderText:"Something went wrong"}),F&&Object(o.jsx)("button",{className:"button--help",onClick:B,children:"Why is voting disabled?"}),Object(o.jsx)(V,{title:"Why is voting disabled?"})]})}var C=n(175);function _(e){var t=e.startLabel,n=e.startPeriodMs,r=e.endLabel,a=e.endedLabel,c=e.endPeriodMs,s=Object(u.useState)(null),d=Object(i.a)(s,2),l=d[0],b=d[1],j=Object(u.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),r=n.days,a=n.hours,c=n.minutes,s=n.seconds;return r>2&&t?"~".concat(r," days"):r>0?"".concat(O(r,"day")," : ").concat(O(a,"hr")," : ").concat(O(c,"min")):a>0?"".concat(O(a,"hr")," : ").concat(O(c,"min")):c>0?"".concat(O(c,"min")," : ").concat(O(s,"sec")):Object(o.jsx)("span",{className:"color-brightsalmon",children:O(s,"sec")})}),[]);function O(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(u.useEffect)((function(){var e=setInterval((function(){var s=new Date,i=new Date(n),u=new Date(c);if(s<i){var d=Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(o.jsx)("span",{className:"votingstatus__timer",children:j(i,!0)})]});b(d)}else if(s<u){var l=Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{className:"votingstatus",children:r||"Ends:"})," ",Object(o.jsx)("span",{className:"votingstatus__timer",children:j(u)})]});b(l)}else{b(Object(o.jsx)("span",{className:"votingstatus",children:a||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[j,r,c,a,t,n]),Object(o.jsx)("div",{children:l})}function R(e){return Object(o.jsxs)("svg",Object(r.a)(Object(r.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(o.jsx)("defs",{children:Object(o.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(o.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(o.jsxs)("g",{id:"Group-70",children:[Object(o.jsx)("mask",{id:"mask-2",fill:"white",children:Object(o.jsx)("use",{xlinkHref:"#path-1"})}),Object(o.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function y(e){var t=e.hasVotingEnded,n=e.noShares,r=e.renderStatus,a=e.renderTimer,c=e.showPercentages,s=void 0===c||c,i=e.totalShares,u=e.yesShares,d=r();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"votingstatus-container",children:[Object(o.jsx)(R,{"aria-label":"Counting down until voting ends",role:"img"}),d&&Object(o.jsx)("span",{className:"votingstatus",children:d}),a(_)]}),Object(o.jsx)(F,{yesShares:u,noShares:n,totalShares:i,votingExpired:t,showPercentages:s})]})}var D=Object(o.jsxs)("span",{children:["Grace period ends:",Object(o.jsx)("br",{})]}),S=Object(o.jsxs)("span",{children:["Grace period ended ",Object(o.jsx)("br",{})," ",Object(o.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),T={duration:150};function k(e){var t=e.countdownGracePeriodStartMs,n=e.proposal,r=n.snapshotProposal,a=Object(d.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),c=Object(u.useState)(),s=Object(i.a)(c,2),l=s[0],O=s[1],f=Object(u.useState)(0),p=Object(i.a)(f,2),h=p[0],m=p[1],v=Object(I.b)(n),x=v.hasOffchainVotingStarted,N=v.hasOffchainVotingEnded,A=v.offchainVotingStartEndInitReady,g=Object(I.a)(n),E=(null===r||void 0===r?void 0:r.msg.payload.start)||0,w=(null===r||void 0===r?void 0:r.msg.payload.end)||0,_=(null===g||void 0===g?void 0:g.Yes.shares)||0,R=(null===g||void 0===g?void 0:g.No.shares)||0,k=null===g||void 0===g?void 0:g.totalShares;return Object(u.useEffect)((function(){N&&O(_>R)}),[N,R,_]),Object(u.useEffect)((function(){t&&a&&Object(j.f)(b.b.offchainVotingGracePeriod,a).then((function(e){return e&&m(1e3*Number(e))})).catch((function(){return m(0)}))}),[t,a]),Object(o.jsx)(y,{renderTimer:function(e){return A&&x&&!N?Object(o.jsx)(e,{startPeriodMs:1e3*E,endPeriodMs:1e3*w}):t&&h?Object(o.jsx)(e,{startPeriodMs:t,endLabel:D,endedLabel:S,endPeriodMs:t+h}):void 0},renderStatus:function(){return A?t?"":"boolean"===typeof l?l?"Approved":"Failed":void 0:Object(o.jsx)(C.a,{intervalMs:200,fadeInProps:T})},hasVotingEnded:N,noShares:R,totalShares:k,yesShares:_})}function P(e){return Object(o.jsx)("svg",Object(r.a)(Object(r.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(o.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function L(e,t){return(e/t*100).toFixed(0)}function F(e){var t=e.yesShares,n=void 0===t?0:t,r=e.noShares,a=void 0===r?0:r,c=e.totalShares,s=e.votingExpired,i=e.showPercentages,u=c?L(n,c):"0",d=c?L(a,c):"0";return Object(o.jsxs)("div",{className:"votingbar-container",children:[Object(o.jsxs)("div",{className:"votingbar",children:[Object(o.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(u,"% yes votes"),style:{width:"".concat(u,"%")}}),Object(o.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(d,"% no votes"),style:{width:"".concat(d,"%")}})]}),Object(o.jsx)("div",{className:"votingbar__percentages",children:i&&Object(o.jsxs)(o.Fragment,{children:[s&&n>a&&Object(o.jsx)("span",{className:"yes-check",children:Object(o.jsx)(P,{"aria-label":"Vote has passed"})}),Object(o.jsxs)("span",{className:"yes-percent",children:[u,"%"]}),Object(o.jsxs)("span",{className:"no-percent",children:[d,"%"]}),s&&n<=a&&Object(o.jsx)("span",{className:"no-check",children:Object(o.jsx)(P,{"aria-label":"Vote has failed"})})]})})]})}function M(e){var t=e.buttonProps,n=e.onClick,a=e.voteChosen,c=e.voteProgress,s=function(e){return a===e?"votingbutton--voted":""};function i(e){return c===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function u(e){return c===e?Object(o.jsx)(A.a,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):a===e?"Voted ".concat(e):"Vote ".concat(e)}function d(e){return function(){n(e)}}return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(s(l.VoteChoices.Yes)),onClick:d(l.VoteChoices.Yes),children:u(l.VoteChoices.Yes)})),Object(o.jsx)("button",Object(r.a)(Object(r.a)(Object(r.a)({},t),i(l.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(s(l.VoteChoices.No)),onClick:d(l.VoteChoices.No),children:u(l.VoteChoices.No)}))]})}},428:function(e,t){},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"a",(function(){return N})),n.d(t,"g",(function(){return A})),n.d(t,"h",(function(){return w}));var r=n(4),a=n.n(r),c=n(3),o=n(39),s=n(12);function i(e,t,n,r,a){return u.apply(this,arguments)}function u(){return(u=Object(s.a)(a.a.mark((function e(t,n,r,i,u){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(s.a)(a.a.mark((function e(s,d){var l,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=n[t],e.next=4,l.apply(void 0,Object(o.a)(r)).estimateGas({from:i.from,value:i.value});case 4:return b=e.sent,e.next=7,l.apply(void 0,Object(o.a)(r)).send(Object(c.a)(Object(c.a)({},i),{},{gas:b})).on("transactionHash",(function(e){u&&u(e)})).on("receipt",(function(e){s(e)})).on("error",(function(e){d(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),d(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=n(47),l=n.n(d);function b(e,t){return j.apply(this,arguments)}function j(){return(j=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var O=n(7);function f(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function p(e,t){try{switch(e){case O.a.configuration:case O.a.financing:case O.a.guildkick:return"";case O.a.managing:return f(t.ManagingContract);case O.a.onboarding:return f(t.OnboardingContract);case O.a.ragequit:return"";case O.a.tribute:return f(t.TributeContract);case O.a.voting:return f(t.VotingContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}var h=n(16);function m(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&Object(h.g)(t.contractAddress)===Object(h.g)(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function v(e,t){return x.apply(this,arguments)}function x(){return(x=Object(s.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(l.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var N;n(171);function A(e){return g.apply(this,arguments)}function g(){return(g=Object(s.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return n=t.methods,e.next=6,n.state().call();case 6:return r=e.sent,e.abrupt("return",0===Number(r)?N.CREATION:N.READY);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}!function(e){e.CREATION="CREATION",e.READY="READY"}(N||(N={}));var E=n(8),I=n(11);function w(e){return C.apply(this,arguments)}function C(){return(C=Object(s.a)(a.a.mark((function e(t){var r,c,o,s,i,u,d,l,b,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blockNumber,c=void 0===r?"latest":r,o=t.calls,s=t.web3Instance,e.next=3,n.e(14).then(n.t.bind(null,899,3));case 3:if(i=e.sent,u=i.default,I.q){e.next=8;break}return console.error("No Multicall address was found. Are you sure it is set?"),e.abrupt("return");case 8:return e.prev=8,d=new s.eth.Contract(u,I.q),l=d.methods,e.next=12,l.aggregate(o.map((function(e){var t=Object(E.a)(e,3),n=t[0],r=t[1],a=t[2];return[n.toLowerCase(),s.eth.abi.encodeFunctionCall(r,a)]}))).call({},c);case 12:return b=e.sent,j=b.returnData,e.abrupt("return",j.map((function(e,t){var n=o[t][1].outputs||[],r=s.eth.abi.decodeParameters(n,e);return 1===r.__length__&&void 0!==r[0]?r[0]:s.eth.abi.decodeParameters(n||[],e)})));case 17:throw e.prev=17,e.t0=e.catch(8),e.t0;case 20:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(0),c=(n(1),n(21));function o(e){var t=e.error,n=e.renderText;return t&&4001!==(null===t||void 0===t?void 0:t.code)?Object(a.jsx)(c.a,{children:Object(a.jsxs)("div",{className:"text-center",children:[Object(a.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(a.jsxs)("details",Object(r.a)(Object(r.a)({},e.detailsProps),{},{children:[Object(a.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(a.jsx)("small",{children:"Details"})}),Object(a.jsx)("p",{className:"error-message",children:Object(a.jsx)("small",{children:t.message})})]}))]})}):null}},468:function(e,t){},470:function(e,t){},480:function(e,t){},482:function(e,t){},508:function(e,t){},510:function(e,t){},511:function(e,t){},516:function(e,t){},518:function(e,t){},531:function(e,t){},543:function(e,t){},546:function(e,t){},57:function(e,t,n){"use strict";var r,a;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),function(e){e[e.EXISTS=1]="EXISTS",e[e.SPONSORED=3]="SPONSORED",e[e.PROCESSED=7]="PROCESSED"}(r||(r={})),function(e){e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(a||(a={}))},586:function(e,t){},588:function(e,t){},59:function(e,t,n){"use strict";var r=n(0),a=n(8),c=n(54),o=n(3),s=n(1);function i(e){return Object(r.jsx)("div",Object(o.a)({className:"loader"},e))}t.a=function(e){var t=e.showAfterMs,n=e.text,u=e.textProps,d=Object(c.a)(e,["showAfterMs","text","textProps"]),l=Object(s.useState)(!1),b=Object(a.a)(l,2),j=b[0],O=b[1];return Object(s.useEffect)((function(){var e=t&&setTimeout((function(){return O(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&j)&&e.text?Object(r.jsxs)("div",{className:"loader-container",children:[Object(r.jsx)(i,Object(o.a)({},d)),Object(r.jsx)("span",Object(o.a)(Object(o.a)({className:"loader-text"},u),{},{children:n}))]}):(!t||t&&j)&&!e.text?Object(r.jsx)(i,Object(o.a)({},d)):null}},616:function(e,t){},619:function(e,t){},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return D}));var r=n(4),a=n.n(r),c=n(3),o=n(405),s=n(39),i=n(5),u=n(12),d=n(8),l=n(15),b=n(1),j=n(17),O=n(44),f=n(11),p=n(22),h=n(7);function m(e){var t=e.snapshotProposal,n=null===t||void 0===t?void 0:t.votes,r=null===t||void 0===t?void 0:t.msg.payload.snapshot,m=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.abi})),v=Object(j.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.contractAddress})),x=Object(b.useState)(),N=Object(d.a)(x,2),A=N[0],g=N[1],E=Object(b.useState)(),I=Object(d.a)(E,2),w=I[0],C=I[1],_=Object(p.f)().web3Instance,R=null===m||void 0===m?void 0:m.find((function(e){return"getPriorAmount"===e.name})),y=Object(b.useCallback)((function(){return D.apply(this,arguments)}),[v,R,r,A,_]);function D(){return(D=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,p,m,x;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,v&&R&&A){e.next=3;break}return e.abrupt("return");case 3:if(r){e.next=5;break}throw new Error("No snapshot was found.");case 5:return t={},Object(i.a)(t,h.d.Yes,{percentage:0,shares:0}),Object(i.a)(t,h.d.No,{percentage:0,shares:0}),Object(i.a)(t,"totalShares",0),n=t,u=[v,R,[f.x,f.u,r.toString()]],b=A.map((function(e){var t=Object(d.a)(e,1)[0];return[v,R,[t,f.u,r.toString()]]})),j=[u].concat(Object(s.a)(b)),e.next=11,Object(O.h)({calls:j,web3Instance:_});case 11:p=e.sent,m=Object(o.a)(p),x=m[0],m.slice(1).forEach((function(e,t){var r=l.VoteChoicesIndex[A[t][1]]===l.VoteChoicesIndex[l.VoteChoicesIndex.Yes]?h.d.Yes:h.d.No;n[r].shares+=Number(e)})),n[h.d.Yes].percentage=n[h.d.Yes].shares/Number(x)*100,n[h.d.No].percentage=n[h.d.No].shares/Number(x)*100,n.totalShares=Number(x),C((function(e){return Object(c.a)(Object(c.a)({},e),n)})),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),C(void 0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(n){var e=n.map((function(e){var t=e[Object.keys(e)[0]];return[t.msg.payload.metadata.memberAddress,t.msg.payload.choice]}));g(Object.entries(Object.fromEntries(e)))}}),[n]),Object(b.useEffect)((function(){y()}),[y]),w}var v=n(28);function x(e){var t=e.snapshotProposal,n=Object(b.useRef)({start:v.a.STANDBY,end:v.a.STANDBY}),r=Object(b.useState)(!1),a=Object(d.a)(r,2),c=a[0],o=a[1],s=Object(b.useState)(!1),i=Object(d.a)(s,2),u=i[0],j=i[1],O=Object(b.useState)(m(n.current)),f=Object(d.a)(O,2),p=f[0],h=f[1];function m(e){return Object.values(e).every((function(e){return e===v.a.FULFILLED}))}return Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!c){h((function(){return n.current.start=v.a.PENDING,m(n.current)}));var e=setInterval((function(){h((function(){return n.current.start=v.a.FULFILLED,m(n.current)}));var e=Math.floor(Date.now()/1e3)>t.msg.payload.start;e&&o(e)}),1e3);return function(){clearInterval(e)}}h((function(){return n.current.start=v.a.FULFILLED,m(n.current)}))}),[c,null===t||void 0===t?void 0:t.msg.payload.start,null===t||void 0===t?void 0:t.msg.type]),Object(b.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===l.SnapshotType.proposal&&!u){h((function(){return n.current.end=v.a.PENDING,m(n.current)}));var e=setInterval((function(){h((function(){return n.current.end=v.a.FULFILLED,m(n.current)}));var e=Math.ceil(Date.now()/1e3)>t.msg.payload.end;e&&j(e)}),1e3);return function(){clearInterval(e)}}h((function(){return n.current.end=v.a.FULFILLED,m(n.current)}))}),[u,null===t||void 0===t?void 0:t.msg.payload.end,null===t||void 0===t?void 0:t.msg.type]),{hasOffchainVotingStarted:c,hasOffchainVotingEnded:u,offchainVotingStartEndInitReady:p}}var N=n(73),A="Something went wrong while getting the proposal.",g="Proposal was not found.";function E(e,t){var n=Object(b.useState)(),r=Object(d.a)(n,1)[0],o=Object(b.useState)(),s=Object(d.a)(o,2),i=s[0],j=s[1],O=Object(b.useState)(),p=Object(d.a)(O,2),h=p[0],m=p[1],x=Object(b.useState)(!1),E=Object(d.a)(x,2),I=E[0],w=E[1],C=Object(b.useState)(),_=Object(d.a)(C,2),R=_[0],y=_[1],D=Object(b.useState)(v.a.STANDBY),S=Object(d.a)(D,2),T=S[0],k=S[1],P=Object(N.a)(),L=P.abortController,F=P.isMountedRef,M=Object(N.b)(),B=Object(d.a)(M,2),G=B[0],V=B[1],U=Object(b.useCallback)((function(){return q.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,F,G]),W=Object(b.useCallback)((function(){return K.apply(this,arguments)}),[null===L||void 0===L?void 0:L.signal,e,F,G,t]),H=Object(b.useCallback)((function(){return J.apply(this,arguments)}),[U,W]),Y=h?l.SnapshotType.proposal:i?l.SnapshotType.draft:void 0,z=i||h?{daoProposal:r,getCommonSnapshotProposalData:function(){switch(Y){case l.SnapshotType.draft:return i;case l.SnapshotType.proposal:return h;default:return}},refetchProposalOrDraft:function(){V({type:"increment"})},snapshotDraft:i,snapshotProposal:h,snapshotType:Y}:void 0;function q(){return(q=Object(u.a)(a.a.mark((function t(){var n,r,o,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===G&&k(v.a.PENDING),t.next=4,fetch("".concat(f.v,"/api/").concat(f.w,"/draft/").concat(e),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(A);case 7:return t.next=9,n.json();case 9:if(r=t.sent,F.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw w(!0),new Error(g);case 15:return o=Object.keys(r)[0],s=Object(c.a)({idInDAO:o,idInSnapshot:o},r[o]),k(v.a.FULFILLED),j(s),t.abrupt("return",s);case 22:t.prev=22,t.t0=t.catch(0),k(v.a.REJECTED),y(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function K(){return(K=Object(u.a)(a.a.mark((function n(){var r,o,s,i,u,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,0===G&&k(v.a.PENDING),n.next=4,fetch("".concat(f.v,"/api/").concat(f.w,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===L||void 0===L?void 0:L.signal});case 4:if((o=n.sent).ok){n.next=9;break}if(t!==l.SnapshotType.proposal){n.next=8;break}throw new Error(A);case 8:return n.abrupt("return");case 9:return n.next=11,o.json();case 11:if(s=n.sent,F.current){n.next=14;break}return n.abrupt("return");case 14:if(s&&Object.keys(s).length){n.next=19;break}if(t!==l.SnapshotType.proposal){n.next=18;break}throw w(!0),new Error(g);case 18:return n.abrupt("return");case 19:return i=Object.keys(s)[0],u=(null===(r=s[i])||void 0===r?void 0:r.data.erc712DraftHash)||i,d=Object(c.a)({idInDAO:u,idInSnapshot:i},s[i]),k(v.a.FULFILLED),m(d),n.abrupt("return",d);case 27:n.prev=27,n.t0=n.catch(0),k(v.a.REJECTED),y(n.t0);case 31:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function J(){return(J=Object(u.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(t=e.sent){e.next=9;break}return e.next=6,U();case 6:return n=e.sent,j(n),e.abrupt("return");case 9:m(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(b.useEffect)((function(){if(null===L||void 0===L?void 0:L.signal)switch(t){case l.SnapshotType.draft:U();break;case l.SnapshotType.proposal:W();break;default:H()}}),[null===L||void 0===L?void 0:L.signal,U,W,H,t]),{proposalData:z,proposalError:R,proposalNotFound:I,proposalStatus:T}}var I,w=n(57);function C(e){var t=e.snapshotDraft,n=e.snapshotProposal,r=(null===t||void 0===t?void 0:t.idInDAO)||(null===n||void 0===n?void 0:n.idInDAO),c=Object(p.f)().web3Instance,o=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),s=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.abi})),i=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.contractAddress})),l=Object(j.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.abi})),f=Object(b.useState)(),h=Object(d.a)(f,2),m=h[0],v=h[1],N=Object(b.useState)(),A=Object(d.a)(N,2),g=A[0],E=A[1],C=Object(b.useState)(),_=Object(d.a)(C,2),R=_[0],y=_[1],D=Object(b.useRef)(),S=x(e),T=S.hasOffchainVotingStarted,k=S.hasOffchainVotingEnded,P=S.offchainVotingStartEndInitReady,L=Object(b.useCallback)((function(){return W.apply(this,arguments)}),[s,o,l,i,r,c]),F=!!m&&w.a[m.flags]===w.a[w.a.EXISTS],M=!!m&&w.a[m.flags]===w.a[w.a.SPONSORED],B=!!m&&w.a[m.flags]===w.a[w.a.PROCESSED],G=g&&g.reporter&&!g.reporter.startsWith("0x00000000000")&&g.resultRoot&&!g.resultRoot.startsWith("0x00000000000"),V=R&&I[R]===I[I.GRACE_PERIOD];function U(e,t){return{status:e,transitionMessage:t,daoProposal:m,daoProposalVoteResult:R,daoProposalVotes:g}}function W(){return(W=Object(u.a)(a.a.mark((function e(){var t,n,u,b,j,f,p,h,m;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s&&o&&l&&i&&r){e.next=3;break}return e.abrupt("return");case 3:return t=s.filter((function(e){return"proposals"===e.name}))[0],n=l.filter((function(e){return"voteResult"===e.name}))[0],u=l.filter((function(e){return"votes"===e.name}))[0],b=[[o,t,[r]],[i,u,[o,r]],[i,n,[o,r]]],e.next=9,Object(O.h)({calls:b,web3Instance:c});case 9:j=e.sent,f=Object(d.a)(j,3),p=f[0],h=f[1],m=f[2],v(p),E(h),y(m),e.next=21;break;case 19:e.prev=19,e.t0=e.catch(0);case 21:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}return Object(b.useEffect)((function(){L();var e=setInterval(L,5e3);D.current=e}),[L]),Object(b.useEffect)((function(){return B&&D.current&&clearInterval(D.current),function(){D.current&&clearInterval(D.current)}}),[B]),P&&!T&&F?U(w.b.Sponsor):P&&T&&!k&&M?U(w.b.OffchainVoting):P&&k&&M&&!G?U(w.b.OffchainVotingSubmitResult):P&&k&&M&&G&&V?U(w.b.OffchainVotingGracePeriod):M&&P&&k&&G&&!V?U(w.b.Process):B?U(w.b.Completed):{status:void 0,transitionMessage:void 0,daoProposal:m,daoProposalVoteResult:R,daoProposalVotes:g}}!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(I||(I={}));var _=n(76),R=n(81);function y(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){return e.contracts})),n=Object(R.a)(),r=n.account,o=n.provider,s=n.web3Instance,i=Object(b.useState)(),p=Object(d.a)(i,2),m=p[0],v=p[1],x=Object(b.useState)(),N=Object(d.a)(x,2),A=N[0],g=N[1],E=Object(b.useState)(h.e.STANDBY),I=Object(d.a)(E,2),w=I[0],C=I[1];function y(){return(y=Object(u.a)(a.a.mark((function n(i){var u,d,b,j,p,m,x,N,A,E,I,w,R,y,D,S,T,k,P,L,F,M,B;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u=i.partialVoteData,d=i.adapterName,b=i.proposalIdInDAO,j=i.proposalIdInSnapshot,n.prev=1,s){n.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(r){n.next=6;break}throw new Error("No account was found.");case 6:if(e){n.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(f.v){n.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:return C(h.e.AWAITING_CONFIRM),p=Object(O.d)(d,t),m=u.choice,x=u.delegateAddress,N=u.metadata,A=void 0===N?{}:N,n.next=15,Object(l.getSpace)(f.v,f.w);case 15:return E=n.sent,I=E.data,w={chainId:f.g,choice:m,metadata:Object(c.a)(Object(c.a)({},A),{},{memberAddress:x||r})},R={proposalHash:b,space:f.w,token:I.token},n.next=21,Object(l.buildVoteMessage)(w,R,f.v);case 21:return y=n.sent,D=Object(l.prepareVoteMessage)({timestamp:y.timestamp,payload:{proposalHash:y.payload.proposalHash,choice:l.VoteChoicesIndex[m]}}),S=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},D),{},{type:l.SnapshotType.vote}),e,p,f.g),T=S.domain,k=S.types,P=JSON.stringify({types:k,domain:T,primaryType:_.a,message:D}),n.next=27,Object(l.signMessage)(o,r,P);case 27:return L=n.sent,C(h.e.PENDING),n.next=31,Object(l.submitMessage)(f.v,r,Object(c.a)(Object(c.a)({},y),{},{payload:Object(c.a)(Object(c.a)({},y.payload),{},{proposalHash:j})}),L,{actionId:T.actionId,chainId:T.chainId,verifyingContract:T.verifyingContract,message:D});case 31:return F=n.sent,M=F.data,B={data:y,signature:L,uniqueId:M.uniqueId},C(h.e.FULFILLED),v(B),n.abrupt("return",B);case 39:throw n.prev=39,n.t0=n.catch(1),C(h.e.REJECTED),g(n.t0),n.t0;case 44:case"end":return n.stop()}}),n,null,[[1,39]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return y.apply(this,arguments)},voteData:m,voteDataError:A,voteDataStatus:w}}function D(){var e=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(j.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(j.c)((function(e){return e.contracts})),r=Object(R.a)(),o=r.account,s=r.provider,i=r.web3Instance,p=Object(b.useState)(),m=Object(d.a)(p,2),v=m[0],x=m[1],N=Object(b.useState)(),A=Object(d.a)(N,2),g=A[0],E=A[1],I=Object(b.useState)(h.e.STANDBY),w=Object(d.a)(I,2),C=w[0],y=w[1];function D(e){return S.apply(this,arguments)}function S(){return(S=Object(u.a)(a.a.mark((function e(n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.v){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,i.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Object(O.f)(h.b.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,o=(0,e.t0)(e.t1),e.next=12,Object(l.buildProposalMessage)(Object(c.a)(Object(c.a)({},n),{},{votingTimeSeconds:o,snapshot:r}),f.v);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(u.a)(a.a.mark((function t(r){var u,d,b,j,p,m,v,N,A,g,I,w,C,R,S,T,k,P,L,F,M,B;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=r.partialProposalData,d=r.adapterAddress,b=r.adapterName,j=r.type,t.prev=1,o){t.next=4;break}throw new Error("No account was found to send.");case 4:if(i){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(f.v){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(j===l.SnapshotType.draft||j===l.SnapshotType.proposal){t.next=12;break}throw new Error('Handling for type "vote" is not implemented.');case 12:return y(h.e.AWAITING_CONFIRM),p=d||(b?Object(O.d)(b,n):""),m=u.body,v=u.name,N=u.metadata,A=u.timestamp,t.next=17,Object(l.getSpace)(f.v,f.w);case 17:if(g=t.sent,I=g.data,w={name:v,body:m,metadata:N,token:I.token,space:f.w},j!==l.SnapshotType.draft){t.next=26;break}return t.next=23,Object(l.buildDraftMessage)(w,f.v);case 23:t.t0=t.sent,t.next=29;break;case 26:return t.next=28,D(Object(c.a)(Object(c.a)({},w),{},{timestamp:A}));case 28:t.t0=t.sent;case 29:return C=t.t0,R=j===l.SnapshotType.draft?Object(l.prepareDraftMessage)(C):Object(l.prepareProposalMessage)(C),S=Object(l.getDomainDefinition)(Object(c.a)(Object(c.a)({},R),{},{type:j}),e,p,f.g),T=S.domain,k=S.types,P=JSON.stringify({types:k,domain:T,primaryType:_.a,message:R}),t.next=35,Object(l.signMessage)(s,o,P);case 35:return L=t.sent,y(h.e.PENDING),t.next=39,Object(l.submitMessage)(f.v,o,C,L,{actionId:T.actionId,chainId:T.chainId,verifyingContract:T.verifyingContract,message:R});case 39:return F=t.sent,M=F.data,B={data:C,signature:L,uniqueId:M.uniqueId,uniqueIdDraft:M.uniqueIdDraft||""},y(h.e.FULFILLED),x(B),t.abrupt("return",B);case 47:throw t.prev=47,t.t1=t.catch(1),y(h.e.REJECTED),E(t.t1),t.t1;case 52:case"end":return t.stop()}}),t,null,[[1,47]])})))).apply(this,arguments)}return{proposalData:v,proposalSignAndSendError:g,proposalSignAndSendStatus:C,signAndSendProposal:function(e){return T.apply(this,arguments)}}}},681:function(e,t){},7:function(e,t,n){"use strict";var r,a,c,o,s;n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),function(e){e.configuration="configuration",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.voting="voting",e.withdraw="withdraw"}(r||(r={})),function(e){e.bank="bank"}(a||(a={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingSharesPerChunk="onboarding.sharesPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(c||(c={})),function(e){e.Yes="Yes",e.No="No"}(o||(o={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(s||(s={}))},701:function(e,t){},708:function(e,t){},725:function(e,t){},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return x}));var r=n(8),a=n(1);function c(){var e=Object(a.useState)(),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return o.current=!0,!n&&c(new AbortController),function(){o.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:o}}var o={count:0};function s(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function i(){var e=Object(a.useReducer)(s,o),t=Object(r.a)(e,2),n=t[0],c=t[1];return[n.count,c]}var u=n(116),d=n(17),l=n(184);function b(){var e=Object(d.c)((function(e){return e.contracts.DaoRegistryContract})),t=Object(u.useLazyQuery)(l.b,{variables:{id:null===e||void 0===e?void 0:e.contractAddress.toLowerCase()}}),n=Object(r.a)(t,2),c=n[0],o=n[1],s=o.called,i=o.loading,b=o.data,j=o.error,O=Object(a.useState)(),f=Object(r.a)(O,2),p=f[0],h=f[1],m=Object(a.useState)(),v=Object(r.a)(m,2),x=v[0],N=v[1],A=Object(a.useCallback)((function(){try{if(!i&&b){if(h(b.molochv3S[0]),0===b.molochv3S.length)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" dao address not found.'))}else if(j)throw new Error('"'.concat(null===e||void 0===e?void 0:e.contractAddress,'" is not a valid dao address.'))}catch(j){N(j)}}),[null===e||void 0===e?void 0:e.contractAddress,b,j,i]);return Object(a.useEffect)((function(){s||c()}),[s,c]),Object(a.useEffect)((function(){!i&&(null===e||void 0===e?void 0:e.contractAddress)&&A()}),[null===e||void 0===e?void 0:e.contractAddress,A,i]),{dao:p,gqlError:x}}function j(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}var O=n(0),f=n(128),p=n.n(f),h=n(22),m=n(21),v=n(100);function x(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(r.a)(o,2),i=s[0],u=s[1],l=Object(d.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),b=Object(h.f)().connected,j=n&&n.find((function(e){return e})),f=!b||!l||!!j,x=function(){if(!b)return"Your wallet is not connected.";if(!l)return"Either you are not a member, or your membership is not active.";return j||""}(),N=!(!f||!x),A=Object(a.useCallback)((function(e){if(!N)return null;var t=e.title;return Object(O.jsx)(p.a,{ariaHideApp:!1,className:"modal-container",isOpen:i,onRequestClose:function(){u(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(O.jsx)(m.a,{children:Object(O.jsxs)("div",{className:"modal",children:[Object(O.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){u(!1)},children:Object(O.jsx)(v.a,{})}),Object(O.jsxs)("div",{className:"card",children:[Object(O.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(O.jsx)("p",{children:x})]})]})})})}),[N,x,i]),g=Object(a.useCallback)((function(e){c(e.filter(Boolean))}),[]);return{disabledReason:x,isDisabled:f,openWhyDisabledModal:function(){u(!0)},setOtherDisabledReasons:g,WhyDisabledModal:A}}},76:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(7),a=(r.d.Yes,r.d.No,"Message"),c=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"]},774:function(e,t){},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(1),a=n(179);function c(){return Object(r.useContext)(a.a)}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}},843:function(e,t){},846:function(e,t){},849:function(e,t){},877:function(e,t,n){},878:function(e,t,n){"use strict";n.r(t),n.d(t,"apolloClient",(function(){return bn}));var r=n(0),a=n(39),c=n(1),o=n.n(c),s=n(91),i=n.n(s),u=n(17),d=n(33),l=n(116),b=n(393),j=n.n(b),O=n(16),f=n(11),p=n(115),h=n(92),m=n(398),v=n(399),x=n(3),N=n(54),A=n(148),g=null;function E(e,t){return Object(x.a)(Object(x.a)({},e),t)}function I(){return g}var w=n(37),C={BankExtensionContract:null,ConfigurationContract:null,DaoFactoryContract:null,DaoRegistryContract:null,FinancingContract:null,GuildBankContract:null,ManagingContract:null,OnboardingContract:null,RagequitContract:null,TributeContract:null,VotingContract:null,WithdrawContract:null};function _(e,t){return Object(x.a)(Object(x.a)({},e),{},{DaoFactoryContract:Object(x.a)({},t)})}function R(e,t){return Object(x.a)(Object(x.a)({},e),{},{DaoRegistryContract:Object(x.a)({},t)})}function y(e,t){return Object(x.a)(Object(x.a)({},e),{},{BankExtensionContract:Object(x.a)({},t)})}function D(e,t){return Object(x.a)(Object(x.a)({},e),{},{ConfigurationContract:Object(x.a)({},t)})}function S(e,t){return Object(x.a)(Object(x.a)({},e),{},{FinancingContract:Object(x.a)({},t)})}function T(e,t){return Object(x.a)(Object(x.a)({},e),{},{GuildBankContract:Object(x.a)({},t)})}function k(e,t){return Object(x.a)(Object(x.a)({},e),{},{OnboardingContract:Object(x.a)({},t)})}function P(e,t){return Object(x.a)(Object(x.a)({},e),{},{RagequitContract:Object(x.a)({},t)})}function L(e,t){return Object(x.a)(Object(x.a)({},e),{},{TributeContract:Object(x.a)({},t)})}function F(e,t){return Object(x.a)(Object(x.a)({},e),{},{VotingContract:Object(x.a)({},t)})}function M(e,t){return Object(x.a)(Object(x.a)({},e),{},{ManagingContract:Object(x.a)({},t)})}function B(e,t){return Object(x.a)(Object(x.a)({},e),{},{WithdrawContract:Object(x.a)({},t)})}var G=Object(h.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(N.a)(t,["type"]);switch(n){case A.b:return E(e,r);case A.a:return I();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(N.a)(t,["type"]);switch(n){case w.c:return _(e,r);case w.d:return R(e,r);case w.a:return y(e,r);case w.b:return D(e,r);case w.e:return S(e,r);case w.f:return T(e,r);case w.g:return M(e,r);case w.i:return P(e,r);case w.h:return k(e,r);case w.j:return L(e,r);case w.k:case w.l:return F(e,r);case w.m:return B(e,r);default:return e}}}),V=Object(h.createStore)(G,Object(m.composeWithDevTools)(Object(h.applyMiddleware)(v.a)));function U(){return Object(r.jsx)("div",{})}var W=n(45);function H(e){return Object(r.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"MOLOCH v3"})}function Y(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(H,{size:"small"})})}function z(){return Object(r.jsx)("div",{className:"logo-container logo-container--header",children:Object(r.jsx)(H,{size:"medium"})})}function q(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(H,{size:"large"})})}var K=n(8),J=n(881),Q=n(128),X=n.n(Q),$=n(408),Z=n(4),ee=n.n(Z),te=n(12),ne=n(185);function re(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(r.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(r.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(r.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(r.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function ae(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(r.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(r.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var ce={injected:Object(r.jsx)(re,{}),walletconnect:Object(r.jsx)(ae,{})},oe=n(22);function se(){return Object(r.jsx)("div",{className:"loader--emoji",children:Object(r.jsx)("span",{role:"img","aria-label":"hourglass emoji",children:"\u23f3"})})}var ie=n(21);function ue(e){var t=e.children,n=e.keyProp,a=e.isOpen,c=e.styleProps,o=e.modalClassNames,s=e.isOpenHandler;return Object(r.jsx)(X.a,{ariaHideApp:!1,className:"modal-container ".concat(o),isOpen:a,onRequestClose:function(){s(a)},overlayClassName:"modal-overlay",role:"dialog",style:Object(x.a)({overlay:{zIndex:"99"}},c),children:Object(r.jsx)(ie.a,{children:Object(r.jsx)("div",{className:"modal",children:t})})},n)}var de=n(100);function le(e){var t,n=e.customWalletText,a=e.showWalletETHBadge,o=Object(oe.f)(),s=o.account,i=o.connected,u=o.providerOptions,d=o.onConnectTo,l=o.onDisconnect,b=o.networkId,j=o.web3Modal,p=Object(oe.e)(),h=p.defaultChain,m=p.defaultChainError,v=p.isDefaultChain,x=Object(W.f)(),N=Object(c.useState)(!1),A=Object(K.a)(N,2),g=A[0],E=A[1],I=null!==(t=b!==h)&&void 0!==t?t:v,w=b===f.b.GANACHE,C=ne.isMobile?s?Object(O.i)(s):"Connect":a&&s?Object(O.i)(s):n||"";function _(){E(!1),x.push("/members/".concat(s))}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(I&&i?"walletconnect__connect-button--error":""),onClick:function(){E(!0)},children:[Object(r.jsx)("span",{className:"connect-button-text ".concat(i?"connect-button-text--ethAddress":""),children:C||"Connect"}),a&&I&&i&&Object(r.jsx)("span",{children:"Wrong Network"}),a&&Object(r.jsx)(be,{providerName:null===j||void 0===j?void 0:j.cachedProvider})]}),g&&function(){var e=Object.entries(u).filter((function(e){return"injected"!==e[0]})),t=(ne.isMobile?e:Object.entries(u)).map((function(e){return Object(r.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(i&&(null===j||void 0===j?void 0:j.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object(te.a)(ee.a.mark((function t(){return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:w&&"walletconnect"===e[0],children:[Object(r.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(r.jsx)(be,{providerName:e[0]})]},e[0])}));return Object(r.jsxs)(ue,{keyProp:"web3modal",isOpen:g,isOpenHandler:function(){E(!1)},children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){E(!1)},children:Object(r.jsx)(de.a,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),i&&I?null:Object(r.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),s&&Object(r.jsx)("button",{className:"walletconnect__connected-address-button",onClick:_,children:ne.isMobile?Object(O.i)(s):s}),i&&I?Object(r.jsx)(je,{defaultChainError:(null===m||void 0===m?void 0:m.message)||""}):Object(r.jsx)("div",{className:"walletconnect__options",children:t}),i&&Object(r.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:l,children:"Disconnect Wallet"})]})]})}()]})}function be(e){var t=e.providerName;return t?Object(r.jsx)("span",{className:"walletconnect__wallet-icon",children:ce[t]}):null}function je(e){var t=e.defaultChainError;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("small",{children:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(se,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var Oe=o.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(r.jsx)(le,{customWalletText:t,showWalletETHBadge:n})}));function fe(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"svg-inline--fa fa-bars fa-w-14 fa-3x","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var pe={transition:"0.1s"},he={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},me={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function ve(){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})})]})})}function xe(){var e=Object(c.useState)(!1),t=Object(K.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(he),s=Object(K.a)(o,2),i=s[0],u=s[1],l=Object(W.g)(),b=Object(W.f)(),j=Object(oe.f)().account,O="/"===l.pathname;function f(e){if(!e){u(me);var t=setTimeout((function(){return a(e)}),500);return function(){return clearTimeout(t)}}a(e),u(he)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($.a,{query:"(max-width: 62em)",children:function(e){return Object(r.jsx)("div",{className:"nav-header",children:Object(r.jsxs)("div",{className:"nav-header__menu-container",children:[!O&&Object(r.jsx)(ve,{}),Object(r.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(r.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),f(!0)},children:Object(r.jsx)(fe,{})})}),Object(r.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(r.jsx)(Oe,{showWalletETHBadge:!0})})]})})}}),Object(r.jsx)(X.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:n,onRequestClose:function(){f(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(r.jsx)(J.a,{appear:!0,in:n,timeout:200,children:function(e){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("div",{style:Object(x.a)(Object(x.a)({},pe),i[e]),className:"nav-modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),f(!1)},children:Object(r.jsx)(de.a,{})}),Object(r.jsx)(Y,{}),Object(r.jsxs)("div",{className:"nav-modal__walletconnect-button-container",children:[Object(r.jsx)(Oe,{showWalletETHBadge:!0}),Object(r.jsx)("button",{className:"button",onClick:function(){f(!1),b.push("/join")},children:"Join"})]}),Object(r.jsxs)("ul",{className:"nav__list",children:[Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)("a",{href:"#",rel:"noopener noreferrer",target:"_blank",children:Object(r.jsx)("span",{children:"Help"})})}),j&&Object(r.jsx)("li",{className:"link-separated",onClick:function(){f(!1)},children:Object(r.jsx)(d.c,{to:"/members/".concat(j),children:Object(r.jsx)("span",{children:"Profile"})})})]})]})})}})})]})}function Ne(){if("/"===Object(W.g)().pathname)return null;function e(e){return Object(r.jsx)(d.b,{to:"/",children:e.children})}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(e,{children:Object(r.jsx)(z,{})}),Object(r.jsx)("div",{className:"header__nav-container",children:Object(r.jsx)(xe,{})})]})})}var Ae=n(401);function ge(){return Object(r.jsxs)(Ae.a,{children:[Object(r.jsx)("title",{children:"MOLOCH v3"}),Object(r.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var Ee=n(404),Ie=n.n(Ee),we=(n(838),function(e){var t=e.children,n=Object(N.a)(e,["children"]);return Object(r.jsx)("div",Object(x.a)(Object(x.a)({style:{position:"relative"}},n),{},{children:t}))}),Ce=o.a.memo((function(){return Object(r.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(r.jsx)("div",{className:"cube__segment--top"}),Object(r.jsx)("div",{className:"cube__segment--left"}),Object(r.jsx)("div",{className:"cube__segment--right"})]})}));function _e(){var e=Object(W.f)();return Object(c.useEffect)((function(){Ie.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("header",{className:"header",children:Object(r.jsx)(q,{})}),Object(r.jsxs)("div",{className:"landing",children:[Object(r.jsx)("div",{className:"landing__subtitle",children:Object(r.jsx)("p",{children:"For the ongoing development of Moloch v3"})}),Object(r.jsx)("div",{className:"landing__img",children:Object(r.jsx)(Ce,{})}),Object(r.jsx)("div",{className:"landing__button",children:Object(r.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})}),Object(r.jsx)("div",{className:"landing__navlinks",children:Object(r.jsx)(ve,{})})]})]})})}var Re=n(15),ye=n(129),De=n(47),Se=n.n(De),Te=n(7),ke=n(27),Pe=function(e){return Se.a.utils.isAddress(e)},Le=n(76),Fe=n(65),Me=n(126),Be=n(46);function Ge(e){var t=e.error,n=Object(N.a)(e,["error"]);return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(ie.a,{children:Object(r.jsx)("p",Object(x.a)(Object(x.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}var Ve,Ue=n(59),We=n(82);function He(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=Object(oe.e)().defaultChainError,a=Object(oe.f)(),o=a.connected,s=a.account,i=a.web3Instance,d=Object(oe.b)(),l=Object(oe.a)(),b=l.txError,j=l.txEtherscanURL,p=l.txIsPromptOpen,h=l.txSend,m=l.txStatus,v=Object(Fe.f)(),N=v.proposalData,A=v.proposalSignAndSendStatus,g=v.signAndSendProposal,E=Object(ye.a)({mode:"onBlur",reValidateMode:"onChange"}),I=Object(W.f)(),w=Object(c.useState)(),C=Object(K.a)(w,2),_=C[0],R=C[1],y=Object(c.useState)(),D=Object(K.a)(y,2),S=D[0],T=D[1],k=E.errors,P=E.getValues,L=E.setValue,F=E.register,M=E.triggerValidation,B=_||b,G=o&&s,V=m===Te.e.AWAITING_CONFIRM||m===Te.e.PENDING||A===Te.e.AWAITING_CONFIRM||A===Te.e.PENDING,U=m===Te.e.FULFILLED&&A===Te.e.FULFILLED,H=V||U||p,Y=Object(c.useCallback)((function(){return z.apply(this,arguments)}),[s,i]);function z(){return(z=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&s){e.next=3;break}return T(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,i.eth.getBalance(s);case 6:t=e.sent,T({wei:t,eth:i.utils.fromWei(t)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),T(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function q(e){return J.apply(this,arguments)}function J(){return(J=Object(te.a)(ee.a.mark((function n(r){var a,c,o,i,u,l,b,j;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,G){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No OnboardingContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(s){n.next=9;break}throw new Error("No account found.");case 9:if(a=(null===N||void 0===N?void 0:N.uniqueId)||"",c=r.ethAddress,o=r.ethAmount,i=Se.a.utils.toWei(Object(O.h)(o),"ether"),a){n.next=18;break}return n.next=15,g({partialProposalData:{name:c,body:"Membership for ".concat(c,"."),metadata:{amountUnit:"ETH"}},adapterName:Te.a.onboarding,type:Re.SnapshotType.draft});case 15:u=n.sent,l=u.uniqueId,a=l;case 18:return b=[t.contractAddress,a,c,f.u,i],j=Object(x.a)({from:s||"",value:i},d?{gasPrice:d.fast}:null),n.next=22,h("onboard",e.instance.methods,b,j);case 22:I.push("/membership/".concat(a)),n.next=28;break;case 25:n.prev=25,n.t0=n.catch(0),R(n.t0);case 28:case"end":return n.stop()}}),n,null,[[0,25]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){Y()}),[Y]),Object(c.useEffect)((function(){L(Ve.ethAddress,s)}),[s,L]),G?n?Object(r.jsx)(Ye,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:n.message})})}):Object(r.jsx)(Ye,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(Ve.ethAddress),"aria-invalid":k.ethAddress?"true":"false",name:Ve.ethAddress,ref:F({validate:function(e){return e?!!Pe(e)||ke.a.INVALID_ETHEREUM_ADDRESS:ke.a.REQUIRED}}),type:"text",disabled:H}),Object(r.jsx)(Ge,{error:Object(O.f)(Ve.ethAddress,k),id:"error-".concat(Ve.ethAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(Ve.ethAmount),"aria-invalid":k.ethAmount?"true":"false",name:Ve.ethAmount,onChange:function(){return L(Ve.ethAmount,Object(O.e)(P().ethAmount))},ref:F({validate:function(e){var t=Number(Object(O.h)(e));return""===e?ke.a.REQUIRED:isNaN(t)?ke.a.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(null===S||void 0===S?void 0:S.eth))||"Insufficient funds."}}),type:"text",disabled:H}),Object(r.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(r.jsx)(Ge,{error:Object(O.f)(Ve.ethAmount,k),id:"error-".concat(Ve.ethAmount)})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsxs)("span",{className:"text-underline",children:[S?Object(O.d)(Number(S.eth)):"---"," ","ETH"]})]})]}),Object(r.jsx)("button",{className:"button",disabled:H,onClick:Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!H){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,M();case 4:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:q(P());case 7:case"end":return e.stop()}}),e)}))),type:"submit",children:V?Object(r.jsx)(Ue.a,{}):U?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:H&&function(){if(m===Te.e.AWAITING_CONFIRM||A===Te.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(m){case Te.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Me.a,{intervalMs:2e3,messages:Le.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ie.a,{children:e},e)}}),Object(r.jsx)(We.a,{url:j,isPending:!0})]});case Te.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(We.a,{url:j})]});default:return null}}()}),B&&4001!==B.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Be.a,{renderText:"Something went wrong while submitting the proposal.",error:B})})]})}):Object(r.jsx)(Ye,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a member proposal."})})})}function Ye(e){return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(Ve||(Ve={}));var ze=n(390);function qe(e){var t=e.buttonText,n=void 0===t?"View Proposal":t,a=e.proposal,c=e.onClick,o=e.name;return Object(r.jsxs)("div",{className:"proposalcard",onClick:function(){var e=a.snapshotProposal.hash;c(e)},children:[Object(r.jsx)("h3",{className:"proposalcard__title",children:o}),Object(r.jsx)(ze.c,{proposal:a}),Object(r.jsx)("button",{className:"proposalcard__button",children:n})]})}var Ke=[{snapshotProposal:{hash:"dc5abd65bacfe1fa2d1ad3dd8fdb213e902c3b63a4f6b57c467e50dca1f913da",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:0}},{snapshotProposal:{hash:"ffa6c0f8d1d992c9aa678340316c8246965ac07144291c04a4375be0324ebc27",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:45e5,noShares:0}},{snapshotProposal:{hash:"eec0cce4145d0b25c722ad182beec85de3959c475b1e4066552ec50717212769",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:35e5}},{snapshotProposal:{hash:"462b6c505af6061713f1a32c70fb6303040e7394d929d89a1c3cd1033eb5a605",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:7e6,noShares:25e5}},{snapshotProposal:{hash:"d137bfdd2e8ce83b5acc229827cfafaf32084ae253f2da974f931ef542b5bbfc",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:35e5,noShares:55e5}},{snapshotProposal:{hash:"55af58ef30f602aa8e395dc41cc7e0598ea949e5730b1347d0fd0ebc02cb15ed",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:5e6,noShares:5e6}}],Je=[{snapshotProposal:{hash:"a28b59b9dce2132657c9db537f73063c01f33e04cc9ddf70ce61bfbc4690b16b",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"01f091d9e0e1bbe0201be6805ac174638cf2671fdcb8949691263ffa4c443b61",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"1360b9d92677953e84ece64a0c0349b60b6c554f5f5e484b8731adca7f153318",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"b4fcaf70b442fb5bf4a8d116f1b4eab4f8379be68e07bb8ba085043506a99fc2",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"38745ec51d277636144fe6eac46c7378374bbfec2ead1265bbe5a76506313cb4",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"244cc0016922eb37cf675e7d21e8ade6cc93ab435dcaa76cb1bd5beed5375ef4",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}}],Qe=[{snapshotProposal:{hash:"3ba30491a6cf748cf3d0ecbb0961627bab8589eaef90726b0aa95f0839f95b44",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e5,noShares:0}},{snapshotProposal:{hash:"f2bee4497f29ed36fda8fb04df71922e32f91f191a58689fd2ec0fa94a139202",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:7e6,noShares:3e6}},{snapshotProposal:{hash:"bf97fd71511f3505406a985f47cf901f89c22356817e7aefe0a4fc41f5b4edbc",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:5e6,noShares:25e5}},{snapshotProposal:{hash:"a724f73ccb0cc9ae0edd8d80f6c75482534f0d3e3f1d7c27fbb17705ef7c61fb",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:75e5,noShares:25e5}},{snapshotProposal:{hash:"79a9b72c3ea3a3f1411a23f65f3f1d043ebf0bd6dbd3b6abe2f05423fd3e9013",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:55e5,noShares:45e5}},{snapshotProposal:{hash:"44509e866a56482b8b3b2373cbe48d89cc0abff4a37626b5ff0e420fc5f3cc8d",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e7,noShares:0}}],Xe=[{snapshotProposal:{hash:"1531a1656c7cb51414606bbe69795f0b9c7c624d3b74b539880e08eab6e5ad95",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e5}},{snapshotProposal:{hash:"0597d6387981ef338abfa8c801c8f07fe67377aaa9689619ed6a3128289d665c",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:3e6,noShares:7e6}},{snapshotProposal:{hash:"7cedf63b766d881250e665da21bfb08944bbca56f04ac2ebcf9d37281fbada3b",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:5e6}},{snapshotProposal:{hash:"b9f1d513670876b5af13534b30a14233c3371d3e58195c31086a47ef7d341fed",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:75e5}},{snapshotProposal:{hash:"05e5c09e12b2fe36cb4e4d6e4d7c7d23fc79f6e8d30e218d4b8f6a1be774b2c2",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:45e5,noShares:55e5}},{snapshotProposal:{hash:"3fd0d42255683cd77fa2c8758f429094b2ece70e325c9f7e94728ed3c93155f4",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e7}}];[].concat(Ke,Je,Qe,Xe);function $e(){var e=Object(W.f)(),t=o(Ke),n=o(Je),a=o(Qe),c=o(Xe);function o(t){return t.map((function(t){return Object(r.jsx)(qe,{onClick:(n=t.snapshotProposal.hash,function(){n&&e.push("/membership/".concat(n))}),proposal:t,name:Object(O.i)(t.snapshotProposal.name,7)},t.snapshotProposal.hash);var n}))}return Object(r.jsx)(Ze,{children:Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[t.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:ke.d.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:t})]}),n.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:ke.d.REQUESTS}),Object(r.jsx)("div",{className:"grid__cards",children:n})]}),a.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:ke.d.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:a})]}),c.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:ke.d.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:c})]})]})})}function Ze(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}var et=n(28);function tt(){return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsx)(ie.a,{children:Object(r.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(r.jsxs)("h3",{children:["4",Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}var nt=n(175),rt=n(14),at=Object(c.lazy)((function(){return n.e(3).then(n.bind(null,902))})),ct={duration:150},ot={display:"inline-block",width:"100%",fontSize:"1.5rem"};function st(e){var t=e.adapterName,n=e.proposal,a=Object(u.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.adapterOrExtensionName}));return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)("span",{className:"text-center",style:ot,children:Object(r.jsx)(nt.a,{intervalMs:200,fadeInProps:ct})}),children:function(){if(!a)return Object(r.jsx)(r.Fragment,{});switch(a){case rt.b.OffchainVotingContract:return Object(r.jsx)(at,{adapterName:t,proposal:n});default:var e=new Error('"'.concat(a,'" is not a valid voting adapter name.'));return Object(r.jsx)(Be.a,{error:e,renderText:"Something went wrong"})}}()})}function it(e){var t=e.amount,n=e.amountUnit,a=e.amount2,c=e.amount2Unit;return Object(r.jsx)("div",{className:"proposaldetails__amount",children:Object(r.jsxs)("span",{children:["".concat(t," ").concat(n),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"for"}),Object(r.jsx)("br",{}),"".concat(a," ").concat(c)]})]})})}function ut(e){var t=e.proposal,n=e.renderAmountBadge,a=e.renderActions,c=t.getCommonSnapshotProposalData();return c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"proposaldetails__content",children:[Object(r.jsx)("h3",{children:Object(O.i)(c.msg.payload.name||"",7)}),Object(r.jsx)("p",{children:c.msg.payload.body})]}),Object(r.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),a()]})]})]}):null}function dt(){var e=Object(W.h)().proposalId,t=Object(Fe.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,o=t.proposalStatus;if(o===et.a.PENDING)return Object(r.jsx)(lt,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(se,{})})});if(c)return Object(r.jsx)(lt,{children:Object(r.jsx)(tt,{})});if(o===et.a.REJECTED||a)return Object(r.jsx)(lt,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Be.a,{error:a,renderText:"Something went wrong."})})});if(n){var s=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{u=Object(O.d)(Number(Se.a.utils.fromWei(null===s||void 0===s?void 0:s.amount,"ether")))}catch(d){u="\u2026"}return Object(r.jsx)(lt,{children:Object(r.jsx)(ut,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(it,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(st,{adapterName:Te.a.onboarding,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function lt(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function bt(){return Object(r.jsx)(jt,{children:Object(r.jsx)("div",{children:"CreateTransferProposal @todo"})})}function jt(e){return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),e.children]})})}function Ot(){return Object(r.jsx)(ft,{children:Object(r.jsx)("div",{children:"Transfers @todo"})})}function ft(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}function pt(){return Object(r.jsx)(ht,{children:Object(r.jsx)("div",{children:"TransferDetails @todo"})})}function ht(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}var mt,vt=n(35);function xt(){var e=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),t=Object(u.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),a=Object(oe.e)().defaultChainError,o=Object(oe.f)(),s=o.connected,i=o.account,l=o.web3Instance,b=Object(oe.b)(),j=Object(oe.a)(),p=j.txError,h=j.txEtherscanURL,m=j.txIsPromptOpen,v=j.txSend,N=j.txStatus,A=Object(oe.a)(),g=A.txError,E=A.txEtherscanURL,I=A.txIsPromptOpen,w=A.txSend,C=A.txStatus,_=Object(Fe.f)(),R=_.proposalData,y=_.proposalSignAndSendStatus,D=_.signAndSendProposal,S=Object(ye.a)({mode:"onBlur",reValidateMode:"onChange"}),T=Object(W.f)(),k=Object(c.useState)(),P=Object(K.a)(k,2),L=P[0],F=P[1],M=Object(c.useState)(),B=Object(K.a)(M,2),G=B[0],V=B[1],U=Object(c.useState)(),H=Object(K.a)(U,2),Y=H[0],z=H[1],q=Object(c.useState)(),J=Object(K.a)(q,2),Q=J[0],X=J[1],$=S.errors,Z=S.formState,ne=S.getValues,re=S.setValue,ae=S.register,ce=S.triggerValidation,se=ne().erc20Address,ue=L||p||g,de=s&&i,le=Z.isValid,be=N===Te.e.AWAITING_CONFIRM||N===Te.e.PENDING||C===Te.e.AWAITING_CONFIRM||C===Te.e.PENDING||y===Te.e.AWAITING_CONFIRM||y===Te.e.PENDING,je=N===Te.e.FULFILLED&&y===Te.e.FULFILLED,Oe=be||je||m||I,fe=Object(c.useCallback)((function(){return me.apply(this,arguments)}),[se,l]),pe=Object(c.useCallback)((function(){return ve.apply(this,arguments)}),[i,Q]),he=Object(c.useCallback)((function(){return xe.apply(this,arguments)}),[i,Q]);function me(){return(me=Object(te.a)(ee.a.mark((function e(){var t,r,a,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&se){e.next=3;break}return X(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,n.e(9).then(n.t.bind(null,900,3));case 6:t=e.sent,r=t.default,a=r,c=new l.eth.Contract(a,se),X(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),X(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function ve(){return(ve=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&Q){e.next=3;break}return z(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Q.methods.symbol().call();case 6:return t=e.sent,e.next=9,Q.methods.decimals().call();case 9:n=e.sent,z({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),z(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function xe(){return(xe=Object(te.a)(ee.a.mark((function e(){var t,n,r,a,c,o,s;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&Q){e.next=3;break}return V(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,Q.methods.balanceOf(i).call();case 6:return t=e.sent,n=Object(vt.toBN)(t),e.next=10,Q.methods.decimals().call();case 10:r=e.sent,a=Object(vt.toBN)(10).pow(Object(vt.toBN)(r)),c=n.div(a),o=n.mod(a),s=o.eq(Object(vt.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(o.toString()),V(s),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),V(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function Ne(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(te.a)(ee.a.mark((function t(n,r){var a,c,o,s;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Q){t.next=3;break}throw new Error("No ERC20Contract found.");case 3:if(e){t.next=5;break}throw new Error("No TributeContract found.");case 5:if(i){t.next=7;break}throw new Error("No account found.");case 7:return a=n.sub(r),c=r.add(a),o=[e.contractAddress,c.toString()],s=Object(x.a)({from:i||""},b?{gasPrice:b.fast}:null),t.next=13,w("approve",Q.methods,o,s);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function ge(){return(ge=Object(te.a)(ee.a.mark((function n(r){var a,c,o,s,u,d,l,j,p,h,m,N,A,g,E,I,w;return ee.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,de){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No TributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(i){n.next=9;break}throw new Error("No account found.");case 9:if(Q){n.next=11;break}throw new Error("No ERC20Contract found.");case 11:if(Y){n.next=13;break}throw new Error("No ERC20 details found.");case 13:return a=r.applicantAddress,c=r.erc20Address,o=r.tributeAmount,s=r.requestAmount,u=r.description,d=Object(vt.toBN)(10).pow(Object(vt.toBN)(Y.decimals)),l=Object(vt.toBN)(Object(O.h)(o)).mul(d),j=Object(O.h)(s),n.next=19,Q.methods.allowance(i,e.contractAddress).call();case 19:if(p=n.sent,h=Object(vt.toBN)(p),!l.gt(h)){n.next=31;break}return n.prev=22,n.next=25,Ne(l,h);case 25:n.next=31;break;case 27:throw n.prev=27,n.t0=n.catch(22),console.error(n.t0),new Error("Your ERC20 tokens could not be approved for transfer.");case 31:if(m=(null===R||void 0===R?void 0:R.uniqueId)||""){n.next=40;break}return N=a.toLowerCase()===i.toLowerCase()?"Tribute from ".concat(a,"."):"Tribute from ".concat(Object(O.i)(i,7)," for applicant ").concat(Object(O.i)(a,7),"."),A=u?"".concat(N,"\n").concat(u):N,n.next=37,D({partialProposalData:{name:a,body:A,metadata:{tributeAmountUnit:Y.symbol,tributeTokenDecimals:Y.decimals,requestAmountUnit:"SHARES"}},adapterName:Te.a.tribute,type:Re.SnapshotType.draft});case 37:g=n.sent,E=g.uniqueId,m=E;case 40:return I=[t.contractAddress,m,a,f.u,j,c,l.toString()],w=Object(x.a)({from:i||""},b?{gasPrice:b.fast}:null),n.next=44,v("provideTribute",e.instance.methods,I,w);case 44:T.push("/tributes/".concat(m)),n.next=50;break;case 47:n.prev=47,n.t1=n.catch(0),F(n.t1);case 50:case"end":return n.stop()}}),n,null,[[0,47],[22,27]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){fe()}),[fe]),Object(c.useEffect)((function(){pe()}),[pe]),Object(c.useEffect)((function(){he()}),[he]),Object(c.useEffect)((function(){re(mt.applicantAddress,i)}),[i,re]),de?a?Object(r.jsx)(Nt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:a.message})})}):Object(r.jsx)(Nt,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(mt.applicantAddress),"aria-invalid":$.applicantAddress?"true":"false",name:mt.applicantAddress,ref:ae({validate:function(e){return e?!!Pe(e)||ke.a.INVALID_ETHEREUM_ADDRESS:ke.a.REQUIRED}}),type:"text",disabled:Oe}),Object(r.jsx)(Ge,{error:Object(O.f)(mt.applicantAddress,$),id:"error-".concat(mt.applicantAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(mt.erc20Address),"aria-invalid":$.erc20Address?"true":"false",name:mt.erc20Address,ref:ae({validate:function(e){return e?!!Pe(e)||ke.a.INVALID_ETHEREUM_ADDRESS:ke.a.REQUIRED}}),type:"text",disabled:Oe}),Object(r.jsx)(Ge,{error:Object(O.f)(mt.erc20Address,$),id:"error-".concat(mt.erc20Address)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(mt.tributeAmount),"aria-invalid":$.tributeAmount?"true":"false",name:mt.tributeAmount,onChange:function(){return re(mt.tributeAmount,Object(O.e)(ne().tributeAmount))},ref:ae({validate:function(e){var t=Number(Object(O.h)(e));return""===e?ke.a.REQUIRED:isNaN(t)?ke.a.INVALID_NUMBER:t<=0?"The value must be greater than 0.":!(t>Number(G))||"Insufficient funds."}}),type:"text",disabled:Oe}),Object(r.jsx)("div",{className:"input__suffix-item",children:(null===Y||void 0===Y?void 0:Y.symbol)||"___"})]}),Object(r.jsx)(Ge,{error:Object(O.f)(mt.tributeAmount,$),id:"error-".concat(mt.tributeAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal is accepted, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:G?G.includes(".")?Object(O.d)(Number(G)):G:"---"})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(mt.requestAmount),"aria-invalid":$.requestAmount?"true":"false",name:mt.requestAmount,onChange:function(){return re(mt.requestAmount,Object(O.e)(ne().requestAmount))},ref:ae({validate:function(e){var t=Number(Object(O.h)(e));return""===e?ke.a.REQUIRED:isNaN(t)?ke.a.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:Oe}),Object(r.jsx)(Ge,{error:Object(O.f)(mt.requestAmount,$),id:"error-".concat(mt.requestAmount)}),Object(r.jsxs)("div",{className:"form__input-description",children:["This is the amount of DAO tokens you are requesting be sent to the Applicant Address in exchange for your tribute. Current member allocations can be viewed"," ",Object(r.jsx)(d.b,{to:"/members",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{"aria-describedby":"error-".concat(mt.description),name:mt.description,placeholder:"Say something about your tribute...",ref:ae})})]}),Object(r.jsx)("button",{className:"button",disabled:Oe,onClick:function(){Oe||(le?function(e){ge.apply(this,arguments)}(ne()):ce())},type:"submit",children:be?Object(r.jsx)(Ue.a,{}):je?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:Oe&&function(){if(N===Te.e.AWAITING_CONFIRM||C===Te.e.AWAITING_CONFIRM||y===Te.e.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";if(C===Te.e.PENDING)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Approving your tokens for transfer\u2026"}),Object(r.jsx)(We.a,{url:E,isPending:!0})]});switch(N){case Te.e.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Me.a,{intervalMs:2e3,messages:Le.b,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(ie.a,{children:e},e)}}),Object(r.jsx)(We.a,{url:h,isPending:!0})]});case Te.e.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(We.a,{url:h})]});default:return null}}()}),ue&&4001!==ue.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Be.a,{renderText:"Something went wrong while submitting the proposal.",error:ue})})]})}):Object(r.jsx)(Nt,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a tribute proposal."})})})}function Nt(e){return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function At(){return Object(r.jsx)(gt,{children:Object(r.jsx)("div",{children:"Tributes @todo"})})}function gt(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}function Et(){var e=Object(W.h)().proposalId,t=Object(Fe.c)(e),n=t.proposalData,a=t.proposalError,c=t.proposalNotFound,o=t.proposalStatus;if(o===et.a.PENDING)return Object(r.jsx)(It,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(se,{})})});if(c)return Object(r.jsx)(It,{children:Object(r.jsx)(tt,{})});if(o===et.a.REJECTED||a)return Object(r.jsx)(It,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(Be.a,{error:a,renderText:"Something went wrong."})})});if(n){var s=n.daoProposal,i=n.getCommonSnapshotProposalData(),u="\u2026";try{var d=Object(vt.toBN)(10).pow(Object(vt.toBN)(null===i||void 0===i?void 0:i.msg.payload.metadata.tributeTokenDecimals)),l=Object(vt.toBN)(null===s||void 0===s?void 0:s.tributeAmount).div(d),b=Object(vt.toBN)(null===s||void 0===s?void 0:s.tributeAmount).mod(d),j=b.eq(Object(vt.toBN)(0))?l.toString():"".concat(l.toString(),".").concat(b.toString()),f=!j.includes(".");u=f?j:Object(O.d)(Number(j))}catch(h){}var p="\u2026";try{p=Object(O.e)(null===s||void 0===s?void 0:s.requestAmount)}catch(h){}return Object(r.jsx)(It,{children:Object(r.jsx)(ut,{proposal:n,renderAmountBadge:function(){return Object(r.jsx)(it,{amount:u,amountUnit:null===i||void 0===i?void 0:i.msg.payload.metadata.tributeAmountUnit,amount2:p,amount2Unit:null===i||void 0===i?void 0:i.msg.payload.metadata.requestAmountUnit})},renderActions:function(){return Object(r.jsx)(st,{adapterName:Te.a.tribute,proposal:n})}})})}return Object(r.jsx)(r.Fragment,{})}function It(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function wt(){return Object(r.jsx)(Ct,{children:Object(r.jsx)("div",{children:"CreateGovernanceProposal @todo"})})}function Ct(e){return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),e.children]})})}function _t(){return Object(r.jsx)(Rt,{children:Object(r.jsx)("div",{children:"GovernanceProposals @todo"})})}function Rt(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}function yt(){return Object(r.jsx)(Dt,{children:Object(r.jsx)("div",{children:"GovernanceProposalDetails @todo"})})}function Dt(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposals")},children:"View all"})]}),e.children]})})}function St(e){var t=e.member,n=e.name,a=e.onClick;return Object(r.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;a(e)},children:Object(r.jsx)("h3",{className:"membercard__title",children:n})})}!function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(mt||(mt={}));var Tt=[{address:"0xd38f1A08f9894CE69Bdf796271dC9e4099fC5043"},{address:"0x927A9928Fe2eD6415e4D7761314c3466C3dc78f9"},{address:"0x2e4707940C2d65221ee352945f0551738BCd026E"},{address:"0xF2603046726414C5Dd0B0AE07a842209010AfbC5"},{address:"0x01410229072479e1e4d33490a7052439d7893ed6"},{address:"0x69732A015EE3A371714C99CcF6291fF774638E77"},{address:"0x2b22914fd1A891a4b11A39B11bD53f0e0434a63A"},{address:"0xD47d51c4963aB981A062dd15aE5e442B1Ee9425C"},{address:"0x6197776A13a094370e3F71452fA868937A9f2334"}];function kt(){var e=Object(W.f)(),t=Tt.map((function(t){return Object(r.jsx)(St,{onClick:(n=t.address,function(){n&&e.push("/members/".concat(n))}),member:t,name:Object(O.i)(t.address,7)},t.address);var n}));return Object(r.jsx)(Pt,{children:Object(r.jsx)("div",{className:"grid--fluid grid-container",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(r.jsx)("div",{className:"grid__cards",children:t})]})})})}function Pt(e){return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}var Lt=n(5);function Ft(e){return t=e,Se.a.utils.sha3(t);var t}function Mt(){var e;return e={},Object(Lt.a)(e,rt.a.BANK,"configureExtension"),Object(Lt.a)(e,rt.a.CONFIGURATION,"submitConfigurationProposal"),Object(Lt.a)(e,rt.a.DISTRIBUTE,""),Object(Lt.a)(e,rt.a.FINANCING,"createFinancingRequest"),Object(Lt.a)(e,rt.a.GUILDKICK,"submitKickProposal"),Object(Lt.a)(e,rt.a.MANAGING,"createAdapterChangeRequest"),Object(Lt.a)(e,rt.a.OFFCHAINVOTING,"configureDao"),Object(Lt.a)(e,rt.a.ONBOARDING,"configureDao"),Object(Lt.a)(e,rt.a.RAGEQUIT,"ragequit"),Object(Lt.a)(e,rt.a.TRIBUTE,"configureDao"),Object(Lt.a)(e,rt.a.VOTING,"configureDao"),Object(Lt.a)(e,rt.a.WITHDRAW,"withdraw"),e}function Bt(e){var t;return{acl:Gt((t={},Object(Lt.a)(t,rt.a.BANK,{}),Object(Lt.a)(t,rt.a.CONFIGURATION,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,SET_CONFIGURATION:!0}),Object(Lt.a)(t,rt.a.DISTRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,INTERNAL_TRANSFER:!0}),Object(Lt.a)(t,rt.a.TRIBUTE,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,NEW_MEMBER:!0,ADD_TO_BALANCE:!0,REGISTER_NEW_TOKEN:!0}),Object(Lt.a)(t,rt.a.FINANCING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,SUB_FROM_BALANCE:!0}),Object(Lt.a)(t,rt.a.GUILDKICK,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SUB_FROM_BALANCE:!0,ADD_TO_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Lt.a)(t,rt.a.MANAGING,{SUBMIT_PROPOSAL:!0,PROCESS_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,REMOVE_ADAPTER:!0,ADD_ADAPTER:!0}),Object(Lt.a)(t,rt.a.OFFCHAINVOTING,{}),Object(Lt.a)(t,rt.a.ONBOARDING,{SUBMIT_PROPOSAL:!0,SPONSOR_PROPOSAL:!0,PROCESS_PROPOSAL:!0,ADD_TO_BALANCE:!0,UPDATE_DELEGATE_KEY:!0,NEW_MEMBER:!0}),Object(Lt.a)(t,rt.a.RAGEQUIT,{SUB_FROM_BALANCE:!0,JAIL_MEMBER:!0,UNJAIL_MEMBER:!0,INTERNAL_TRANSFER:!0}),Object(Lt.a)(t,rt.a.VOTING,{}),Object(Lt.a)(t,rt.a.WITHDRAW,{WITHDRAW:!0,SUB_FROM_BALANCE:!0}),t)[e])}}function Gt(e){return function(e){return e.map((function(e,t){return void 0!==e?Math.pow(2,t):0})).reduce((function(e,t){return e+t}))}([e.ADD_ADAPTER,e.REMOVE_ADAPTER,e.JAIL_MEMBER,e.UNJAIL_MEMBER,e.SUBMIT_PROPOSAL,e.SPONSOR_PROPOSAL,e.PROCESS_PROPOSAL,e.UPDATE_DELEGATE_KEY,e.SET_CONFIGURATION,e.ADD_EXTENSION,e.REMOVE_EXTENSION,e.NEW_MEMBER])}var Vt=[{isExtension:!0,name:rt.a.BANK,extensionId:Ft(rt.a.BANK),contractAddress:f.a[f.g],description:"Adds the banking capabilities to the DAO, and keeps track of the DAO accounts and internal token balances."},{name:rt.a.CONFIGURATION,adapterId:Ft(rt.a.CONFIGURATION),contractAddress:f.d[f.g],description:"Manages storing and retrieving per-DAO settings required by shared adapters."},{name:rt.a.DISTRIBUTE,adapterId:Ft(rt.a.DISTRIBUTE),contractAddress:f.h[f.g],description:"Allows the members to distribute funds to one or all members of the DAO."},{name:rt.a.FINANCING,adapterId:Ft(rt.a.FINANCING),contractAddress:f.k[f.g],description:"Allows individuals and/or organizations to request funds to finance their projects, and the members of the DAO have the power to vote and decide which projects should be funded."},{name:rt.a.GUILDKICK,adapterId:Ft(rt.a.GUILDKICK),contractAddress:f.n[f.g],description:"Gives the members the freedom to choose which individuals or organizations should really be part of the DAO."},{name:rt.a.MANAGING,adapterId:Ft(rt.a.MANAGING),contractAddress:f.p[f.g],description:"Enhances the DAO capabilities by adding/updating the DAO Adapters through a voting process."},{name:rt.a.ONBOARDING,adapterId:Ft(rt.a.ONBOARDING),contractAddress:f.s[f.g],description:"Triggers the process of minting internal tokens in exchange of a specific token at a fixed price."},{name:rt.a.RAGEQUIT,adapterId:Ft(rt.a.RAGEQUIT),contractAddress:f.t[f.g],description:"Gives the members the freedom to choose when it is the best time to exit the DAO for any given reason."},{name:rt.a.TRIBUTE,adapterId:Ft(rt.a.TRIBUTE),contractAddress:f.y[f.g],description:"Allows potential and existing DAO members to contribute any amount of ERC-20 tokens to the DAO in exchange for any amount of DAO internal tokens."},{options:[{name:rt.a.VOTING,displayName:rt.a.OFFCHAINVOTING,adapterId:Ft(rt.a.VOTING),contractAddress:f.r[f.g],description:"Adds the offchain voting governance process to the DAO to support gasless voting."},{name:rt.a.VOTING,displayName:rt.a.VOTING,adapterId:Ft(rt.a.VOTING),contractAddress:f.z[f.g],description:"Adds the simple on chain voting governance process to the DAO."}],optionDefaultTarget:rt.a.VOTING},{name:rt.a.WITHDRAW,adapterId:Ft(rt.a.WITHDRAW),contractAddress:f.A[f.g],description:"Allows the members to withdraw their funds from the DAO bank."}],Ut=n(44),Wt=n(184);function Ht(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=Object(N.a)(e,["DaoRegistryContract"]),r=Object(l.useLazyQuery)(Wt.a,{pollInterval:f.l,variables:{daoAddress:null===t||void 0===t?void 0:t.contractAddress.toLowerCase()}}),a=Object(K.a)(r,2),o=a[0],s=a[1],i=s.called,d=s.data,b=s.error,j=Object(c.useState)(),O=Object(K.a)(j,2),p=O[0],h=O[1],m=Object(c.useState)(),v=Object(K.a)(m,2),A=v[0],g=v[1],E=Object(c.useState)(et.a.STANDBY),I=Object(K.a)(E,2),w=I[0],C=I[1],_=Object(c.useCallback)((function(e,t){var n=[],r=[],a=function(t){return e.find((function(e){var n;return(null===(n=e.adapterId)||void 0===n?void 0:n.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())}))},c=function(e){return t.find((function(t){var n;return(null===(n=t.extensionId)||void 0===n?void 0:n.toLowerCase())===(null===e||void 0===e?void 0:e.toLowerCase())}))};return Vt.forEach((function(e){if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);t?n.push(Object(x.a)(Object(x.a)(Object(x.a)({},t),e),{},{name:e.name,description:e.description})):r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}else if(null===e||void 0===e?void 0:e.options){var o=null===e||void 0===e?void 0:e.options.some((function(e){return!e.isExtension&&a(e.adapterId)})),s=null===e||void 0===e?void 0:e.options.some((function(e){return e.isExtension&&c(e.extensionId)}));if(o||s){var i,u=!1;null===e||void 0===e||null===(i=e.options)||void 0===i||i.forEach((function(e){if(!u)if(null===e||void 0===e?void 0:e.isExtension){var t=c(e.extensionId);if(t)return n.push(Object(x.a)(Object(x.a)(Object(x.a)({},t),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}else{var o=a(e.adapterId);if(o)return n.push(Object(x.a)(Object(x.a)(Object(x.a)({},o),e),{},{name:e.name,description:e.description})),void(u=!0);r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}}))}else r.push(e)}else{var d=a(e.adapterId);d?n.push(Object(x.a)(Object(x.a)(Object(x.a)({},d),e),{},{name:e.name,description:e.description})):r.push(Object(x.a)(Object(x.a)({},e),{},{name:e.name,description:e.description}))}})),{registeredList:n,unRegisteredList:r}}),[]);return Object(c.useEffect)((function(){i||o()}),[i,o]),Object(c.useEffect)((function(){if(null===t||void 0===t?void 0:t.contractAddress)try{if(C(et.a.PENDING),d){var e=d.molochv3S[0],n=e.adapters,r=e.extensions,a=_(n,r),c=a.registeredList,o=a.unRegisteredList;h(c),g(o),C(et.a.FULFILLED)}else if(b)throw new Error(b.message)}catch(b){h(void 0),g(void 0),C(et.a.REJECTED)}}),[t,d,b,_]),{adapterExtensionStatus:w,getAdapterOrExtensionFromRedux:function(e){return Object.keys(n).map((function(e){return n[e]})).filter((function(e){return e})).filter((function(t){return t.adapterOrExtensionName===e}))[0]},registeredAdaptersOrExtensions:p,unRegisteredAdaptersOrExtensions:A}}var Yt,zt,qt,Kt,Jt=n(73);function Qt(){var e=Object(oe.e)().defaultChain;return{isParamInputValid:function(t,n){var r=t.toString();return n===Yt.ADDRESS?function(t){try{return!!t&&(Se.a.utils.checkAddressChecksum(t,e)||Se.a.utils.isAddress(t,e))}catch(n){return!1}}(r):n===Yt.BYTES32?function(e){try{return!!e&&(66===e.length&&Se.a.utils.isHex(e))}catch(t){return!1}}(r):n===Yt.BYTES32_ARRAY?function(e){try{return Array.from(e.split(",")).every((function(e){return 66===e.length&&Se.a.utils.isHex(e)}))}catch(t){return!1}}(r):n===Yt.UINT256?function(e){return!isNaN(Number(e))}(r):n!==Yt.UINT256_ARRAY||function(e){return Array.from(e.split(",")).every((function(e){return Number(e)}))}(r)},getFormFieldError:function(e){return e===Yt.ADDRESS?ke.a.INVALID_ETHEREUM_ADDRESS:e===Yt.BYTES32?ke.a.INVALID_BYTES32:e===Yt.BYTES32_ARRAY?ke.a.INVALID_BYTES32_ARRAY:e===Yt.UINT256?ke.a.INVALID_NUMBER:e===Yt.UINT256_ARRAY?ke.a.INVALID_NUMBER_ARRAY:ke.a.REQUIRED},formatInputByType:function(e,t){return t===Yt.BYTES32_ARRAY?Array.from(e.split(",")):t===Yt.UINT256_ARRAY?Array.from(e.split(",").map((function(e){return Number(e)}))):t===Yt.UINT256?Number(e):e}}}function Xt(e){var t=e.abiConfigurationInputs,n=e.abiMethodName,a=e.adapterOrExtension,o=e.closeHandler,s=Object(u.c)((function(e){return e.contracts})).DaoRegistryContract,i=Object(c.useState)(),d=Object(K.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Te.e.STANDBY),f=Object(K.a)(j,2),p=f[0],h=f[1],m=Object(c.useState)(Te.e.STANDBY),v=Object(K.a)(m,2),N=v[0],A=v[1],g=Object(oe.a)(),E=g.txError,I=g.txIsPromptOpen,w=g.txSend,C=g.txStatus,_=Object(oe.b)(),R=Object(oe.f)(),y=R.connected,D=R.account,S=Qt(),T=S.isParamInputValid,k=S.getFormFieldError,P=S.formatInputByType,L=Ht().getAdapterOrExtensionFromRedux,F=Object(ye.a)({mode:"onBlur",reValidateMode:"onChange"}),M=F.errors,B=F.formState,G=F.getValues,V=F.setValue,U=F.register,W=F.triggerValidation,H=l||E,Y=y&&D,z=B.isValid,q=(C===Te.e.AWAITING_CONFIRM||C===Te.e.PENDING)&&(p===Te.e.AWAITING_CONFIRM||p===Te.e.PENDING),J=(C===Te.e.AWAITING_CONFIRM||C===Te.e.PENDING)&&(N===Te.e.AWAITING_CONFIRM||N===Te.e.PENDING),Q=C===Te.e.FULFILLED&&p===Te.e.FULFILLED,X=C===Te.e.FULFILLED&&N===Te.e.FULFILLED,$=(q||Q)&&I,Z=(J||X)&&I;function ne(){return(ne=Object(te.a)(ee.a.mark((function e(){var t,n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,A(Te.e.AWAITING_CONFIRM),t=[(null===a||void 0===a?void 0:a.isExtension)?null===a||void 0===a?void 0:a.extensionId:null===a||void 0===a?void 0:a.adapterId],n=Object(x.a)({from:D||""},_?{gasPrice:_.fast}:null),e.next=8,w((null===a||void 0===a?void 0:a.isExtension)?"removeExtension":"removeAdapter",s.instance.methods,t,n);case 8:A(Te.e.FULFILLED),o&&setTimeout((function(){o()}),3e3),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),b(e.t0),A(Te.e.REJECTED);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function re(){return(re=Object(te.a)(ee.a.mark((function e(r){var c,o,s,i,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,h(Te.e.PENDING),c=L(null===a||void 0===a?void 0:a.name),o=c.contractAddress,s=c.instance.methods,Y){e.next=5;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 5:if(o){e.next=7;break}throw new Error("No ".concat(null===a||void 0===a?void 0:a.name," contract found."));case 7:if(D){e.next=9;break}throw new Error("No account found.");case 9:return i=[],null===t||void 0===t||t.forEach((function(e){var t=Object.entries(r).find((function(t){return t[0]===e.name}));if(t){var n=P(t[1],e.type);i.push(n)}})),u=Object(x.a)({from:D||""},_?{gasPrice:_.fast}:null),h(Te.e.AWAITING_CONFIRM),e.next=15,w(n,s,i,u);case 15:h(Te.e.FULFILLED),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),b(e.t0),h(Te.e.REJECTED);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}return Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[t&&t.map((function(e){return Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:e.name}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(e.name),"aria-invalid":M[e.name]?"true":"false",name:e.name,placeholder:e.type,type:"text",onChange:function(){return V(e.name[0],G()[e.name])},ref:U({validate:function(t){return""===t?ke.a.REQUIRED:!!T(t,e.type)||k(e.type)}}),disabled:$}),Object(r.jsx)(Ge,{error:Object(O.f)(e.name,M),id:"error-".concat(e.name)})]})]},e.name)})),Object(r.jsx)("button",{className:"button",disabled:$||Z,onClick:function(){$||(z?function(e){re.apply(this,arguments)}(G()):W())},type:"submit",children:q?Object(r.jsx)(Ue.a,{}):Q?"Done":"Submit"}),H&&4001!==H.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(Be.a,{renderText:"Something went wrong while submitting the adapter configuration.",error:H})}),Object(r.jsxs)("div",{className:"adapter-extension__remove",children:[Object(r.jsx)("p",{children:"Delete this adapter. Once you delete this adapter, it can be re-added if the DAO isn't finalized."}),Object(r.jsx)("button",{className:"button--secondary",disabled:Z||$,onClick:function(){return ne.apply(this,arguments)},children:J?Object(r.jsx)(Ue.a,{}):X?"Done":"Remove"})]})]})}function $t(e){var t=e.abiMethodName,n=e.adapterOrExtension,a=e.configurationInputs,c=e.isOpen,o=e.closeHandler;return Object(r.jsx)(ue,{keyProp:"adapter-extension-configuration",modalClassNames:"adapter-extension-configure-modal",isOpen:c,isOpenHandler:function(){o()},children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){o()},children:Object(r.jsx)(de.a,{})}),Object(r.jsx)("h1",{children:null===n||void 0===n?void 0:n.name.toUpperCase()}),Object(r.jsx)("p",{children:null===n||void 0===n?void 0:n.description}),Object(r.jsx)(Xt,{abiConfigurationInputs:a,abiMethodName:t,adapterOrExtension:n,closeHandler:o})]})})}function Zt(e){var t=e.adapterOrExtension,n=e.defaultTarget,a=e.renderActions,o=e.renderCheckboxAction,s=Object(c.useState)(n||null),i=Object(K.a)(s,2),u=i[0],d=i[1],l=Object(c.useState)({}),b=Object(K.a)(l,2),j=b[0],O=b[1];return Object(r.jsxs)(r.Fragment,{children:[o({selectedTargetOption:u}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[null===t||void 0===t?void 0:t.optionDefaultTarget,(null===t||void 0===t?void 0:t.isExtension)&&"(EXTENSION)"]}),Object(r.jsxs)("select",{className:"select",onChange:function(e){var n=e.target.value;d(n);var r=null===t||void 0===t?void 0:t.options.find((function(e){return e.displayName===n}));O(r)},children:[Object(r.jsxs)("option",{value:"",disabled:null!==u,children:["Select a ",null===t||void 0===t?void 0:t.optionDefaultTarget," type\u2026"]},"adapterOrExtensionSelect"),null===t||void 0===t?void 0:t.options.map((function(e){return Object(r.jsx)("option",{value:e.displayName,children:e.displayName.toUpperCase()},e.displayName)}))]}),function(e){if(!e)return null;try{var n=(null===t||void 0===t?void 0:t.options.find((function(t){return t.displayName===e})).description)||"";return Object(r.jsx)("span",{className:"adapter-extension__desc",children:n})}catch(a){console.warn(a)}}(u)]}),a({selectedTargetOption:u,selectedTargetOptionProps:j})]})}function en(e){var t=e.size,n=Object(N.a)(e,["size"]);return Object(r.jsxs)(c.Fragment,{children:[Object(r.jsx)("input",Object(x.a)(Object(x.a)({},n),{},{"aria-checked":n.checked,checked:n.checked,className:"checkbox-input ".concat(n.className||""," "),id:n.id,name:n.name,onChange:n.onChange,type:"checkbox"})),Object(r.jsxs)("label",{className:"checkbox-label",htmlFor:n.id,children:[Object(r.jsx)("span",{className:"checkbox-box ".concat(t||zt.SMALL)}),Object(r.jsx)("span",{className:"checkbox-text",children:n.label})]})]})}function tn(){var e=Object(u.c)((function(e){return e.contracts})),t=e.DaoRegistryContract,n=e.DaoFactoryContract,a=Object(c.useState)(""),o=Object(K.a)(a,2),s=o[0],i=o[1],d=Object(c.useState)(),l=Object(K.a)(d,2),b=l[0],j=l[1],f=Object(c.useState)(),p=Object(K.a)(f,2),h=p[0],m=p[1],v=Object(c.useState)(),N=Object(K.a)(v,2),A=N[0],g=N[1],E=Object(c.useState)(),I=Object(K.a)(E,2),w=I[0],C=I[1],_=Object(c.useState)(!1),R=Object(K.a)(_,2),y=R[0],D=R[1],S=Object(c.useState)(!1),T=Object(K.a)(S,2),k=T[0],P=T[1],L=Object(c.useState)(0),F=Object(K.a)(L,2),M=F[0],B=F[1],G=Object(c.useState)(),V=Object(K.a)(G,2),U=V[0],W=V[1],H=Object(c.useState)(),Y=Object(K.a)(H,2),z=Y[0],q=Y[1],J=Object(c.useState)(),Q=Object(K.a)(J,2),X=Q[0],$=Q[1],Z=Object(c.useState)(),ne=Object(K.a)(Z,2),re=ne[0],ae=ne[1],ce=Object(oe.f)().account,se=Ht(),ie=se.adapterExtensionStatus,ue=se.getAdapterOrExtensionFromRedux,de=se.registeredAdaptersOrExtensions,le=se.unRegisteredAdaptersOrExtensions,be=Object(Jt.c)(),je=be.dao,Oe=be.gqlError,fe=Object(oe.a)().txSend,pe=Object(oe.b)(),he=Object(Jt.e)(),me=he.isDisabled,ve=he.openWhyDisabledModal,xe=he.setOtherDisabledReasons,Ne=he.WhyDisabledModal,Ae=je,ge=b===Ut.a.READY,Ee=ie===et.a.REJECTED&&void 0===de&&void 0===le,Ie=ie===et.a.PENDING,we=Object(c.useCallback)((function(){return Ce.apply(this,arguments)}),[t,null===je||void 0===je?void 0:je.name,xe]);function Ce(){return(Ce=Object(te.a)(ee.a.mark((function e(){var n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,n="".concat(null===je||void 0===je?void 0:je.name," is already finalized"),e.next=6,Object(Ut.g)(t.instance);case 6:r=e.sent,j(r),r===Ut.a.READY&&xe([n]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),j(void 0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function _e(e){new Promise((function(t,n){try{t(ue(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){ye(t,e.name,"ADAPTER")})).catch((function(t){console.warn('Dao adapter contract not found, try adding the default "'.concat(e.name,'" contract'))}))}function Re(e){new Promise((function(t,n){try{t(ue(e.name).contractAddress)}catch(a){var r=e.contractAddress;r?t(r):n(a)}})).then((function(t){ye(t,e.name,"EXTENSION")})).catch((function(t){console.warn('Dao extension contract not found, try adding the default "'.concat(e.name,'" contract'),t)}))}function ye(e,t,n){return De.apply(this,arguments)}function De(){return(De=Object(te.a)(ee.a.mark((function e(n,r,a){var c,o,s,i,u,d,l;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(void 0),t){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,$((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Lt.a)({},r,!0))})),n){e.next=7;break}throw new Error("".concat(a," address must not be empty"));case 7:return c=Ft(r),o=Bt(r),s=o.acl,i="ADAPTER"===a?[c,n,s]:[c,n,ce],u=Object(x.a)({from:ce||""},pe?{gasPrice:pe.fast}:null),d="ADAPTER"===a?"addAdapter":"addExtension",e.next=14,fe(d,t.instance.methods,i,u);case 14:$((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Lt.a)({},r,!1))})),m((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Lt.a)({},r,!0))})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(3),$((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Lt.a)({},r,!1))})),l=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add ".concat(r," ").concat(a,"; ").concat(e.t0)),C(l);case 23:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function Se(){return(Se=Object(te.a)(ee.a.mark((function e(){var t,r,a,c,o,s,i,u;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C(void 0),n){e.next=3;break}throw new Error("DaoFactoryContract not found");case 3:for(a in e.prev=3,t=[],r=function(e){if(U[e]){var n=Vt.filter((function(t){return t.name===e}))[0].adapterId,r=ue(e).contractAddress,a=Bt(e).acl;n&&t.push([n,r,a]),$((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(Lt.a)({},e,!0))}))}},U)r(a);return c=[null===je||void 0===je?void 0:je.daoAddress,t],o=Object(x.a)({from:ce||""},pe?{gasPrice:pe.fast}:null),e.next=11,fe("addAdapters",n.instance.methods,c,o);case 11:e.next=20;break;case 13:for(u in e.prev=13,e.t0=e.catch(3),s=new Error(e.t0&&4001===(null===e.t0||void 0===e.t0?void 0:e.t0.code)?e.t0.message:"Unable to add adapters; ".concat(e.t0)),C(s),Pe(!1),i=function(e){$((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(Lt.a)({},e,!1))}))},U)i(u);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Te(){return(Te=Object(te.a)(ee.a.mark((function e(t){var n,r,a,c,o;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C(void 0);try{n=Mt()[t.name],r=ue(t.name),a=r.abi,c=a.filter((function(e){return e.name===n}))[0].inputs,i(n),q(t),g(c),D(!0)}catch(s){o=new Error(s&&4001===(null===s||void 0===s?void 0:s.code)?s.message:"".concat(t.name," contract not found")),C(o)}case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.alert("Sorry, finalizing isn't ready yet!");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){P(e);var t=function(t){W((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(Lt.a)({},t,e))}))};for(var n in U)t(n)}return Object(c.useEffect)((function(){we()}),[we,t]),Object(c.useEffect)((function(){P(!1),le&&le&&(null===le||void 0===le||le.forEach((function(e){!(null===e||void 0===e?void 0:e.options)&&W((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(Lt.a)({},e.name,!1))}))})))}),[me,le]),Object(c.useEffect)((function(){U&&B(Object.values(U).filter((function(e){return!0===e})).length)}),[U]),Object(r.jsxs)("div",{className:"adaptermanager",children:[Object(r.jsx)("h2",{children:"Adapter/Extension Manager"}),!je&&Oe?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(Be.a,{error:Oe,renderText:"Something went wrong"})):je?Object(r.jsxs)("h3",{children:[je.name," ",Object(r.jsx)("small",{children:Object(O.i)(je.daoAddress,7)})]}):void 0,w?(window.scrollTo({top:0,left:200,behavior:"smooth"}),Object(r.jsx)(Be.a,{error:w,renderText:"Something went wrong"})):Object(r.jsx)(r.Fragment,{}),Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."}),Object(r.jsxs)("div",{className:"adapter-extension__selection",children:[Object(r.jsx)("div",{children:Object(r.jsx)(en,{id:"selectAll",label:"".concat(M," selected"),checked:!0===k,disabled:Ee||me||0===(null===le||void 0===le?void 0:le.length)||!Ae,name:"selectAll",size:zt.LARGE,onChange:function(e){Pe(e.target.checked)}})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary",disabled:0===M||me,onClick:function(){return Se.apply(this,arguments)},children:"Add selected"})})]}),Ie&&Object(r.jsx)(Ue.a,{text:"Loading data from subgraph..."}),Ee&&Object(r.jsx)("p",{children:"No adapters available"}),Ae&&le&&(null===le||void 0===le?void 0:le.length)>0&&le.map((function(e,t){return Object(r.jsx)("div",{className:"adapter-extension__grid unregistered",children:(null===e||void 0===e?void 0:e.options)?Object(r.jsx)(Zt,{adapterOrExtension:e,renderCheckboxAction:function(t){var n=t.selectedTargetOption;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)(en,{id:n||"empty",label:"",checked:n&&U&&!0===U[n]||!1,disabled:me||null===n||(null===e||void 0===e?void 0:e.isExtension),name:n||"",size:zt.LARGE,onChange:function(e){n&&function(e){var t=e.event,n=e.selectedTargetOption;W((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Lt.a)({},n,t.target.checked))}))}({event:e,selectedTargetOption:n})}})})})},renderActions:function(e){var t=e.selectedTargetOption,n=e.selectedTargetOptionProps;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:null===t||X&&X[n.name]||me,onClick:function(){return(null===n||void 0===n?void 0:n.isExtension)?Re(n):_e(n)},children:X&&X[n.name]?Object(r.jsx)(Ue.a,{}):h&&h[n.name]?"Done":"Add"})})})}}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"adapter-extension__checkbox",children:Object(r.jsx)(en,{id:e.name,label:"",checked:U&&!0===U[e.name]||!1,disabled:me,name:e.name,size:zt.LARGE,onChange:function(t){W((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(Lt.a)({},e.name,t.target.checked))}))}})}),Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__add",children:Object(r.jsx)("button",{className:"button--secondary",disabled:X&&X[e.name]||me,onClick:function(){return(null===e||void 0===e?void 0:e.isExtension)?Re(e):_e(e)},children:X&&X[e.name]?Object(r.jsx)(Ue.a,{}):h&&h[e.name]?"Done":"Add"})})]})},t)})),Ae&&de&&(null===de||void 0===de?void 0:de.length)>0&&de.map((function(e,t){return Object(r.jsxs)("div",{className:"adapter-extension__grid registered",children:[Object(r.jsxs)("div",{className:"adapter-extension__info",children:[Object(r.jsxs)("span",{className:"adapter-extension__name",children:[e.name," ",(null===e||void 0===e?void 0:e.isExtension)&&"(EXTENSION)"]}),Object(r.jsx)("span",{className:"adapter-extension__desc",children:e.description})]}),Object(r.jsx)("div",{className:"adapter-extension__configure",children:Object(r.jsx)("button",{className:"button--secondary",disabled:me||(null===e||void 0===e?void 0:e.isExtension),onClick:function(){return function(e){return Te.apply(this,arguments)}(e)},children:"Configure"})})]},"".concat(e.id,"-").concat(t))})),me&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){ve(),ae(qt.CONFIGURATION_REASON)},children:qt.CONFIGURATION_REASON})}),Object(r.jsxs)("div",{className:"adapter-adapter-extension__finalize",children:[Object(r.jsx)("p",{children:"If you're happy with your setup, you can finalize your DAO. After your DAO is finalized you will need to submit a proposal to make changes."}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--secondary finalize",disabled:Ee||!Ae||ge,onClick:function(){window.confirm("Do you really want to finalize this DAO?")&&function(){ke.apply(this,arguments)}()},children:"Finalize Dao"})}),me&&Object(r.jsx)("div",{children:Object(r.jsx)("button",{className:"button--help",onClick:function(){ve(),ae(qt.FINALIZED_REASON)},children:qt.FINALIZED_REASON})}),Object(r.jsx)(Ne,{title:re})]}),y&&Object(r.jsx)($t,{abiMethodName:s,adapterOrExtension:z,configurationInputs:A,isOpen:y,closeHandler:function(){D(!1)}})]})}function nn(){var e=Object(W.h)().ethereumAddress,t=Object(W.f)(),n=Tt.find((function(t){return t.address.toLowerCase()===e.toLowerCase()}));return Object(c.useEffect)((function(){n||t.push("/404")}),[t,n]),n?Object(r.jsx)(rn,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"memberprofile__left-column",children:[Object(r.jsx)("h3",{children:Object(O.i)(n.address,7)}),Object(r.jsx)(tn,{})]}),Object(r.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile @todo"})]})]})}):Object(r.jsx)(r.Fragment,{})}function rn(e){var t=Object(W.f)();return Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsxs)(ie.a,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function an(){return Object(r.jsx)(W.c,{children:[Object(r.jsx)(W.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(_e,{})}},"splash"),Object(r.jsx)(W.a,{exact:!0,path:"/join",render:function(){return Object(r.jsx)(He,{})}},"join"),Object(r.jsx)(W.a,{exact:!0,path:"/membership",render:function(){return Object(r.jsx)($e,{})}},"membership"),Object(r.jsx)(W.a,{exact:!0,path:"/membership/:proposalId",render:function(){return Object(r.jsx)(dt,{})}},"membership-details"),Object(r.jsx)(W.a,{exact:!0,path:"/transfer",render:function(){return Object(r.jsx)(bt,{})}},"transfer"),Object(r.jsx)(W.a,{exact:!0,path:"/transfers",render:function(){return Object(r.jsx)(Ot,{})}},"transfers"),Object(r.jsx)(W.a,{exact:!0,path:"/transfers/:proposalId",render:function(){return Object(r.jsx)(pt,{})}},"transfer-details"),Object(r.jsx)(W.a,{exact:!0,path:"/tribute",render:function(){return Object(r.jsx)(xt,{})}},"tribute"),Object(r.jsx)(W.a,{exact:!0,path:"/tributes",render:function(){return Object(r.jsx)(At,{})}},"tributes"),Object(r.jsx)(W.a,{exact:!0,path:"/tributes/:proposalId",render:function(){return Object(r.jsx)(Et,{})}},"tribute-details"),Object(r.jsx)(W.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(r.jsx)(wt,{})}},"governance-proposal"),Object(r.jsx)(W.a,{exact:!0,path:"/governance-proposals",render:function(){return Object(r.jsx)(_t,{})}},"governance-proposals"),Object(r.jsx)(W.a,{exact:!0,path:"/governance-proposals/:proposalId",render:function(){return Object(r.jsx)(yt,{})}},"governance-proposal-details"),Object(r.jsx)(W.a,{exact:!0,path:"/members",render:function(){return Object(r.jsx)(kt,{})}},"members"),Object(r.jsx)(W.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(r.jsx)(nn,{})}},"member-profile"),Object(r.jsx)(W.a,{component:tt},"no-match")]})}function cn(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{}),Object(r.jsx)(Ne,{}),Object(r.jsx)("main",{children:Object(r.jsx)(an,{})}),Object(r.jsx)(U,{})]})}function on(e){var t=e.render,n=Object(u.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(c.useState)(),a=Object(K.a)(r,2),o=a[0],s=a[1],i=Object(c.useState)(!1),d=Object(K.a)(i,2),l=d[0],b=d[1],j=Object(c.useState)(Object(Lt.a)({},Kt.initSnapshotAPI,et.a.STANDBY)),O=Object(K.a)(j,2),p=O[0],h=O[1],m=Object(oe.c)(),v=Object(oe.f)(),N=v.account,A=v.connected,g=v.provider,E=v.web3Instance,I=Object(oe.e)().defaultChainError,C=Object(Jt.d)().isMountedRef,_=Object(u.b)(),R=Object(c.useCallback)((function(){return T.apply(this,arguments)}),[m]),y=Object(c.useCallback)((function(e,t){return k.apply(this,arguments)}),[_]),D=Object(c.useCallback)((function(){return S.apply(this,arguments)}),[C]);function S(){return(S=Object(te.a)(ee.a.mark((function e(){var t;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f.v){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(Re.getApiStatus)(f.v);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(C.current){e.next=11;break}return e.abrupt("return");case 11:h((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(Lt.a)({},Kt.initSnapshotAPI,et.a.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),C.current){e.next=18;break}return e.abrupt("return");case 18:s(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function T(){return(T=Object(te.a)(ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),s(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function k(){return(k=Object(te.a)(ee.a.mark((function e(t,n){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_(Object(w.n)(t,n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),s(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){b(Object.values(p).every((function(e){return e===et.a.FULFILLED})))}),[p]),Object(c.useEffect)((function(){A&&g&&E&&R()}),[A,R,g,E]),Object(c.useEffect)((function(){A&&N&&n&&y(N,n)}),[N,A,n,y]),Object(c.useEffect)((function(){s(I)}),[I]),Object(c.useEffect)((function(){D()}),[D]),t({error:o,isInitComplete:l})}function sn(e){var t=e.error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ne,{}),Object(r.jsx)(we,{className:"section-wrapper",children:Object(r.jsx)("main",{children:Object(r.jsxs)(ie.a,{children:[Object(r.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(r.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(r.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(r.jsx)(Be.a,{error:t,renderText:""})})]})})})]})}!function(e){e.ADDRESS="address",e.BYTES32="bytes32",e.BYTES32_ARRAY="bytes32[]",e.UINT256="uint256",e.UINT256_ARRAY="uint256[]"}(Yt||(Yt={})),function(e){e.LARGE="large",e.SMALL="small"}(zt||(zt={})),function(e){e.FINALIZED_REASON="Why is finalizing disabled?",e.CONFIGURATION_REASON="Why are configurations disabled?"}(qt||(qt={})),function(e){e.initSnapshotAPI="initSnapshotAPI"}(Kt||(Kt={}));var un=n(179),dn=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,901)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},ln=(n(877),document.getElementById("root"));"production"===f.i&&Object(O.b)(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1);var bn=new l.ApolloClient({uri:f.m,cache:new l.InMemoryCache({typePolicies:{Adapter:{fields:{adapters:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}},Extension:{fields:{extensions:{merge:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return[].concat(Object(a.a)(e),Object(a.a)(t))}}}}}})});null!==ln&&i.a.render(Object(r.jsx)(u.a,{store:V,children:Object(r.jsx)(d.a,{children:Object(r.jsx)(un.b,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:j.a,options:{infuraId:f.o,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:p.a.LIGHT,children:Object(r.jsx)(l.ApolloProvider,{client:bn,children:Object(r.jsx)(on,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(r.jsx)(sn,{error:t}):n?Object(r.jsx)(cn,{}):null}})})})})}),ln),dn()}},[[878,1,2]]]);
//# sourceMappingURL=main.6747df21.chunk.js.map