(this.webpackJsonptribute=this.webpackJsonptribute||[]).push([[0],{349:function(e,t){},389:function(e,t){},391:function(e,t){},401:function(e,t){},403:function(e,t){},429:function(e,t){},431:function(e,t){},432:function(e,t){},437:function(e,t){},439:function(e,t){},452:function(e,t){},464:function(e,t){},467:function(e,t){},507:function(e,t){},509:function(e,t){},537:function(e,t){},540:function(e,t){},602:function(e,t){},622:function(e,t){},629:function(e,t){},646:function(e,t){},695:function(e,t){},764:function(e,t){},767:function(e,t){},770:function(e,t){},794:function(e,t,n){},795:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),c=n.n(a),s=n(58),o=n.n(s),i=n(14),l=n(22),u=n(316),d=n.n(u);function b(e,t){var n=void 0!==t?e.filter((function(e){return e!==t})):e;return n[Math.floor(Math.random()*n.length)]}var j=n(5);function p(){var e=function(e){e.preventDefault(),e.returnValue=""};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}function h(e){return e<.01?e.toFixed(4):e.toFixed(2)}var f=function(e){var t=new RegExp(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g);return"number"===typeof e?e.toString().replace(/,/g,"").replace(t,"$1,"):e.replace(/,/g,"").replace(t,"$1,")};function O(e,t){return t[e]&&"message"in t[e]?t[e].message:""}function m(e){return e.toLowerCase().trim()}var x=function(e){return e.toString().replace(/,/g,"")};function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(null===e)return"---";if("undefined"!==typeof e&&e.length>9){var n=e.substring(0,t),r=e.substring(e.length-3);return n+"..."+r}return"---"}var g,N,w,A,E,y,C,_=n(17),I=Object({NODE_ENV:"production",PUBLIC_URL:"/tribute",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENVIRONMENT:"localhost",REACT_APP_INFURA_PROJECT_ID_LOCAL:"688e7c2526ff4642987bd0cb0875607f",REACT_APP_GANACHE_DAO_REGISTRY_CONTRACT_ADDRESS:"0x8764533Eaa2B709E3a27b2D7ef51A53bEda0974e",REACT_APP_SNAPSHOT_HUB_API_URL:"http://localhost:8081"}),D=I.REACT_APP_ENVIRONMENT,S=I.REACT_APP_GANACHE_DAO_REGISTRY_CONTRACT_ADDRESS,k=I.REACT_APP_INFURA_PROJECT_ID_DEV,R=I.REACT_APP_INFURA_PROJECT_ID_LOCAL,P=I.REACT_APP_INFURA_PROJECT_ID_PROD,T=I.REACT_APP_SNAPSHOT_HUB_API_URL,L=D,M="localhost"===L?"/snapshot-hub":T,F="production"===D?P:"development"===D?k:R,V=1,B=3,G=4,U=5,W=42,q=1337,H=(g={},Object(_.a)(g,V,"Main Ethereum Network"),Object(_.a)(g,B,"Ropsten Test Network"),Object(_.a)(g,G,"Rinkeby Test Network"),Object(_.a)(g,U,"G\xf6rli Test Network"),Object(_.a)(g,W,"Kovan Test Network"),Object(_.a)(g,q,"Ganache Test Network"),g),z=(N={},Object(_.a)(N,V,"https://etherscan.io"),Object(_.a)(N,B,"https://ropsten.etherscan.io"),Object(_.a)(N,G,"https://rinkeby.etherscan.io"),Object(_.a)(N,U,"https://goerli.etherscan.io"),Object(_.a)(N,W,"https://kovan.etherscan.io"),N),Y=(w={},Object(_.a)(w,V,""),Object(_.a)(w,B,""),Object(_.a)(w,G,"0x69c0c049b1F2E7Abe8DaC47B2baCAC927839D49a"),Object(_.a)(w,U,""),Object(_.a)(w,W,""),Object(_.a)(w,q,S),w),J="production"===D?V:"development"===D?G:q,K="0x00000000000000000000000000000000000FF1CE",Q={development:"",localhost:"thelao",production:""}[L||"localhost"],X=n(2),Z=n.n(X),$=n(7),ee=n(3),te=n(37),ne=n.n(te),re=n(320),ae=n.n(re);!function(e){e[e.GOERLI=5]="GOERLI",e[e.KOVAN=42]="KOVAN",e[e.RINKEBY=4]="RINKEBY",e[e.ROPSTEN=3]="ROPSTEN",e[e.MAINNET=1]="MAINNET"}(A||(A={})),function(e){e.GOERLI="goerli",e.KOVAN="kovan",e.RINKEBY="rinkeby",e.ROPSTEN="ropsten",e.MAINNET="mainnet"}(E||(E={})),function(e){e.REQUIRED="This field is required.",e.INVALID_ETHEREUM_ADDRESS="The ethereum address is invalid.",e.INVALID_NUMBER="The value is not a number."}(y||(y={})),function(e){e.FAILED="Failed",e.PASSED="Passed",e.REQUESTS="Proposals",e.VOTING="Voting"}(C||(C={}));var ce,se,oe="WEB3_CONNECT_CACHED_PROVIDER";function ie(e,t){var n=t.type,r=t.payload;switch(n){case se.INIT_WEB3MODAL:return{web3Modal:r.web3Modal};case se.ACTIVATE_PROVIDER:return{provider:r.provider,networkId:r.networkId,account:r.account,web3Modal:r.web3Modal};case se.UPDATE:var a=r.provider,c=r.networkId,s=r.account,o=r.connected,i=r.web3Instance;return Object(ee.a)(Object(ee.a)(Object(ee.a)(Object(ee.a)(Object(ee.a)(Object(ee.a)({},e),void 0===a?{}:{provider:a}),void 0===c?{}:{networkId:c}),void 0===s?{}:{account:s}),void 0===o?{}:{connected:o}),void 0===i?{}:{web3Instance:i});case se.UPDATE_FROM_ERROR:var l=r.provider,u=r.networkId,d=r.account;return Object(ee.a)(Object(ee.a)(Object(ee.a)(Object(ee.a)(Object(ee.a)({},e),void 0===l?{}:{provider:l}),void 0===u?{}:{networkId:u}),void 0===d?{}:{account:d}),{},{error:void 0});case se.ERROR:var b=r.error;return{provider:e.provider,error:b};case se.ERROR_FROM_ACTIVATION:return{provider:r.provider,error:r.error};case se.DEACTIVATE_PROVIDER:return{}}}function le(e){var t=e.defaultChain,n=e.defaultTheme,r=e.providerOptions,c=Object(a.useReducer)(ie,{}),s=Object(j.a)(c,2),o=s[0],i=s[1],l=n,u=t||J,d=Object(a.useCallback)(p,[o.web3Modal]),b=Object(a.useCallback)((function(){switch(u){case A.GOERLI:return E.GOERLI;case A.KOVAN:return E.KOVAN;case A.RINKEBY:return E.RINKEBY;case A.ROPSTEN:return E.ROPSTEN;case A.MAINNET:default:return E.MAINNET}}),[u]);function p(e){return h.apply(this,arguments)}function h(){return(h=Object($.a)(Z.a.mark((function e(t){var n,r,a,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o.web3Modal){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,o.web3Modal.connectTo(t);case 5:return O(n=e.sent),r=new ne.a(n),e.next=10,r.eth.getAccounts();case 10:return a=e.sent,e.next=13,r.eth.net.getId();case 13:c=e.sent,i({type:se.UPDATE,payload:{account:a[0],connected:!0,provider:n,networkId:c,web3Instance:r}}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function f(){return(f=Object($.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o.provider.close){e.next=4;break}return e.next=4,o.provider.close();case 4:if(e.t0=o.web3Modal,!e.t0){e.next=8;break}return e.next=8,o.web3Modal.clearCachedProvider();case 8:i({type:se.DEACTIVATE_PROVIDER}),e.next=14;break;case 11:e.prev=11,e.t1=e.catch(0),console.error(e.t1);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function O(e){(null===e||void 0===e?void 0:e.on)&&(e.on("accountsChanged",(function(e){i({type:se.UPDATE,payload:{account:e[0]}})})),e.on("chainChanged",(function(e){var t,n;function r(){return(r=Object($.a)(Z.a.mark((function t(n){var r;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=parseInt(e,16),i({type:se.UPDATE,payload:{networkId:r}}),t.t0=Number(r)===Number(e),!t.t0){t.next=6;break}return t.next=6,d(n);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(null===(t=o.web3Modal)||void 0===t?void 0:t.cachedProvider)&&function(e){r.apply(this,arguments)}(null===(n=o.web3Modal)||void 0===n?void 0:n.cachedProvider)})),e.on("connect",(function(e){console.info("connect",e)})),e.on("disconnect",(function(e){console.info("disconnect",e)})))}return Object(a.useEffect)((function(){o.web3Modal||i({type:se.INIT_WEB3MODAL,payload:{web3Modal:new ae.a({cacheProvider:!0,network:b(),providerOptions:r,theme:l})}})}),[b,r,l,o.web3Modal]),Object(a.useEffect)((function(){function e(){return(e=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,d(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.web3Modal&&localStorage.getItem(oe)&&function(t){e.apply(this,arguments)}(o.web3Modal.cachedProvider)}),[d,o.web3Modal]),Object(ee.a)(Object(ee.a)({},o),{},{onConnectTo:p,onDisconnect:function(){return f.apply(this,arguments)},providerOptions:r})}!function(e){e.DARK="dark",e.LIGHT="light"}(ce||(ce={})),function(e){e[e.INIT_WEB3MODAL=0]="INIT_WEB3MODAL",e[e.ACTIVATE_PROVIDER=1]="ACTIVATE_PROVIDER",e[e.UPDATE=2]="UPDATE",e[e.UPDATE_FROM_ERROR=3]="UPDATE_FROM_ERROR",e[e.ERROR=4]="ERROR",e[e.ERROR_FROM_ACTIVATION=5]="ERROR_FROM_ACTIVATION",e[e.DEACTIVATE_PROVIDER=6]="DEACTIVATE_PROVIDER"}(se||(se={}));var ue=n(59),de=n(321),be=n(322),je=n(46),pe="SET_CONNECTED_MEMBER",he="CLEAR_CONNECTED_MEMBER";function fe(e,t){return function(){var n=Object($.a)(Z.a.mark((function n(r){var a,c,s,o,i;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((a=t.instance)&&e){n.next=4;break}return r(Oe()),n.abrupt("return");case 4:return n.prev=4,n.next=7,a.methods.memberAddressesByDelegatedKey(e).call({from:e});case 7:return c=n.sent,n.next=10,a.methods.isActiveMember(c).call({from:e});case 10:return s=n.sent,n.next=13,a.methods.getCurrentDelegateKey(c).call({from:e});case 13:o=n.sent,i=s&&!c.startsWith("0x0000000000"),r((l={delegateKey:o,isActiveMember:i,memberAddress:c},Object(ee.a)({type:pe},l))),n.next=22;break;case 18:throw n.prev=18,n.t0=n.catch(4),r(Oe()),n.t0;case 22:case"end":return n.stop()}var l}),n,null,[[4,18]])})));return function(e){return n.apply(this,arguments)}}()}function Oe(){return{type:he}}var me,xe,ve,ge,Ne,we=null;function Ae(e,t){return Object(ee.a)(Object(ee.a)({},e),t)}function Ee(){return we}!function(e){e.configuration="configuration",e.financing="financing",e.guildkick="guildkick",e.managing="managing",e.onboarding="onboarding",e.ragequit="ragequit",e.tribute="tribute",e.voting="voting"}(me||(me={})),function(e){e.bank="bank"}(xe||(xe={})),function(e){e.offchainVotingGracePeriod="offchainvoting.gracePeriod",e.offchainVotingStakingAmount="offchainvoting.stakingAmount",e.offchainVotingVotingPeriod="offchainvoting.votingPeriod",e.onboardingChunkSize="onboarding.chunkSize",e.onboardingMaximumChunks="onboarding.maximumChunks",e.onboardingSharesPerChunk="onboarding.sharesPerChunk",e.onboardingTokenAddr="onboarding.tokenAddr",e.votingGracePeriod="voting.gracePeriod",e.votingStakingAmount="voting.stakingAmount",e.votingVotingPeriod="voting.votingPeriod"}(ve||(ve={})),function(e){e.Yes="Yes",e.No="No"}(ge||(ge={})),function(e){e.STANDBY="STANDBY",e.AWAITING_CONFIRM="AWAITING_CONFIRM",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(Ne||(Ne={}));var ye=n(27);function Ce(e,t,n,r,a){return _e.apply(this,arguments)}function _e(){return(_e=Object($.a)(Z.a.mark((function e(t,n,r,a,c){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object($.a)(Z.a.mark((function e(s,o){var i,l;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=n[t],e.next=4,i.apply(void 0,Object(ye.a)(r)).estimateGas({from:a.from,value:a.value});case 4:return l=e.sent,e.next=7,i.apply(void 0,Object(ye.a)(r)).send(Object(ee.a)(Object(ee.a)({},a),{},{gas:l})).on("transactionHash",(function(e){c&&c(e)})).on("receipt",(function(e){s(e)})).on("error",(function(e){o(e)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),o(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){return De.apply(this,arguments)}function De(){return(De=Object($.a)(Z.a.mark((function e(t,n){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getAdapterAddress(ne.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Se(e){try{var t=null===e||void 0===e?void 0:e.contractAddress;if(!t)throw new Error("Contract address was not found in the store.");return t}catch(n){throw n}}function ke(e,t){try{switch(e){case me.configuration:case me.financing:case me.guildkick:case me.managing:return"";case me.onboarding:return Se(t.OnboardingContract);case me.ragequit:return"";case me.tribute:return Se(t.TributeContract);default:throw new Error("Contract address was not found in the store.")}}catch(n){throw n}}function Re(e,t){try{var n=Object.values(t).find((function(t){return(null===t||void 0===t?void 0:t.contractAddress)&&m(t.contractAddress)===m(e)}));if(!n)throw new Error("Contract was not found in the store.");return n}catch(r){throw r}}function Pe(e,t){return Te.apply(this,arguments)}function Te(){return(Te=Object($.a)(Z.a.mark((function e(t,n){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getConfiguration(ne.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function Le(e,t){return Me.apply(this,arguments)}function Me(){return(Me=Object($.a)(Z.a.mark((function e(t,n){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}throw new Error("No DaoRegistry contract instance provided.");case 3:return e.next=5,n.methods.getExtensionAddress(ne.a.utils.sha3(t)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}var Fe="CONTRACT_DAO_REGISTRY",Ve="CONTRACT_VOTING_OP_ROLLUP",Be="CONTRACT_ONBOARDING",Ge="CONTRACT_BANK_EXTENSION",Ue="CONTRACT_TRIBUTE";function We(e){return function(){var t=Object($.a)(Z.a.mark((function t(r){var a,c,s,o,i;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(5).then(n.t.bind(null,802,3));case 4:if(a=t.sent,c=a.default,s=c,o=Y[J]){t.next=10;break}throw new Error("No DAO Registry contract address was found.");case 10:i=new e.eth.Contract(s,o),r(Je({type:Fe,abi:s,contractAddress:o,instance:i}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}function qe(e){return function(){var t=Object($.a)(Z.a.mark((function t(r,a){var c,s,o,i,l,u;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(7).then(n.t.bind(null,803,3));case 4:return s=t.sent,o=s.default,i=o,t.next=9,Ie(me.voting,null===(c=a().contracts.DaoRegistryContract)||void 0===c?void 0:c.instance);case 9:l=t.sent,u=new e.eth.Contract(i,l),r(Je({type:Ve,abi:i,contractAddress:l,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()}function He(e){return function(){var t=Object($.a)(Z.a.mark((function t(r,a){var c,s,o,i,l,u;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(8).then(n.t.bind(null,804,3));case 4:return s=t.sent,o=s.default,i=o,t.next=9,Ie(me.onboarding,null===(c=a().contracts.DaoRegistryContract)||void 0===c?void 0:c.instance);case 9:l=t.sent,u=new e.eth.Contract(i,l),r(Je({type:Be,abi:i,contractAddress:l,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()}function ze(e){return function(){var t=Object($.a)(Z.a.mark((function t(r,a){var c,s,o,i,l,u;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(4).then(n.t.bind(null,805,3));case 4:return s=t.sent,o=s.default,i=o,t.next=9,Le(xe.bank,null===(c=a().contracts.DaoRegistryContract)||void 0===c?void 0:c.instance);case 9:l=t.sent,u=new e.eth.Contract(i,l),r(Je({type:Ge,abi:i,contractAddress:l,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()}function Ye(e){return function(){var t=Object($.a)(Z.a.mark((function t(r,a){var c,s,o,i,l,u;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e){t.next=12;break}return t.next=4,n.e(9).then(n.t.bind(null,806,3));case 4:return s=t.sent,o=s.default,i=o,t.next=9,Ie(me.tribute,null===(c=a().contracts.DaoRegistryContract)||void 0===c?void 0:c.instance);case 9:l=t.sent,u=new e.eth.Contract(i,l),r(Je({type:Ue,abi:i,contractAddress:l,instance:u}));case 12:t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(0),t.t0;case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()}function Je(e){var t=e.type,n=Object(je.a)(e,["type"]);return Object(ee.a)({type:t},n)}var Ke={BankExtensionContract:null,DaoRegistryContract:null,VotingContract:null,OnboardingContract:null,TributeContract:null};function Qe(e,t){return Object(ee.a)(Object(ee.a)({},e),{},{BankExtensionContract:Object(ee.a)({},t)})}function Xe(e,t){return Object(ee.a)(Object(ee.a)({},e),{},{DaoRegistryContract:Object(ee.a)({},t)})}function Ze(e,t){return Object(ee.a)(Object(ee.a)({},e),{},{OnboardingContract:Object(ee.a)({},t)})}function $e(e,t){return Object(ee.a)(Object(ee.a)({},e),{},{TributeContract:Object(ee.a)({},t)})}function et(e,t){return Object(ee.a)(Object(ee.a)({},e),{},{VotingContract:Object(ee.a)({},t)})}var tt=Object(ue.combineReducers)({connectedMember:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(je.a)(t,["type"]);switch(n){case pe:return Ae(e,r);case he:return Ee();default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Object(je.a)(t,["type"]);switch(n){case Ge:return Qe(e,r);case Fe:return Xe(e,r);case Be:return Ze(e,r);case Ue:return $e(e,r);case Ve:return et(e,r);default:return e}}}),nt=Object(ue.createStore)(tt,Object(de.composeWithDevTools)(Object(ue.applyMiddleware)(be.a)));function rt(){return Object(r.jsx)("div",{})}var at=n(28);function ct(e){return Object(r.jsx)("div",{className:"logo ".concat(e.size?"logo--".concat(e.size):""),children:"TRIBUTE"})}function st(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(ct,{size:"small"})})}function ot(){return Object(r.jsx)("div",{className:"logo-container logo-container--header",children:Object(r.jsx)(ct,{size:"medium"})})}function it(){return Object(r.jsx)("div",{className:"logo-container logo-container--center",children:Object(r.jsx)(ct,{size:"large"})})}var lt=n(801),ut=n(88),dt=n.n(ut),bt=n(328),jt=n(125);function pt(){var e={fill:"#e27625",stroke:"#e27625",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"},t={fill:"#f5841f",stroke:"#f5841f",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"};return Object(r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 33.9 31.3",version:"1.1",viewBox:"0 0 33.9 31.3",xmlSpace:"preserve",children:[Object(r.jsx)("path",{d:"M32.1.1L18.9 9.8l2.4-5.7 10.8-4z",style:{fill:"#e17726",stroke:"#e17726",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M1.8.1l13 9.8-2.3-5.8L1.8.1zM27.4 22.7L23.9 28l7.5 2.1 2.1-7.3-6.1-.1zM.4 22.8l2.1 7.3L10 28l-3.5-5.3-6.1.1z",style:e}),Object(r.jsx)("path",{d:"M9.6 13.6l-2.1 3.1 7.4.3-.2-8-5.1 4.6zM24.3 13.6L19.1 9l-.2 8.1 7.4-.3-2-3.2zM10 28l4.5-2.2-3.9-3L10 28zM19.4 25.8l4.5 2.2-.6-5.2-3.9 3z",style:e}),Object(r.jsx)("path",{d:"M23.9 28l-4.5-2.2.4 2.9v1.2l4.1-1.9zM10 28l4.2 2v-1.2l.4-2.9L10 28z",style:{fill:"#d5bfb2",stroke:"#d5bfb2",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M14.2 20.9l-3.7-1.1 2.6-1.2 1.1 2.3zM19.6 20.9l1.1-2.3 2.6 1.2-3.7 1.1z",style:{fill:"#233447",stroke:"#233447",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M10 28l.6-5.3-4.1.1L10 28zM23.2 22.7l.6 5.3 3.5-5.2-4.1-.1zM26.4 16.8l-7.4.3.7 3.8 1.1-2.3 2.6 1.2 3-3zM10.5 19.8l2.6-1.2 1.1 2.3.7-3.8-7.4-.3 3 3z",style:{fill:"#cc6228",stroke:"#cc6228",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M7.5 16.8l3.1 6.1-.1-3-3-3.1zM23.4 19.8l-.1 3 3.1-6.1-3 3.1zM14.9 17.1l-.7 3.8.9 4.5.2-5.9-.4-2.4zM18.9 17.1l-.4 2.4.2 5.9.9-4.5-.7-3.8z",style:{fill:"#e27525",stroke:"#e27525",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.6 20.9l-.9 4.5.6.4 3.9-3 .1-3-3.7 1.1zM10.5 19.8l.1 3 3.9 3 .6-.4-.9-4.5-3.7-1.1z",style:t}),Object(r.jsx)("path",{d:"M19.7 30v-1.2l-.3-.3h-5l-.3.3V30L10 28l1.5 1.2 2.9 2h5.1l3-2 1.4-1.2-4.2 2z",style:{fill:"#c0ac9d",stroke:"#c0ac9d",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M19.4 25.8l-.6-.4h-3.7l-.6.4-.4 2.9.3-.3h5l.3.3-.3-2.9z",style:{fill:"#161616",stroke:"#161616",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M32.6 10.5l1.1-5.4-1.7-5-12.6 9.4 4.9 4.1 6.9 2 1.5-1.8-.7-.4 1.1-1-.8-.6 1.1-.8-.8-.5zM.1 5.1l1.1 5.4-.7.5 1.1.8-.8.6 1.1 1-.7.5 1.5 1.8 6.9-2 4.9-4.1L1.8.1l-1.7 5z",style:{fill:"#763e1a",stroke:"#763e1a",strokeWidth:"0.25",strokeLinecap:"round",strokeLinejoin:"round"}}),Object(r.jsx)("path",{d:"M31.2 15.6l-6.9-2 2.1 3.1-3.1 6.1 4.1-.1h6.1l-2.3-7.1zM9.6 13.6l-6.9 2-2.3 7.1h6.1l4.1.1-3.1-6.1 2.1-3.1zM18.9 17.1l.4-7.6 2-5.4h-8.9l2 5.4.4 7.6.2 2.4v5.9h3.7v-5.9l.2-2.4z",style:t})]})}function ht(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 300 185",children:Object(r.jsx)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:Object(r.jsx)("g",{fill:"#3B99FC",fillRule:"nonzero",children:Object(r.jsx)("path",{d:"M61.439 36.256c48.91-47.888 128.212-47.888 177.123 0l5.886 5.764a6.041 6.041 0 010 8.67l-20.136 19.716a3.179 3.179 0 01-4.428 0l-8.101-7.931c-34.122-33.408-89.444-33.408-123.566 0l-8.675 8.494a3.179 3.179 0 01-4.428 0L54.978 51.253a6.041 6.041 0 010-8.67l6.46-6.327zM280.206 77.03l17.922 17.547a6.041 6.041 0 010 8.67l-80.81 79.122c-2.446 2.394-6.41 2.394-8.856 0l-57.354-56.155a1.59 1.59 0 00-2.214 0L91.54 182.37c-2.446 2.394-6.411 2.394-8.857 0L1.872 103.247a6.041 6.041 0 010-8.671l17.922-17.547c2.445-2.394 6.41-2.394 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L145.57 77.03c2.446-2.394 6.41-2.395 8.856 0l57.355 56.155a1.59 1.59 0 002.214 0L271.35 77.03c2.446-2.394 6.41-2.394 8.856 0z"})})})})}var ft={injected:Object(r.jsx)(pt,{}),walletconnect:Object(r.jsx)(ht,{})},Ot=Object(a.createContext)({});function mt(e){var t=e.children,n=e.defaultChain,a=e.defaultTheme,c=void 0===a?ce.DARK:a,s=e.providerOptions,o=le({defaultChain:n,defaultTheme:c,providerOptions:s}),i={account:o.account,connected:o.connected,onConnectTo:o.onConnectTo,onDisconnect:o.onDisconnect,networkId:o.networkId,provider:o.provider,providerOptions:s,web3Instance:o.web3Instance,web3Modal:o.web3Modal};return Object(r.jsx)(Ot.Provider,{value:i,children:t})}function xt(){return Object(a.useContext)(Ot)}function vt(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(j.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],h=Object(a.useState)(),f=Object(j.a)(h,2),O=f[0],m=f[1],x=Object(a.useState)(Ne.STANDBY),v=Object(j.a)(x,2),g=v[0],N=v[1],w=xt().networkId;function A(e){return function(t){N(Ne.PENDING),b(!1),w&&w!==q&&i("".concat(z[w],"/tx/").concat(t)),e&&e(t)}}function E(){return(E=Object($.a)(Z.a.mark((function e(){var t,n,a,c,s,o=arguments;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=p(),e.prev=1,r(void 0),i(""),N(Ne.AWAITING_CONFIRM),b(!0),n=o.length,a=new Array(n),c=0;c<n;c++)a[c]=o[c];return a[4]=A(a[4]),e.next=10,Ce.apply(void 0,a);case 10:return s=e.sent,m(s),N(Ne.FULFILLED),t(),e.abrupt("return",s);case 17:throw e.prev=17,e.t0=e.catch(1),r(e.t0),N(Ne.REJECTED),b(!1),t(),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,17]])})))).apply(this,arguments)}return{txError:n,txEtherscanURL:o,txIsPromptOpen:d,txReceipt:O,txSend:function(){return E.apply(this,arguments)},txStatus:g}}var gt="https://ethgasstation.info/json/ethgasAPI.json";function Nt(){var e=Object(a.useState)(gt),t=Object(j.a)(e,2),n=t[0],r=(t[1],Object(a.useState)()),c=Object(j.a)(r,2),s=c[0];c[1],Object(a.useRef)();return Object(a.useEffect)((function(){}),[n]),s}function wt(){var e=xt(),t=e.networkId,n=e.connected,r=Object(a.useState)(!1),c=Object(j.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(),l=Object(j.a)(i,2),u=l[0],d=l[1];return Object(a.useEffect)((function(){o(t===J),d(n&&t!==J?new Error("Please connect to the ".concat(H[J],".")):void 0)}),[n,t]),{defaultChain:J,defaultChainError:u,isDefaultChain:s}}function At(){return Object(r.jsx)("div",{className:"loader--emoji",children:Object(r.jsx)("span",{role:"img","aria-label":"hourglass emoji",children:"\u23f3"})})}var Et=function(e){return{transition:"opacity ".concat(e.duration||300,"ms cubic-bezier(0, 0.69, 0.32, 0.64)"),opacity:0}},yt={entering:{opacity:0},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};function Ct(e){var t=e.inline;return Object(r.jsx)(lt.a,{appear:!0,in:void 0===e.show||e.show,timeout:e.duration||300,children:function(n){return t?Object(r.jsx)("span",{style:Object(ee.a)(Object(ee.a)({},Et(e)),yt[n]),children:e.children}):Object(r.jsx)("div",{style:Object(ee.a)(Object(ee.a)({},Et(e)),yt[n]),children:e.children})}})}function _t(e){var t=e.children,n=e.keyProp,a=e.isOpen,c=e.styleProps,s=e.isOpenHandler;return Object(r.jsx)(dt.a,{ariaHideApp:!1,className:"modal-container",isOpen:a,onRequestClose:function(){s(a)},overlayClassName:"modal-overlay",role:"dialog",style:Object(ee.a)({overlay:{zIndex:"99"}},c),children:Object(r.jsx)(Ct,{children:Object(r.jsx)("div",{className:"modal",children:t})})},n)}function It(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"times","data-prefix":"fal",viewBox:"0 0 320 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"})})}function Dt(e){var t,n=e.customWalletText,c=e.showWalletETHBadge,s=xt(),o=s.account,i=s.connected,l=s.providerOptions,u=s.onConnectTo,d=s.onDisconnect,b=s.networkId,p=s.web3Modal,h=wt(),f=h.defaultChain,O=h.defaultChainError,m=h.isDefaultChain,x=Object(a.useState)(!1),g=Object(j.a)(x,2),N=g[0],w=g[1],A=null!==(t=b!==f)&&void 0!==t?t:m,E=b===q,y=jt.isMobile?o?v(o):"Connect":c&&o?v(o):n||"";function C(){window.open("".concat(z[f],"/address/").concat(o),"_blank")}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("button",{className:"walletconnect__connect-button \n        ".concat(A&&i?"walletconnect__connect-button--error":""),onClick:function(){w(!0)},children:[Object(r.jsx)("span",{className:"connect-button-text ".concat(i?"connect-button-text--ethAddress":""),children:y||"Connect"}),c&&A&&i&&Object(r.jsx)("span",{children:"Wrong Network"}),c&&Object(r.jsx)(St,{providerName:null===p||void 0===p?void 0:p.cachedProvider})]}),N&&function(){var e=Object.entries(l).filter((function(e){return"injected"!==e[0]})),t=(jt.isMobile?e:Object.entries(l)).map((function(e){return Object(r.jsxs)("button",{className:"walletconnect__options-button \n            ".concat(i&&(null===p||void 0===p?void 0:p.cachedProvider)===e[0]?"walletconnect__options-button--connected":""),onClick:Object($.a)(Z.a.mark((function t(){return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e[0]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),disabled:E&&"walletconnect"===e[0],children:[Object(r.jsx)("span",{className:"wallet-name",children:e[1].display.name}),Object(r.jsx)(St,{providerName:e[0]})]},e[0])}));return Object(r.jsxs)(_t,{keyProp:"web3modal",isOpen:N,isOpenHandler:function(){w(!1)},children:[Object(r.jsx)("span",{className:"modal__close-button",onClick:function(){w(!1)},children:Object(r.jsx)(It,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"modal__title",children:"Connect Wallet"}),i&&A?null:Object(r.jsx)("div",{className:"modal__subtitle",children:"Choose Your Wallet"}),o&&Object(r.jsx)("button",{className:"walletconnect__connected-address-button",onClick:C,disabled:E,children:jt.isMobile?v(o):o}),i&&A?Object(r.jsx)(kt,{defaultChainError:(null===O||void 0===O?void 0:O.message)||""}):Object(r.jsx)("div",{className:"walletconnect__options",children:t}),i&&Object(r.jsx)("button",{className:"walletconnect__disconnect-link-button",onClick:d,children:"Disconnect Wallet"})]})]})}()]})}function St(e){var t=e.providerName;return t?Object(r.jsx)("span",{className:"walletconnect__wallet-icon",children:ft[t]}):null}function kt(e){var t=e.defaultChainError;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"error-message",children:Object(r.jsx)("small",{children:t})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(At,{})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("small",{children:"Waiting for the right network\u2026"}),Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"Switch networks from your wallet"})]})]})]})}var Rt=c.a.memo((function(e){var t=e.customWalletText,n=e.showWalletETHBadge;return Object(r.jsx)(Dt,{customWalletText:t,showWalletETHBadge:n})}));function Pt(){return Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"svg-inline--fa fa-bars fa-w-14 fa-3x","data-icon":"bars","data-prefix":"fal",viewBox:"0 0 448 512",children:Object(r.jsx)("path",{fill:"currentColor",d:"M442 114H6a6 6 0 01-6-6V84a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6zm0 160H6a6 6 0 01-6-6v-24a6 6 0 016-6h436a6 6 0 016 6v24a6 6 0 01-6 6z"})})}var Tt={transition:"0.1s"},Lt={entering:{right:"-300px"},entered:{right:0},exiting:{right:0,opacity:0},exited:{right:"-300px",opacity:0}},Mt={entering:{right:0,opacity:1},entered:{right:"-300px",opacity:1},exiting:{right:"-300px",opacity:1},exited:{right:0,opacity:1}};function Ft(){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("ul",{className:"nav__list","data-testid":"nav__list",children:[Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(l.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(l.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(l.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{tabIndex:0,children:Object(r.jsx)(l.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})})]})})}function Vt(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(Lt),o=Object(j.a)(s,2),i=o[0],u=o[1],d=Object(at.g)(),b=Object(at.f)(),p=xt().account,h="/"===d.pathname;function f(e){if(!e){u(Mt);var t=setTimeout((function(){return c(e)}),500);return function(){return clearTimeout(t)}}c(e),u(Lt)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(bt.a,{query:"(max-width: 62em)",children:function(e){return Object(r.jsx)("div",{className:"nav-header",children:Object(r.jsxs)("div",{className:"nav-header__menu-container",children:[!h&&Object(r.jsx)(Ft,{}),Object(r.jsx)("div",{tabIndex:0,className:"nav__hamburger-wrapper",children:Object(r.jsx)("div",{className:"nav__hamburger","aria-label":"Menu","aria-controls":"navigation",onClick:function(e){e.preventDefault(),f(!0)},children:Object(r.jsx)(Pt,{})})}),Object(r.jsx)("div",{className:"nav-header__walletconnect-button-container",children:Object(r.jsx)(Rt,{showWalletETHBadge:!0})})]})})}}),Object(r.jsx)(dt.a,{ariaHideApp:!1,className:"nav-modal-container",isOpen:n,onRequestClose:function(){f(!1)},overlayClassName:"nav-modal-overlay",role:"dialog",style:{overlay:{zIndex:"99"}},children:Object(r.jsx)(lt.a,{appear:!0,in:n,timeout:200,children:function(e){return Object(r.jsx)("nav",{role:"navigation",id:"navigation",children:Object(r.jsxs)("div",{style:Object(ee.a)(Object(ee.a)({},Tt),i[e]),className:"nav-modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(e){e.preventDefault(),f(!1)},children:Object(r.jsx)(It,{})}),Object(r.jsx)(st,{}),Object(r.jsxs)("div",{className:"nav-modal__walletconnect-button-container",children:[Object(r.jsx)(Rt,{showWalletETHBadge:!0}),Object(r.jsx)("button",{className:"button",onClick:function(){f(!1),b.push("/join")},children:"Join"})]}),Object(r.jsxs)("ul",{className:"nav__list",children:[Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(l.c,{to:"/membership",children:Object(r.jsx)("span",{children:"Membership"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(l.c,{to:"/governance-proposals",children:Object(r.jsx)("span",{children:"Governance"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(l.c,{to:"/transfers",children:Object(r.jsx)("span",{children:"Transfer"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)(l.c,{to:"/tributes",children:Object(r.jsx)("span",{children:"Tribute"})})}),Object(r.jsx)("li",{onClick:function(){f(!1)},children:Object(r.jsx)("a",{href:"#",rel:"noopener noreferrer",target:"_blank",children:Object(r.jsx)("span",{children:"Help"})})}),p&&Object(r.jsx)("li",{className:"link-separated",onClick:function(){f(!1)},children:Object(r.jsx)(l.c,{to:"/members/".concat(p),children:Object(r.jsx)("span",{children:"Profile"})})})]})]})})}})})]})}function Bt(){if("/"===Object(at.g)().pathname)return null;function e(e){return Object(r.jsx)(l.b,{to:"/",children:e.children})}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("header",{className:"header",children:[Object(r.jsx)(e,{children:Object(r.jsx)(ot,{})}),Object(r.jsx)("div",{className:"header__nav-container",children:Object(r.jsx)(Vt,{})})]})})}var Gt=n(324);function Ut(){return Object(r.jsxs)(Gt.a,{children:[Object(r.jsx)("title",{children:"TRIBUTE dao"}),Object(r.jsx)("meta",{name:"description",content:"A modular DAO framework developed and coordinated by its members"})]})}var Wt=n(327),qt=n.n(Wt),Ht=(n(759),function(e){var t=e.children,n=Object(je.a)(e,["children"]);return Object(r.jsx)("div",Object(ee.a)(Object(ee.a)({style:{position:"relative"}},n),{},{children:t}))}),zt=c.a.memo((function(){return Object(r.jsxs)("div",{className:"cube","data-testid":"cube","data-aos":"fade-up","data-aos-delay":"150",children:[Object(r.jsx)("div",{className:"cube__segment--top"}),Object(r.jsx)("div",{className:"cube__segment--left"}),Object(r.jsx)("div",{className:"cube__segment--right"})]})}));function Yt(){var e=Object(at.f)();return Object(a.useEffect)((function(){qt.a.init({duration:800,offset:40,delay:120,mirror:!1,once:!0})}),[]),Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("header",{className:"header",children:Object(r.jsx)(it,{})}),Object(r.jsxs)("div",{className:"landing",children:[Object(r.jsx)("div",{className:"landing__subtitle",children:Object(r.jsx)("p",{children:"For the ongoing development of Moloch v3"})}),Object(r.jsx)("div",{className:"landing__img",children:Object(r.jsx)(zt,{})}),Object(r.jsx)("div",{className:"landing__button",children:Object(r.jsx)("button",{className:"button",onClick:function(){e.push("/join")},children:"Join"})}),Object(r.jsx)("div",{className:"landing__navlinks",children:Object(r.jsx)(Ft,{})})]})]})})}var Jt,Kt=n(8),Qt=n(124),Xt=function(e){return ne.a.utils.isAddress(e)},Zt=(ge.Yes,ge.No,"Message"),$t=["Submitting\u2026","Working\u2026","DAOing\u2026","Getting closer\u2026","Dreaming of ETH\u2026"];function en(e){var t=e.snapshotProposal,n=Object(a.useRef)({start:Jt.STANDBY,end:Jt.STANDBY}),r=Object(a.useState)(!1),c=Object(j.a)(r,2),s=c[0],o=c[1],i=Object(a.useState)(!1),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(a.useState)(O(n.current)),p=Object(j.a)(b,2),h=p[0],f=p[1];function O(e){return Object.values(e).every((function(e){return e===Jt.FULFILLED}))}return Object(a.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===Kt.SnapshotType.proposal&&!s){f((function(){return n.current.start=Jt.PENDING,O(n.current)}));var e=setInterval((function(){f((function(){return n.current.start=Jt.FULFILLED,O(n.current)}));var e=Math.floor(Date.now()/1e3)>t.msg.payload.start;e&&o(e)}),1e3);return function(){clearInterval(e)}}f((function(){return n.current.start=Jt.FULFILLED,O(n.current)}))}),[s,null===t||void 0===t?void 0:t.msg.payload.start,null===t||void 0===t?void 0:t.msg.type]),Object(a.useEffect)((function(){if((null===t||void 0===t?void 0:t.msg.type)===Kt.SnapshotType.proposal&&!u){f((function(){return n.current.end=Jt.PENDING,O(n.current)}));var e=setInterval((function(){f((function(){return n.current.end=Jt.FULFILLED,O(n.current)}));var e=Math.ceil(Date.now()/1e3)>t.msg.payload.end;e&&d(e)}),1e3);return function(){clearInterval(e)}}f((function(){return n.current.end=Jt.FULFILLED,O(n.current)}))}),[u,null===t||void 0===t?void 0:t.msg.payload.end,null===t||void 0===t?void 0:t.msg.type]),{hasOffchainVotingStarted:s,hasOffchainVotingEnded:u,offchainVotingStartEndInitReady:h}}!function(e){e.STANDBY="STANDBY",e.PENDING="PENDING",e.FULFILLED="FULFILLED",e.REJECTED="REJECTED"}(Jt||(Jt={}));var tn={count:0};function nn(e,t){switch(t.type){case"increment":return{count:e.count+1};default:return e}}function rn(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(i.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.isActiveMember})),b=xt().connected,p=n&&n.find((function(e){return e})),h=!b||!d||!!p,f=function(){if(!b)return"Your wallet is not connected.";if(!d)return"Either you are not a member, or your membership is not active.";return p||""}(),O=!(!h||!f),m=Object(a.useCallback)((function(e){if(!O)return null;var t=e.title;return Object(r.jsx)(dt.a,{ariaHideApp:!1,className:"modal-container",isOpen:l,onRequestClose:function(){u(!1)},overlayClassName:"modal-overlay",role:"dialog",style:{overlay:{zIndex:1e3}},children:Object(r.jsx)(Ct,{children:Object(r.jsxs)("div",{className:"modal",children:[Object(r.jsx)("button",{className:"modal__close-button modal__close-button--icon",onClick:function(){u(!1)},children:Object(r.jsx)(It,{})}),Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("h2",{className:"modal__title",children:t||"Why disabled?"}),Object(r.jsx)("p",{children:f})]})]})})})}),[O,f,l]),x=Object(a.useCallback)((function(e){c(e.filter(Boolean))}),[]);return{disabledReason:f,isDisabled:h,openWhyDisabledModal:function(){u(!0)},setOtherDisabledReasons:x,WhyDisabledModal:m}}var an,cn,sn,on="Something went wrong while getting the proposal.",ln="Proposal was not found.";function un(e,t){var n=Object(a.useState)(),r=Object(j.a)(n,1)[0],c=Object(a.useState)(),s=Object(j.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)(),u=Object(j.a)(l,2),d=u[0],b=u[1],p=Object(a.useState)(!1),h=Object(j.a)(p,2),f=h[0],O=h[1],m=Object(a.useState)(),x=Object(j.a)(m,2),v=x[0],g=x[1],N=Object(a.useState)(Jt.STANDBY),w=Object(j.a)(N,2),A=w[0],E=w[1],y=function(){var e=Object(a.useState)(),t=Object(j.a)(e,2),n=t[0],r=t[1],c=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return c.current=!0,!n&&r(new AbortController),function(){c.current=!1,n&&n.abort()}}),[n]),{abortController:n,isMountedRef:c}}(),C=y.abortController,_=y.isMountedRef,I=function(){var e=Object(a.useReducer)(nn,tn),t=Object(j.a)(e,2),n=t[0],r=t[1];return[n.count,r]}(),D=Object(j.a)(I,2),S=D[0],k=D[1],R=Object(a.useCallback)((function(){return V.apply(this,arguments)}),[null===C||void 0===C?void 0:C.signal,e,_,S]),P=Object(a.useCallback)((function(){return B.apply(this,arguments)}),[null===C||void 0===C?void 0:C.signal,e,_,S,t]),T=Object(a.useCallback)((function(){return G.apply(this,arguments)}),[R,P]),L=d?Kt.SnapshotType.proposal:o?Kt.SnapshotType.draft:void 0,F=o||d?{daoProposal:r,getCommonSnapshotProposalData:function(){switch(L){case Kt.SnapshotType.draft:return o;case Kt.SnapshotType.proposal:return d;default:return}},refetchProposalOrDraft:function(){k({type:"increment"})},snapshotDraft:o,snapshotProposal:d,snapshotType:L}:void 0;function V(){return(V=Object($.a)(Z.a.mark((function t(){var n,r,a,c;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,0===S&&E(Jt.PENDING),t.next=4,fetch("".concat(M,"/api/").concat(Q,"/draft/").concat(e),{signal:null===C||void 0===C?void 0:C.signal});case 4:if((n=t.sent).ok){t.next=7;break}throw new Error(on);case 7:return t.next=9,n.json();case 9:if(r=t.sent,_.current){t.next=12;break}return t.abrupt("return");case 12:if(r&&Object.keys(r).length){t.next=15;break}throw O(!0),new Error(ln);case 15:return a=Object.keys(r)[0],c=Object(ee.a)({idInDAO:a,idInSnapshot:a},r[a]),E(Jt.FULFILLED),i(c),t.abrupt("return",c);case 22:t.prev=22,t.t0=t.catch(0),E(Jt.REJECTED),g(t.t0);case 26:case"end":return t.stop()}}),t,null,[[0,22]])})))).apply(this,arguments)}function B(){return(B=Object($.a)(Z.a.mark((function n(){var r,a,c,s,o,i;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,0===S&&E(Jt.PENDING),n.next=4,fetch("".concat(M,"/api/").concat(Q,"/proposal/").concat(e,"?searchUniqueDraftId=true&includeVotes=true"),{signal:null===C||void 0===C?void 0:C.signal});case 4:if((a=n.sent).ok){n.next=9;break}if(t!==Kt.SnapshotType.proposal){n.next=8;break}throw new Error(on);case 8:return n.abrupt("return");case 9:return n.next=11,a.json();case 11:if(c=n.sent,_.current){n.next=14;break}return n.abrupt("return");case 14:if(c&&Object.keys(c).length){n.next=19;break}if(t!==Kt.SnapshotType.proposal){n.next=18;break}throw O(!0),new Error(ln);case 18:return n.abrupt("return");case 19:return s=Object.keys(c)[0],o=(null===(r=c[s])||void 0===r?void 0:r.data.erc712DraftHash)||s,i=Object(ee.a)({idInDAO:o,idInSnapshot:s},c[s]),E(Jt.FULFILLED),b(i),n.abrupt("return",i);case 27:n.prev=27,n.t0=n.catch(0),E(Jt.REJECTED),g(n.t0);case 31:case"end":return n.stop()}}),n,null,[[0,27]])})))).apply(this,arguments)}function G(){return(G=Object($.a)(Z.a.mark((function e(){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:if(t=e.sent){e.next=9;break}return e.next=6,R();case 6:return n=e.sent,i(n),e.abrupt("return");case 9:b(t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(null===C||void 0===C?void 0:C.signal)switch(t){case Kt.SnapshotType.draft:R();break;case Kt.SnapshotType.proposal:P();break;default:T()}}),[null===C||void 0===C?void 0:C.signal,R,P,T,t]),{proposalData:F,proposalError:v,proposalNotFound:f,proposalStatus:A}}function dn(e){var t=e||{},n=t.initialCallBeforeWait,r=void 0===n||n,c=t.pollInterval,s=void 0===c?15e3:c,o=Object(a.useState)(!1),i=Object(j.a)(o,2),l=i[0],u=i[1],d=Object(a.useState)(),b=Object(j.a)(d,2),p=b[0],h=b[1],f=Object(a.useState)(),O=Object(j.a)(f,2),m=O[0],x=O[1],v=Object(a.useState)(!1),g=Object(j.a)(v,2),N=g[0],w=g[1],A=Object(a.useCallback)((function(e){return _.apply(this,arguments)}),[]),E=Object(a.useCallback)((function(e){try{C.current&&clearInterval(C.current);var t=function(){var t=Object($.a)(Z.a.mark((function t(){var n;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,A(e);case 2:n=t.sent,h(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();u(!0),r&&t();var n=setInterval(t,s);C.current=n}catch(a){x(a)}}),[A,r,s]),y=Object(a.useCallback)((function(){if(C.current)return clearInterval(C.current),void u(!1);w(!0)}),[]),C=Object(a.useRef)();function _(){return(_=Object($.a)(Z.a.mark((function e(t){var n,r,a,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.methodArguments,r=t.methodName,a=t.contractInstanceMethods,e.prev=1,c=a[r],e.next=5,c.apply(void 0,Object(ye.a)(n)).call();case 5:return e.abrupt("return",e.sent);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){C.current&&clearInterval(C.current)}}),[]),Object(a.useEffect)((function(){C.current&&l&&N&&(clearInterval(C.current),w(!1),u(!1))}),[l,N]),{pollContract:E,pollContractData:p,pollContractError:m,stopPollingContract:y}}function bn(){var e=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),n=Object(i.c)((function(e){return e.contracts})),r=xt(),c=r.account,s=r.provider,o=r.web3Instance,l=Object(a.useState)(),u=Object(j.a)(l,2),d=u[0],b=u[1],p=Object(a.useState)(),h=Object(j.a)(p,2),f=h[0],O=h[1],m=Object(a.useState)(Ne.STANDBY),x=Object(j.a)(m,2),v=x[0],g=x[1];function N(e){return w.apply(this,arguments)}function w(){return(w=Object($.a)(Z.a.mark((function e(n){var r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 2:return e.next=4,o.eth.getBlockNumber();case 4:return r=e.sent,e.t0=parseInt,e.next=8,Pe(ve.offchainVotingVotingPeriod,t);case 8:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=12,Object(Kt.buildProposalMessage)(Object(ee.a)(Object(ee.a)({},n),{},{votingTimeSeconds:a,snapshot:r}),M);case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object($.a)(Z.a.mark((function t(r){var a,i,l,u,d,j,p,h,f,m,x,v,w,A,E,y,C,_,I,D,S,k;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.partialProposalData,i=r.adapterAddress,l=r.adapterName,u=r.type,t.prev=1,c){t.next=4;break}throw new Error("No account was found to send.");case 4:if(o){t.next=6;break}throw new Error("No Web3 instance was found.");case 6:if(e){t.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(M){t.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:if(u===Kt.SnapshotType.draft||u===Kt.SnapshotType.proposal){t.next=12;break}throw new Error('Handling for type "vote" is not implemented.');case 12:return g(Ne.AWAITING_CONFIRM),d=i||(l?ke(l,n):""),j=a.body,p=a.name,h=a.metadata,f=a.timestamp,t.next=17,Object(Kt.getSpace)(M,Q);case 17:if(m=t.sent,x=m.data,v={name:p,body:j,metadata:h,token:x.token,space:Q},u!==Kt.SnapshotType.draft){t.next=26;break}return t.next=23,Object(Kt.buildDraftMessage)(v,M);case 23:t.t0=t.sent,t.next=29;break;case 26:return t.next=28,N(Object(ee.a)(Object(ee.a)({},v),{},{timestamp:f}));case 28:t.t0=t.sent;case 29:return w=t.t0,A=u===Kt.SnapshotType.draft?Object(Kt.prepareDraftMessage)(w):Object(Kt.prepareProposalMessage)(w),E=Object(Kt.getDomainDefinition)(Object(ee.a)(Object(ee.a)({},A),{},{type:u}),e,d,J),y=E.domain,C=E.types,_=JSON.stringify({types:C,domain:y,primaryType:Zt,message:A}),t.next=35,Object(Kt.signMessage)(s,c,_);case 35:return I=t.sent,g(Ne.PENDING),t.next=39,Object(Kt.submitMessage)(M,c,w,I,{actionId:y.actionId,chainId:y.chainId,verifyingContract:y.verifyingContract,message:A});case 39:return D=t.sent,S=D.data,k={data:w,signature:I,uniqueId:S.uniqueId,uniqueIdDraft:S.uniqueIdDraft||""},g(Ne.FULFILLED),b(k),t.abrupt("return",k);case 47:throw t.prev=47,t.t1=t.catch(1),g(Ne.REJECTED),O(t.t1),t.t1;case 52:case"end":return t.stop()}}),t,null,[[1,47]])})))).apply(this,arguments)}return{proposalData:d,proposalSignAndSendError:f,proposalSignAndSendStatus:v,signAndSendProposal:function(e){return A.apply(this,arguments)}}}function jn(e){var t=e.intervalMs,n=e.messages,r=e.useFirstItemStart?n[0]:b(n),c=Object(a.useState)(r),s=Object(j.a)(c,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return i((function(e){return b(n,e)}))}),t);return function(){clearInterval(e)}}),[t,n]),e.render(o)}function pn(e){var t=e.error,n=e.renderText;return t&&4001!==(null===t||void 0===t?void 0:t.code)?Object(r.jsx)(Ct,{children:Object(r.jsxs)("div",{className:"text-center",children:[Object(r.jsx)("p",{className:"error-message",children:"string"===typeof n?n:n()}),t&&Object(r.jsxs)("details",Object(ee.a)(Object(ee.a)({},e.detailsProps),{},{children:[Object(r.jsx)("summary",{className:"error-message",style:{cursor:"pointer",outline:"none"},children:Object(r.jsx)("small",{children:"Details"})}),Object(r.jsx)("p",{className:"error-message",children:Object(r.jsx)("small",{children:t.message})})]}))]})}):null}function hn(e){var t=e.error,n=Object(je.a)(e,["error"]);return Object(r.jsx)(r.Fragment,{children:t&&Object(r.jsx)(Ct,{children:Object(r.jsx)("p",Object(ee.a)(Object(ee.a)({},n),{},{className:"error-message ".concat(n.className||""),children:t}))})})}function fn(e){return Object(r.jsx)("div",Object(ee.a)({className:"loader"},e))}!function(e){e[e.EXISTS=1]="EXISTS",e[e.SPONSORED=3]="SPONSORED",e[e.PROCESSED=7]="PROCESSED"}(an||(an={})),function(e){e.Sponsor="Sponsor",e.OffchainVoting="OffchainVoting",e.OffchainVotingSubmitResult="OffchainVotingSubmitResult",e.OffchainVotingGracePeriod="OffchainVotingGracePeriod",e.OnchainVoting="OnchainVoting",e.Process="Process",e.Completed="Completed"}(cn||(cn={})),function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.TIE=1]="TIE",e[e.PASS=2]="PASS",e[e.NOT_PASS=3]="NOT_PASS",e[e.IN_PROGRESS=4]="IN_PROGRESS",e[e.GRACE_PERIOD=5]="GRACE_PERIOD"}(sn||(sn={}));var On,mn=function(e){var t=e.showAfterMs,n=e.text,c=e.textProps,s=Object(je.a)(e,["showAfterMs","text","textProps"]),o=Object(a.useState)(!1),i=Object(j.a)(o,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){var e=t&&setTimeout((function(){return u(!0)}),t);return function(){e&&clearTimeout(e)}}),[t]),(!t||t&&l)&&e.text?Object(r.jsxs)("div",{className:"loader-container",children:[Object(r.jsx)(fn,Object(ee.a)({},s)),Object(r.jsx)("span",Object(ee.a)(Object(ee.a)({className:"loader-text"},c),{},{children:n}))]}):(!t||t&&l)&&!e.text?Object(r.jsx)(fn,Object(ee.a)({},s)):null};function xn(e){var t=e.url,n=e.isPending,a=void 0!==n&&n;return Object(r.jsx)("small",{children:Object(r.jsx)("a",{href:t,rel:"noopener noreferrer",target:"_blank",children:a?"view progress":"view transaction"})})}function vn(){var e=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.OnboardingContract})),t=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),n=wt().defaultChainError,c=xt(),s=c.connected,o=c.account,l=c.web3Instance,u=Nt(),d=vt(),b=d.txError,p=d.txEtherscanURL,m=d.txIsPromptOpen,v=d.txSend,g=d.txStatus,N=bn(),w=N.proposalData,A=N.proposalSignAndSendStatus,E=N.signAndSendProposal,C=Object(Qt.a)({mode:"onBlur",reValidateMode:"onChange"}),_=Object(at.f)(),I=Object(a.useState)(),D=Object(j.a)(I,2),S=D[0],k=D[1],R=Object(a.useState)(),P=Object(j.a)(R,2),T=P[0],L=P[1],M=C.errors,F=C.formState,V=C.getValues,B=C.setValue,G=C.register,U=C.triggerValidation,W=S||b,q=s&&o,H=F.isValid,z=g===Ne.AWAITING_CONFIRM||g===Ne.PENDING||A===Ne.AWAITING_CONFIRM||A===Ne.PENDING,Y=g===Ne.FULFILLED&&A===Ne.FULFILLED,J=z||Y||m,Q=Object(a.useCallback)((function(){return X.apply(this,arguments)}),[o,l]);function X(){return(X=Object($.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l&&o){e.next=3;break}return L(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,l.eth.getBalance(o);case 6:t=e.sent,L({wei:t,eth:l.utils.fromWei(t)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),L(void 0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function te(){return(te=Object($.a)(Z.a.mark((function n(r){var a,c,s,i,l,d,b,j;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,q){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No OnboardingContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(o){n.next=9;break}throw new Error("No account found.");case 9:if(a=(null===w||void 0===w?void 0:w.uniqueId)||"",c=r.ethAddress,s=r.ethAmount,i=ne.a.utils.toWei(x(s),"ether"),a){n.next=18;break}return n.next=15,E({partialProposalData:{name:c,body:"Membership for ".concat(c,"."),metadata:{amountUnit:"ETH"}},adapterName:me.onboarding,type:Kt.SnapshotType.draft});case 15:l=n.sent,d=l.uniqueId,a=d;case 18:return b=[t.contractAddress,a,c,K,i],j=Object(ee.a)({from:o||"",value:i},u?{gasPrice:u.fast}:null),n.next=22,v("onboard",e.instance.methods,b,j);case 22:_.push("/membership/".concat(a)),n.next=28;break;case 25:n.prev=25,n.t0=n.catch(0),k(n.t0);case 28:case"end":return n.stop()}}),n,null,[[0,25]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){Q()}),[Q]),q?n?Object(r.jsx)(gn,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:n.message})})}):Object(r.jsx)(gn,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(On.ethAddress),"aria-invalid":M.ethAddress?"true":"false",name:On.ethAddress,defaultValue:o,ref:G({validate:function(e){return e?!!Xt(e)||y.INVALID_ETHEREUM_ADDRESS:y.REQUIRED}}),type:"text",disabled:J}),Object(r.jsx)(hn,{error:O(On.ethAddress,M),id:"error-".concat(On.ethAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(On.ethAmount),"aria-invalid":M.ethAmount?"true":"false",name:On.ethAmount,onChange:function(){return B(On.ethAmount,f(V().ethAmount))},ref:G({validate:function(e){var t=Number(x(e));return""===e?y.REQUIRED:isNaN(t)?y.INVALID_NUMBER:t<=0?"The value must be greater than 0 ETH.":!(t>=Number(null===T||void 0===T?void 0:T.eth))||"Insufficient funds."}}),type:"text",disabled:J}),Object(r.jsx)("div",{className:"input__suffix-item",children:"ETH"})]}),Object(r.jsx)(hn,{error:O(On.ethAmount,M),id:"error-".concat(On.ethAmount)})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsxs)("span",{className:"text-underline",children:[T?h(Number(T.eth)):"---"," ","ETH"]})]})]}),Object(r.jsx)("button",{className:"button",disabled:J,onClick:function(){J||(H?function(e){te.apply(this,arguments)}(V()):U())},type:"submit",children:z?Object(r.jsx)(mn,{}):Y?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:J&&function(){if(g===Ne.AWAITING_CONFIRM||A===Ne.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(g){case Ne.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jn,{intervalMs:2e3,messages:$t,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(Ct,{children:e},e)}}),Object(r.jsx)(xn,{url:p,isPending:!0})]});case Ne.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(xn,{url:p})]});default:return null}}()}),W&&4001!==W.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(pn,{renderText:"Something went wrong while submitting the proposal.",error:W})})]})}):Object(r.jsx)(gn,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a member proposal."})})})}function gn(e){return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Join"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function Nn(e){var t=e.adapterName,n=e.proposal.snapshotProposal,c=Object(a.useState)(Ne.STANDBY),s=Object(j.a)(c,2),o=s[0],l=s[1],u=Object(a.useState)(),d=Object(j.a)(u,2),b=d[0],p=d[1],h=Object(i.c)((function(e){var t;return null===(t=e.contracts.BankExtensionContract)||void 0===t?void 0:t.instance.methods})),f=Object(i.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.instance.methods})),O=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),m=Object(i.c)((function(e){return e.contracts})),x=xt(),v=x.account,g=x.provider,N=vt(),w=N.txEtherscanURL,A=N.txIsPromptOpen,E=N.txSend,y=N.txStatus,C=rn(),_=C.isDisabled,I=C.openWhyDisabledModal,D=C.WhyDisabledModal,S=Nt(),k=o===Ne.AWAITING_CONFIRM||o===Ne.PENDING||y===Ne.AWAITING_CONFIRM||y===Ne.PENDING,R=y===Ne.FULFILLED&&o===Ne.FULFILLED,P=k||R||A;function T(){return(T=Object($.a)(Z.a.mark((function e(){var r,a,c,s,o,i,u,d,b,j,x,N,w,A,y;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,O){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:if(n.votes){e.next=7;break}throw new Error("No Snapshot proposal votes were found.");case 7:return l(Ne.AWAITING_CONFIRM),r=n.idInDAO,a=ke(t,m),c=n.votes.map(function(){var e=Object($.a)(Z.a.mark((function e(t){var a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.values(t)[0],e.t0=Kt.createVote,e.t1=r,e.t2=a.address,e.t3=a.msg.payload.choice===Kt.VoteChoicesIndex.Yes,e.t4=Number(a.msg.timestamp),e.t5=a.sig,e.next=9,h.getPriorAmount(a.address,K,n.msg.payload.snapshot).call();case 9:return e.t6=e.sent,e.t7={proposalHash:e.t1,account:e.t2,voteYes:e.t3,timestamp:e.t4,sig:e.t5,weight:e.t6},e.abrupt("return",(0,e.t0)(e.t7));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=Kt.prepareVoteResult,e.t1=a,e.t2=J,e.t3=O,e.next=17,Promise.all(c);case 17:return e.t4=e.sent,e.t5={actionId:e.t1,chainId:e.t2,daoAddress:e.t3,votes:e.t4},e.next=21,(0,e.t0)(e.t5);case 21:return s=e.sent,o=s.voteResultTree,i=s.votes,u=o.getHexRoot(),d=Object(Kt.toStepNode)({actionId:a,chainId:J,merkleTree:o,step:i[i.length-1],verifyingContract:O}),b=Object(Kt.getVoteResultRootDomainDefinition)(O,a,J),j=b.domain,x=b.types,N=JSON.stringify({domain:j,message:{root:u},primaryType:Zt,types:x}),e.next=30,Object(Kt.signMessage)(g,v,N);case 30:return w=e.sent,l(Ne.FULFILLED),A=[O,r,u,Object(ee.a)(Object(ee.a)({},d),{},{rootSig:w})],y=Object(ee.a)({from:v||""},S?{gasPrice:S.fast}:null),e.next=36,E("submitVoteResult",f,A,y);case 36:e.next=42;break;case 38:e.prev=38,e.t6=e.catch(0),p(e.t6),l(Ne.REJECTED);case 42:case"end":return e.stop()}}),e,null,[[0,38]])})))).apply(this,arguments)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"proposaldetails__button",disabled:_||P,onClick:_||P?function(){}:function(){return T.apply(this,arguments)},children:k?Object(r.jsx)(mn,{}):R?"Done":"Submit Vote Result"}),Object(r.jsx)(pn,{error:b,renderText:"Something went wrong"}),P&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){if(y===Ne.AWAITING_CONFIRM||o===Ne.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(y){case Ne.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jn,{intervalMs:2e3,messages:$t,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(Ct,{children:e},e)}}),Object(r.jsx)(xn,{url:w,isPending:!0})]});case Ne.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Result submitted!"}),Object(r.jsx)(xn,{url:w})]});default:return null}}()}),_&&Object(r.jsx)("button",{className:"button--help",onClick:I,children:"Why is submitting disabled?"})]}),Object(r.jsx)(D,{title:"Why is this disabled?"})]})}!function(e){e.ethAddress="ethAddress",e.ethAmount="ethAmount"}(On||(On={}));function wn(e){var t,n,c,s=e.adapterName,o=e.proposal,l=Object(a.useState)(),u=Object(j.a)(l,2),d=u[0],b=u[1],p=Object(a.useState)(),h=Object(j.a)(p,2),f=h[0],O=h[1],x=Object(a.useRef)({addressIsDelegatedMessage:"",alreadyVotedMessage:""}),v=Object(i.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey})),g=xt().account,N=function(){var e=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),t=Object(i.c)((function(e){return e.contracts})),n=xt(),r=n.account,c=n.provider,s=n.web3Instance,o=Object(a.useState)(),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(),p=Object(j.a)(b,2),h=p[0],f=p[1],O=Object(a.useState)(Ne.STANDBY),m=Object(j.a)(O,2),x=m[0],v=m[1];function g(){return(g=Object($.a)(Z.a.mark((function n(a){var o,i,l,u,b,j,p,h,O,m,x,g,N,w,A,E,y,C,_,I,D,S,k;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a.partialVoteData,i=a.adapterName,l=a.proposalIdInDAO,u=a.proposalIdInSnapshot,n.prev=1,s){n.next=4;break}throw new Error("No Web3 instance was found.");case 4:if(r){n.next=6;break}throw new Error("No account was found.");case 6:if(e){n.next=8;break}throw new Error('No "DaoRegistry" address was found.');case 8:if(M){n.next=10;break}throw new Error('No "SNAPSHOT_HUB_API_URL" was found.');case 10:return v(Ne.AWAITING_CONFIRM),b=ke(i,t),j=o.choice,p=o.delegateAddress,h=o.metadata,O=void 0===h?{}:h,n.next=15,Object(Kt.getSpace)(M,Q);case 15:return m=n.sent,x=m.data,g={chainId:J,choice:j,metadata:Object(ee.a)(Object(ee.a)({},O),{},{memberAddress:p||r})},N={proposalHash:l,space:Q,token:x.token},n.next=21,Object(Kt.buildVoteMessage)(g,N,M);case 21:return w=n.sent,A=Object(Kt.prepareVoteMessage)({timestamp:w.timestamp,payload:{proposalHash:w.payload.proposalHash,choice:Kt.VoteChoicesIndex[j]}}),E=Object(Kt.getDomainDefinition)(Object(ee.a)(Object(ee.a)({},A),{},{type:Kt.SnapshotType.vote}),e,b,J),y=E.domain,C=E.types,_=JSON.stringify({types:C,domain:y,primaryType:Zt,message:A}),n.next=27,Object(Kt.signMessage)(c,r,_);case 27:return I=n.sent,v(Ne.PENDING),n.next=31,Object(Kt.submitMessage)(M,r,Object(ee.a)(Object(ee.a)({},w),{},{payload:Object(ee.a)(Object(ee.a)({},w.payload),{},{proposalHash:u})}),I,{actionId:y.actionId,chainId:y.chainId,verifyingContract:y.verifyingContract,message:A});case 31:return D=n.sent,S=D.data,k={data:w,signature:I,uniqueId:S.uniqueId},v(Ne.FULFILLED),d(k),n.abrupt("return",k);case 39:throw n.prev=39,n.t0=n.catch(1),v(Ne.REJECTED),f(n.t0),n.t0;case 44:case"end":return n.stop()}}),n,null,[[1,39]])})))).apply(this,arguments)}return{signAndSendVote:function(e){return g.apply(this,arguments)},voteData:u,voteDataError:h,voteDataStatus:x}}(),w=N.signAndSendVote,A=N.voteDataStatus,E=function(){var e=Object(i.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.delegateKey}))||"",t=Object(i.c)((function(e){var t;return null===(t=e.connectedMember)||void 0===t?void 0:t.memberAddress}))||"",n=xt().account,r=void 0===n?"":n;return m(r)===m(t)&&m(r)!==m(e)}(),y=function(e,t){var n=(e||[]).find((function(e){return Object.entries(e).find((function(e){var n=Object(j.a)(e,2),r=n[0];return n[1],m(r)===m(t||"")}))}));if(n)return Object.entries(n)[0][1].msg.payload.choice===Kt.VoteChoicesIndex.Yes?ge.Yes:ge.No}(null===(t=o.snapshotProposal)||void 0===t?void 0:t.votes,g||""),C=rn(),_=C.isDisabled,I=C.openWhyDisabledModal,D=C.setOtherDisabledReasons,S=C.WhyDisabledModal,k=(null===(n=o.snapshotProposal)||void 0===n?void 0:n.idInDAO)||"",R=(null===(c=o.snapshotProposal)||void 0===c?void 0:c.idInSnapshot)||"",P=A===Ne.AWAITING_CONFIRM||A===Ne.PENDING,T=A===Ne.FULFILLED,L=_||(P||T),F=P?d:void 0;function V(){return(V=Object($.a)(Z.a.mark((function e(t){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,k){e.next=3;break}throw new Error("No proposal hash was found.");case 3:if(R){e.next=5;break}throw new Error("No proposal ID was found.");case 5:return b(Kt.VoteChoices[t]),e.next=8,w({partialVoteData:{choice:t},adapterName:s,proposalIdInDAO:k,proposalIdInSnapshot:R});case 8:return e.next=10,o.refetchProposalOrDraft();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),O(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){if(v){var e=E?"Your member address is delegated to ".concat(v,". You must use that address to vote."):"";x.current=Object(ee.a)(Object(ee.a)({},x.current),{},{addressIsDelegatedMessage:e})}x.current=Object(ee.a)(Object(ee.a)({},x.current),{},{alreadyVotedMessage:y?"You have already voted.":""}),D(Object.values(x.current))}),[v,E,D,y]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Mn,{onClick:L?function(){}:function(e){return V.apply(this,arguments)},buttonProps:{disabled:L,"aria-disabled":L},voteChosen:y,voteProgress:F}),Object(r.jsx)(pn,{error:f,renderText:"Something went wrong"}),_&&Object(r.jsx)("button",{className:"button--help",onClick:I,children:"Why is voting disabled?"}),Object(r.jsx)(S,{title:"Why is voting disabled?"})]})}var An=["",".",".","."],En={position:"absolute"},yn={height:1,width:1};function Cn(e){var t=e.intervalMs,n=void 0===t?1e3:t,c=e.fadeInProps,s=Object(ee.a)(Object(ee.a)({},c),{},{inline:!0}),o=Object(a.useState)(1),i=Object(j.a)(o,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return u((function(e){return(e+1)%An.length}))}),n);return function(){clearInterval(e)}}),[n]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{style:En,children:[Object(r.jsx)("span",{children:l>=0&&An[0]}),Object(r.jsx)("span",{children:l>=1&&Object(r.jsx)(Ct,Object(ee.a)(Object(ee.a)({},s),{},{children:An[1]}))}),Object(r.jsx)("span",{children:l>=2&&Object(r.jsx)(Ct,Object(ee.a)(Object(ee.a)({},s),{},{children:An[2]}))}),Object(r.jsx)("span",{children:l>=3&&Object(r.jsx)(Ct,Object(ee.a)(Object(ee.a)({},s),{},{children:An[3]}))})]}),Object(r.jsx)("span",{style:yn,children:"\xa0"})]})}function _n(e){var t=e.startLabel,n=e.startPeriodMs,c=e.endLabel,s=e.endedLabel,o=e.endPeriodMs,i=Object(a.useState)(null),l=Object(j.a)(i,2),u=l[0],d=l[1],b=Object(a.useCallback)((function(e,t){var n=function(e){var t=Date.parse(e.toString())-Date.parse((new Date).toString()),n=Math.floor(t/1e3%60),r=Math.floor(t/1e3/60%60),a=Math.floor(t/36e5%24);return{total:t,days:Math.floor(t/864e5),hours:a,minutes:r,seconds:n}}(e),a=n.days,c=n.hours,s=n.minutes,o=n.seconds;return a>2&&t?"~".concat(a," days"):a>0?"".concat(p(a,"day")," : ").concat(p(c,"hr")," : ").concat(p(s,"min")):c>0?"".concat(p(c,"hr")," : ").concat(p(s,"min")):s>0?"".concat(p(s,"min")," : ").concat(p(o,"sec")):Object(r.jsx)("span",{className:"color-brightsalmon",children:p(o,"sec")})}),[]);function p(e,t){var n=0===e||e>1?"".concat(t,"s"):t;return"".concat(e," ").concat(n)}return Object(a.useEffect)((function(){var e=setInterval((function(){var a=new Date,i=new Date(n),l=new Date(o);if(a<i){var u=Object(r.jsxs)("span",{children:[Object(r.jsx)("span",{className:"votingstatus",children:t||"Starts:"})," ",Object(r.jsx)("span",{className:"votingstatus__timer",children:b(i,!0)})]});d(u)}else if(a<l){var j=Object(r.jsxs)("span",{children:[Object(r.jsx)("span",{className:"votingstatus",children:c||"Ends:"})," ",Object(r.jsx)("span",{className:"votingstatus__timer",children:b(l)})]});d(j)}else{d(Object(r.jsx)("span",{className:"votingstatus",children:s||"Ended"})),clearInterval(e)}}),1e3);return function(){clearInterval(e)}}),[b,c,o,s,t,n]),Object(r.jsx)("div",{children:u})}function In(e){return Object(r.jsxs)("svg",Object(ee.a)(Object(ee.a)({width:"20px",height:"20px",viewBox:"0 0 21 24",version:"1.1"},e),{},{children:[Object(r.jsx)("defs",{children:Object(r.jsx)("path",{d:"M17.6516,6.408 C19.8162,8.36 21,11.02 21,13.844 C21,19.458 16.303,24 10.5,24 C4.69616,24 0,19.457 0,13.844 C0,8.506 4.22802,4.197 9.53077,3.731 L9.53077,1.875 L6.68768,1.875 C6.15238,1.875 5.71845,1.455 5.71845,0.938 C5.71845,0.42 6.15238,0 6.68768,0 L14.3123,0 C14.8476,0 15.2815,0.42 15.2815,0.938 C15.2815,1.455 14.8476,1.875 14.3123,1.875 L11.46923,1.875 L11.46923,3.731 C13.1316,3.877 14.7126,4.398 16.1059,5.252 L17.4392,3.962 C17.8177,3.596 18.4314,3.596 18.8099,3.962 C19.1885,4.328 19.1885,4.922 18.8099,5.288 L17.6516,6.408 Z M10.5,22.125 C15.2208,22.125 19.0615,18.41 19.0615,13.844 C19.0615,9.277 15.2209,5.562 10.5,5.562 C5.77913,5.562 1.93846,9.277 1.93846,13.844 C1.93846,18.41 5.77917,22.125 10.5,22.125 Z M11.46923,8.312 L11.46923,13.844 C11.46923,14.362 11.03531,14.781 10.5,14.781 C9.96469,14.781 9.53077,14.362 9.53077,13.844 L9.53077,8.312 C9.53077,7.795 9.96469,7.375 10.5,7.375 C11.03531,7.375 11.46923,7.795 11.46923,8.312 Z",id:"path-1"})}),Object(r.jsx)("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:Object(r.jsxs)("g",{id:"Group-70",children:[Object(r.jsx)("mask",{id:"mask-2",fill:"white",children:Object(r.jsx)("use",{xlinkHref:"#path-1"})}),Object(r.jsx)("use",{id:"Clip-69",fill:"currentColor",xlinkHref:"#path-1"})]})})]}))}function Dn(e){var t=e.hasVotingEnded,n=e.noShares,a=e.renderStatus,c=e.renderTimer,s=e.showPercentages,o=void 0===s||s,i=e.totalShares,l=e.yesShares,u=a();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{className:"votingstatus-container",children:[Object(r.jsx)(In,{"aria-label":"Counting down until voting ends",role:"img"}),u&&Object(r.jsx)("span",{className:"votingstatus",children:u}),c(_n)]}),Object(r.jsx)(Ln,{yesShares:l,noShares:n,totalShares:i,votingExpired:t,showPercentages:o})]})}var Sn=Object(r.jsxs)("span",{children:["Grace period ends:",Object(r.jsx)("br",{})]}),kn=Object(r.jsxs)("span",{children:["Grace period ended ",Object(r.jsx)("br",{})," ",Object(r.jsx)("span",{style:{textTransform:"none"},children:"Awaiting contract status\u2026"})]}),Rn={duration:150};function Pn(e){var t=e.countdownGracePeriodStartMs,n=e.proposal,c=n.snapshotProposal,s=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance})),o=Object(a.useState)(),l=Object(j.a)(o,2),u=l[0],d=l[1],b=Object(a.useState)(0),p=Object(j.a)(b,2),h=p[0],f=p[1],O=(null===c||void 0===c?void 0:c.msg.payload.start)||0,m=(null===c||void 0===c?void 0:c.msg.payload.end)||0,x=en(n),v=x.hasOffchainVotingStarted,g=x.hasOffchainVotingEnded,N=x.offchainVotingStartEndInitReady;return Object(a.useEffect)((function(){g&&d(!1)}),[g]),Object(a.useEffect)((function(){t&&s&&Pe(ve.offchainVotingGracePeriod,s).then((function(e){return e&&f(1e3*Number(e))})).catch((function(){return f(0)}))}),[t,s]),Object(r.jsx)(Dn,{renderTimer:function(e){return N&&v&&!g?Object(r.jsx)(e,{startPeriodMs:1e3*O,endPeriodMs:1e3*m}):t&&h?Object(r.jsx)(e,{startPeriodMs:t,endLabel:Sn,endedLabel:kn,endPeriodMs:t+h}):void 0},renderStatus:function(){return N?t?"":"boolean"===typeof u?u?"Approved":"Failed":void 0:Object(r.jsx)(Cn,{intervalMs:200,fadeInProps:Rn})},hasVotingEnded:g,noShares:0,totalShares:1e7,yesShares:0})}function Tn(e){return Object(r.jsx)("svg",Object(ee.a)(Object(ee.a)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"18",height:"18",viewBox:"0 0 512 512"},e),{},{children:Object(r.jsx)("path",{fill:"currentColor",d:"M435.848 83.466L172.804 346.51l-96.652-96.652c-4.686-4.686-12.284-4.686-16.971 0l-28.284 28.284c-4.686 4.686-4.686 12.284 0 16.971l133.421 133.421c4.686 4.686 12.284 4.686 16.971 0l299.813-299.813c4.686-4.686 4.686-12.284 0-16.971l-28.284-28.284c-4.686-4.686-12.284-4.686-16.97 0z"})}))}function Ln(e){var t=e.yesShares,n=void 0===t?0:t,a=e.noShares,c=void 0===a?0:a,s=e.totalShares,o=e.votingExpired,i=e.showPercentages,l=(n/s*100).toFixed(0)||"0",u=(c/s*100).toFixed(0)||"0";return Object(r.jsxs)("div",{className:"votingbar-container",children:[Object(r.jsxs)("div",{className:"votingbar",children:[Object(r.jsx)("div",{className:"votingbar__segment--yes","aria-label":"".concat(l,"% yes votes"),style:{width:"".concat(l,"%")}}),Object(r.jsx)("div",{className:"votingbar__segment--no","aria-label":"".concat(u,"% no votes"),style:{width:"".concat(u,"%")}})]}),Object(r.jsx)("div",{className:"votingbar__percentages",children:i&&Object(r.jsxs)(r.Fragment,{children:[o&&n>c&&Object(r.jsx)("span",{className:"yes-check",children:Object(r.jsx)(Tn,{"aria-label":"Vote has passed"})}),Object(r.jsxs)("span",{className:"yes-percent",children:[l,"%"]}),Object(r.jsxs)("span",{className:"no-percent",children:[u,"%"]}),o&&n<=c&&Object(r.jsx)("span",{className:"no-check",children:Object(r.jsx)(Tn,{"aria-label":"Vote has failed"})})]})})]})}function Mn(e){var t=e.buttonProps,n=e.onClick,a=e.voteChosen,c=e.voteProgress,s=function(e){return a===e?"votingbutton--voted":""};function o(e){return c===e?{"aria-label":"Voting ".concat(e," \u2026")}:{}}function i(e){return c===e?Object(r.jsx)(mn,{"aria-label":"Voting ".concat(e," spinner image"),role:"img"}):a===e?"Voted ".concat(e):"Vote ".concat(e)}function l(e){return function(){n(e)}}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",Object(ee.a)(Object(ee.a)(Object(ee.a)({},t),o(Kt.VoteChoices.Yes)),{},{className:"proposaldetails__button ".concat(s(Kt.VoteChoices.Yes)),onClick:l(Kt.VoteChoices.Yes),children:i(Kt.VoteChoices.Yes)})),Object(r.jsx)("button",Object(ee.a)(Object(ee.a)(Object(ee.a)({},t),o(Kt.VoteChoices.No)),{},{className:"proposaldetails__button ".concat(s(Kt.VoteChoices.No)),onClick:l(Kt.VoteChoices.No),children:i(Kt.VoteChoices.No)}))]})}function Fn(e){var t=e.buttonText,n=void 0===t?"View Proposal":t,a=e.proposal,c=e.onClick,s=e.name;return Object(r.jsxs)("div",{className:"proposalcard",onClick:function(){var e=a.snapshotProposal.hash;c(e)},children:[Object(r.jsx)("h3",{className:"proposalcard__title",children:s}),Object(r.jsx)(Pn,{proposal:a}),Object(r.jsx)("button",{className:"proposalcard__button",children:n})]})}var Vn=[{snapshotProposal:{hash:"dc5abd65bacfe1fa2d1ad3dd8fdb213e902c3b63a4f6b57c467e50dca1f913da",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:0}},{snapshotProposal:{hash:"ffa6c0f8d1d992c9aa678340316c8246965ac07144291c04a4375be0324ebc27",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:45e5,noShares:0}},{snapshotProposal:{hash:"eec0cce4145d0b25c722ad182beec85de3959c475b1e4066552ec50717212769",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:0,noShares:35e5}},{snapshotProposal:{hash:"462b6c505af6061713f1a32c70fb6303040e7394d929d89a1c3cd1033eb5a605",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:7e6,noShares:25e5}},{snapshotProposal:{hash:"d137bfdd2e8ce83b5acc229827cfafaf32084ae253f2da974f931ef542b5bbfc",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:35e5,noShares:55e5}},{snapshotProposal:{hash:"55af58ef30f602aa8e395dc41cc7e0598ea949e5730b1347d0fd0ebc02cb15ed",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1612222285,yesShares:5e6,noShares:5e6}}],Bn=[{snapshotProposal:{hash:"a28b59b9dce2132657c9db537f73063c01f33e04cc9ddf70ce61bfbc4690b16b",name:"0xA089E0684BD87Be6e3F343e224Da191C500883Ec",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"01f091d9e0e1bbe0201be6805ac174638cf2671fdcb8949691263ffa4c443b61",name:"0xE7deBE6565CD01b6152B345B689A15Eb710D21e6",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"1360b9d92677953e84ece64a0c0349b60b6c554f5f5e484b8731adca7f153318",name:"0x80C6CF52720BeD578D3E446199516CB816F67e37",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"b4fcaf70b442fb5bf4a8d116f1b4eab4f8379be68e07bb8ba085043506a99fc2",name:"0xE00BcCddD33E9578904570409E0283C0ef511472",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"38745ec51d277636144fe6eac46c7378374bbfec2ead1265bbe5a76506313cb4",name:"0x3D1AaFD15850544b358738c89afC4608F8351D2C",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}},{snapshotProposal:{hash:"244cc0016922eb37cf675e7d21e8ade6cc93ab435dcaa76cb1bd5beed5375ef4",name:"0x9b5D3d12055B7b70E839e12417a2B9cE5ED9965c",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1613069882,end:1613415482,yesShares:0,noShares:0}}],Gn=[{snapshotProposal:{hash:"3ba30491a6cf748cf3d0ecbb0961627bab8589eaef90726b0aa95f0839f95b44",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e5,noShares:0}},{snapshotProposal:{hash:"f2bee4497f29ed36fda8fb04df71922e32f91f191a58689fd2ec0fa94a139202",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:7e6,noShares:3e6}},{snapshotProposal:{hash:"bf97fd71511f3505406a985f47cf901f89c22356817e7aefe0a4fc41f5b4edbc",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:5e6,noShares:25e5}},{snapshotProposal:{hash:"a724f73ccb0cc9ae0edd8d80f6c75482534f0d3e3f1d7c27fbb17705ef7c61fb",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:75e5,noShares:25e5}},{snapshotProposal:{hash:"79a9b72c3ea3a3f1411a23f65f3f1d043ebf0bd6dbd3b6abe2f05423fd3e9013",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:55e5,noShares:45e5}},{snapshotProposal:{hash:"44509e866a56482b8b3b2373cbe48d89cc0abff4a37626b5ff0e420fc5f3cc8d",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:1e7,noShares:0}}],Un=[{snapshotProposal:{hash:"1531a1656c7cb51414606bbe69795f0b9c7c624d3b74b539880e08eab6e5ad95",name:"0xc7B5d4391313E018F8BA1059E72659e306AA7276",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e5}},{snapshotProposal:{hash:"0597d6387981ef338abfa8c801c8f07fe67377aaa9689619ed6a3128289d665c",name:"0x9dA14D4F9789FA87A9A8cA3b8A309121F32f4dB3",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:3e6,noShares:7e6}},{snapshotProposal:{hash:"7cedf63b766d881250e665da21bfb08944bbca56f04ac2ebcf9d37281fbada3b",name:"0x273C63Cdd8Bb808550177d0b45De19cC763897E1",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:5e6}},{snapshotProposal:{hash:"b9f1d513670876b5af13534b30a14233c3371d3e58195c31086a47ef7d341fed",name:"0x88870d439b899a7A50D6d1371cAD5558608F366e",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:25e5,noShares:75e5}},{snapshotProposal:{hash:"05e5c09e12b2fe36cb4e4d6e4d7c7d23fc79f6e8d30e218d4b8f6a1be774b2c2",name:"0xbD63DB043c53f3C42c8D3Dd3AC17F31d7fcBF2Ab",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:45e5,noShares:55e5}},{snapshotProposal:{hash:"3fd0d42255683cd77fa2c8758f429094b2ece70e325c9f7e94728ed3c93155f4",name:"0x9Ed4a0711DDF777084CC1623f6d8D4Ef9e328EF9",body:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et",start:1610350810,end:1610352716,yesShares:0,noShares:1e7}}];[].concat(Vn,Bn,Gn,Un);function Wn(){var e=Object(at.f)(),t=s(Vn),n=s(Bn),a=s(Gn),c=s(Un);function s(t){return t.map((function(t){return Object(r.jsx)(Fn,{onClick:(n=t.snapshotProposal.hash,function(){n&&e.push("/membership/".concat(n))}),proposal:t,name:v(t.snapshotProposal.name,7)},t.snapshotProposal.hash);var n}))}return Object(r.jsx)(qn,{children:Object(r.jsxs)("div",{className:"grid--fluid grid-container",children:[t.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:C.VOTING}),Object(r.jsx)("div",{className:"grid__cards",children:t})]}),n.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:C.REQUESTS}),Object(r.jsx)("div",{className:"grid__cards",children:n})]}),a.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:C.PASSED}),Object(r.jsx)("div",{className:"grid__cards",children:a})]}),c.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:C.FAILED}),Object(r.jsx)("div",{className:"grid__cards",children:c})]})]})})}function qn(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View members"})]}),e.children]})})}function Hn(){return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsx)(Ct,{children:Object(r.jsx)("div",{style:{textAlign:"center",fontSize:"5rem"},children:Object(r.jsxs)("h3",{children:["4",Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"404, not found",style:{display:"inline-block"},children:"\ud83d\ude35"}),"4"]})})})})}function zn(e){var t=e.proposal,n=t.snapshotDraft,c=t.refetchProposalOrDraft,s=Object(a.useState)(),o=Object(j.a)(s,2),l=o[0],u=o[1],d=Object(i.c)((function(e){return e.contracts})),b=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),p=xt(),h=p.account,f=p.web3Instance,O=vt(),m=O.txEtherscanURL,x=O.txIsPromptOpen,v=O.txSend,g=O.txStatus,N=rn(),w=N.isDisabled,A=N.openWhyDisabledModal,E=N.WhyDisabledModal,y=bn(),C=y.proposalSignAndSendStatus,_=y.signAndSendProposal,I=Nt(),D=g===Ne.AWAITING_CONFIRM||g===Ne.PENDING||C===Ne.AWAITING_CONFIRM||C===Ne.PENDING,S=g===Ne.FULFILLED&&C===Ne.FULFILLED,k=D||S||x;function R(){return(R=Object($.a)(Z.a.mark((function e(){var t,r,a,s,o,i,l,j,p,O,m,x,g;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,b){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot draft was found.");case 5:return t=Re(n.actionId,d),r=n.msg,a=r.payload,s=a.name,o=a.body,i=a.metadata,l=r.timestamp,e.next=9,_({partialProposalData:{name:s,body:o,metadata:i,timestamp:l},adapterAddress:t.contractAddress,type:Kt.SnapshotType.proposal});case 9:return j=e.sent,p=j.data,O=j.signature,m=Object(Kt.prepareVoteProposalData)({payload:{name:p.payload.name,body:p.payload.body,choices:p.payload.choices,snapshot:p.payload.snapshot.toString(),start:p.payload.start,end:p.payload.end},sig:O,space:p.space,timestamp:parseInt(p.timestamp)},f),x=[b,n.idInDAO,m],g=Object(ee.a)({from:h||""},I?{gasPrice:I.fast}:null),e.next=17,v("sponsorProposal",t.instance.methods,x,g);case 17:c(),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),u(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))).apply(this,arguments)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"proposaldetails__button",disabled:w||k,onClick:w||k?function(){}:function(){return R.apply(this,arguments)},children:D?Object(r.jsx)(mn,{}):S?"Done":"Sponsor"}),Object(r.jsx)(pn,{error:l,renderText:"Something went wrong"}),k&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){if(g===Ne.AWAITING_CONFIRM||C===Ne.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";switch(g){case Ne.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jn,{intervalMs:2e3,messages:$t,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(Ct,{children:e},e)}}),Object(r.jsx)(xn,{url:m,isPending:!0})]});case Ne.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(xn,{url:m})]});default:return null}}()}),w&&Object(r.jsx)("button",{className:"button--help",onClick:A,children:"Why is sponsoring disabled?"})]}),Object(r.jsx)(E,{title:"Why is sponsoring disabled?"})]})}function Yn(e){var t=e.disabled,n=e.proposal.snapshotProposal,c=Object(a.useState)(),s=Object(j.a)(c,2),o=s[0],l=s[1],u=Object(i.c)((function(e){return e.contracts})),d=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),b=xt().account,p=vt(),h=p.txEtherscanURL,f=p.txIsPromptOpen,O=p.txSend,m=p.txStatus,x=rn(),v=x.isDisabled,g=x.openWhyDisabledModal,N=x.WhyDisabledModal,w=Nt(),A=m===Ne.AWAITING_CONFIRM||m===Ne.PENDING,E=m===Ne.FULFILLED,y=A||E||f,C=v||y||t;function _(){return(_=Object($.a)(Z.a.mark((function e(){var t,r,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d){e.next=3;break}throw new Error("No DAO Registry address was found.");case 3:if(n){e.next=5;break}throw new Error("No Snapshot proposal was found.");case 5:return t=Re(n.actionId,u),r=[d,n.idInDAO],a=Object(ee.a)({from:b||""},w?{gasPrice:w.fast}:null),e.next=10,O("processProposal",t.instance.methods,r,a);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),l(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{className:"proposaldetails__button",disabled:C,onClick:C?function(){}:function(){return _.apply(this,arguments)},children:A?Object(r.jsx)(mn,{}):E?"Done":"Process"}),Object(r.jsx)(pn,{error:o,renderText:"Something went wrong"}),y&&Object(r.jsx)("div",{className:"form__submit-status-container",children:function(){switch(m){case Ne.AWAITING_CONFIRM:return Object(r.jsxs)(r.Fragment,{children:["Awaiting your confirmation",Object(r.jsx)(Cn,{})]});case Ne.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jn,{intervalMs:2e3,messages:$t,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(Ct,{children:e},e)}}),Object(r.jsx)(xn,{url:h,isPending:!0})]});case Ne.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(xn,{url:h})]});default:return null}}()}),v&&Object(r.jsx)("button",{className:"button--help",onClick:g,children:"Why is processing disabled?"})]}),Object(r.jsx)(N,{title:"Why is processing disabled?"})]})}function Jn(e){var t=e.adapterName,n=e.proposal,c=function(e){var t=e.snapshotDraft,n=e.snapshotProposal,r=(null===t||void 0===t?void 0:t.idInDAO)||(null===n||void 0===n?void 0:n.idInDAO),c=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.contractAddress})),s=Object(i.c)((function(e){var t;return null===(t=e.contracts.DaoRegistryContract)||void 0===t?void 0:t.instance.methods})),o=Object(i.c)((function(e){var t;return null===(t=e.contracts.VotingContract)||void 0===t?void 0:t.instance.methods})),l=en(e),u=l.hasOffchainVotingStarted,d=l.hasOffchainVotingEnded,b=l.offchainVotingStartEndInitReady,j=dn({pollInterval:5e3}),p=j.pollContract,h=j.pollContractData,f=j.stopPollingContract,O=dn({pollInterval:5e3}),m=O.pollContract,x=O.pollContractData,v=O.stopPollingContract,g=dn({pollInterval:5e3}),N=g.pollContract,w=g.pollContractData,A=g.stopPollingContract,E=!!h&&an[h.flags]===an[an.EXISTS],y=!!h&&an[h.flags]===an[an.SPONSORED],C=!!h&&an[h.flags]===an[an.PROCESSED],_=w&&w.reporter&&!w.reporter.startsWith("0x00000000000")&&w.resultRoot&&!w.resultRoot.startsWith("0x00000000000"),I=x&&sn[x]===sn[sn.GRACE_PERIOD];function D(e,t){return{status:e,transitionMessage:t,daoProposal:h,daoProposalVoteResult:x,daoProposalVotes:w}}return Object(a.useEffect)((function(){s&&p({methodName:"proposals",methodArguments:[r],contractInstanceMethods:s})}),[s,p,r]),Object(a.useEffect)((function(){o&&c&&m({methodName:"voteResult",methodArguments:[c,r],contractInstanceMethods:o})}),[c,o,m,r]),Object(a.useEffect)((function(){o&&c&&N({methodName:"votes",methodArguments:[c,r],contractInstanceMethods:o})}),[c,o,N,r]),Object(a.useEffect)((function(){C&&(f(),v(),A())}),[C,f,v,A]),b&&!u&&E?D(cn.Sponsor):b&&u&&!d&&y?D(cn.OffchainVoting):b&&d&&y&&!_?D(cn.OffchainVotingSubmitResult):b&&d&&y&&_&&I?D(cn.OffchainVotingGracePeriod):y&&b&&d&&_&&!I?D(cn.Process):C?D(cn.Completed):{status:void 0,transitionMessage:void 0,daoProposal:h,daoProposalVoteResult:x,daoProposalVotes:w}}(n),s=c.daoProposalVotes,o=c.status,l=s&&o===cn.OffchainVotingGracePeriod?1e3*Number(s.gracePeriodStartingTime):0;return Object(r.jsxs)(r.Fragment,{children:[(o===cn.OffchainVoting||o===cn.OffchainVotingSubmitResult||o===cn.OffchainVotingGracePeriod||o===cn.Process||o===cn.Completed)&&Object(r.jsx)(Pn,{countdownGracePeriodStartMs:l,proposal:n}),Object(r.jsxs)("div",{className:"proposaldetails__button-container",children:[o===cn.Sponsor&&Object(r.jsx)(zn,{proposal:n}),o===cn.OffchainVoting&&Object(r.jsx)(wn,{adapterName:t,proposal:n}),o===cn.OffchainVotingSubmitResult&&Object(r.jsx)(Nn,{adapterName:t,proposal:n}),(o===cn.OffchainVotingGracePeriod||o===cn.Process)&&Object(r.jsx)(Yn,{disabled:o===cn.OffchainVotingGracePeriod,proposal:n})]})]})}function Kn(e){var t=e.proposal,n=e.renderAmountBadge,a=e.renderActions,c=t.getCommonSnapshotProposalData();return c?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"proposaldetails__header",children:"Proposal Details"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"proposaldetails__content",children:[Object(r.jsx)("h3",{children:v(c.msg.payload.name||"",7)}),Object(r.jsx)("p",{children:c.msg.payload.body})]}),Object(r.jsxs)("div",{className:"proposaldetails__status",children:[n&&n(),a()]})]})]}):null}function Qn(e){var t=e.amount,n=e.amountUnit,a=e.amount2,c=e.amount2Unit;return Object(r.jsx)("div",{className:"proposaldetails__amount",children:Object(r.jsxs)("span",{children:["".concat(t," ").concat(n),a&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)("small",{children:"for"}),Object(r.jsx)("br",{}),"".concat(a," ").concat(c)]})]})})}function Xn(){var e=un(Object(at.h)().proposalId),t=e.proposalData,n=e.proposalError,a=e.proposalNotFound,c=e.proposalStatus;if(c===Jt.PENDING)return Object(r.jsx)(Zn,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(At,{})})});if(a)return Object(r.jsx)(Zn,{children:Object(r.jsx)(Hn,{})});if(c===Jt.REJECTED||n)return Object(r.jsx)(Zn,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(pn,{error:n,renderText:"Something went wrong."})})});if(t){var s=t.daoProposal,o=t.getCommonSnapshotProposalData(),i="\u2026";try{i=h(Number(ne.a.utils.fromWei(null===s||void 0===s?void 0:s.amount,"ether")))}catch(l){}return Object(r.jsx)(Zn,{children:Object(r.jsx)(Kn,{proposal:t,renderAmountBadge:function(){return Object(r.jsx)(Qn,{amount:i,amountUnit:null===o||void 0===o?void 0:o.msg.payload.metadata.amountUnit})},renderActions:function(){return Object(r.jsx)(Jn,{adapterName:me.onboarding,proposal:t})}})})}return Object(r.jsx)(r.Fragment,{})}function Zn(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Membership"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/membership")},children:"View all"})]}),e.children]})})}function $n(){return Object(r.jsx)(er,{children:Object(r.jsx)("div",{children:"CreateTransferProposal @todo"})})}function er(e){return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfer Proposal"})}),e.children]})})}function tr(){return Object(r.jsx)(nr,{children:Object(r.jsx)("div",{children:"Transfers @todo"})})}function nr(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfer")},children:"Make Transfer"})]}),e.children]})})}function rr(){return Object(r.jsx)(ar,{children:Object(r.jsx)("div",{children:"TransferDetails @todo"})})}function ar(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Transfers"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/transfers")},children:"View all"})]}),e.children]})})}var cr,sr=n(23);function or(){var e=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.TributeContract})),t=Object(i.c)((function(e){var t;return null===(t=e.contracts)||void 0===t?void 0:t.DaoRegistryContract})),c=wt().defaultChainError,s=xt(),o=s.connected,u=s.account,d=s.web3Instance,b=Nt(),p=vt(),m=p.txError,g=p.txEtherscanURL,N=p.txIsPromptOpen,w=p.txSend,A=p.txStatus,E=vt(),C=E.txError,_=E.txEtherscanURL,I=E.txIsPromptOpen,D=E.txSend,S=E.txStatus,k=bn(),R=k.proposalData,P=k.proposalSignAndSendStatus,T=k.signAndSendProposal,L=Object(Qt.a)({mode:"onBlur",reValidateMode:"onChange"}),M=Object(at.f)(),F=Object(a.useState)(),V=Object(j.a)(F,2),B=V[0],G=V[1],U=Object(a.useState)(),W=Object(j.a)(U,2),q=W[0],H=W[1],z=Object(a.useState)(),Y=Object(j.a)(z,2),J=Y[0],Q=Y[1],X=Object(a.useState)(),te=Object(j.a)(X,2),ne=te[0],re=te[1],ae=L.errors,ce=L.formState,se=L.getValues,oe=L.setValue,ie=L.register,le=L.triggerValidation,ue=se().erc20Address,de=B||m||C,be=o&&u,je=ce.isValid,pe=A===Ne.AWAITING_CONFIRM||A===Ne.PENDING||S===Ne.AWAITING_CONFIRM||S===Ne.PENDING||P===Ne.AWAITING_CONFIRM||P===Ne.PENDING,he=A===Ne.FULFILLED&&P===Ne.FULFILLED,fe=pe||he||N||I,Oe=Object(a.useCallback)((function(){return ge.apply(this,arguments)}),[ue,d]),xe=Object(a.useCallback)((function(){return we.apply(this,arguments)}),[u,ne]),ve=Object(a.useCallback)((function(){return Ae.apply(this,arguments)}),[u,ne]);function ge(){return(ge=Object($.a)(Z.a.mark((function e(){var t,r,a,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d&&ue){e.next=3;break}return re(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,n.e(6).then(n.t.bind(null,807,3));case 6:t=e.sent,r=t.default,a=r,c=new d.eth.Contract(a,ue),re(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),re(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function we(){return(we=Object($.a)(Z.a.mark((function e(){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&ne){e.next=3;break}return Q(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,ne.methods.symbol().call();case 6:return t=e.sent,e.next=9,ne.methods.decimals().call();case 9:n=e.sent,Q({symbol:t,decimals:Number(n)}),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),Q(void 0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ae(){return(Ae=Object($.a)(Z.a.mark((function e(){var t,n,r,a,c,s,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u&&ne){e.next=3;break}return H(void 0),e.abrupt("return");case 3:return e.prev=3,e.next=6,ne.methods.balanceOf(u).call();case 6:return t=e.sent,n=Object(sr.toBN)(t),e.next=10,ne.methods.decimals().call();case 10:r=e.sent,a=Object(sr.toBN)(10).pow(Object(sr.toBN)(r)),c=n.div(a),s=n.mod(a),o=s.eq(Object(sr.toBN)(0))?c.toString():"".concat(c.toString(),".").concat(s.toString()),H(o),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),console.error(e.t0),H(void 0);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}function Ee(e,t){return ye.apply(this,arguments)}function ye(){return(ye=Object($.a)(Z.a.mark((function t(n,r){var a,c,s,o;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ne){t.next=3;break}throw new Error("No ERC20Contract found.");case 3:if(e){t.next=5;break}throw new Error("No TributeContract found.");case 5:if(u){t.next=7;break}throw new Error("No account found.");case 7:return a=n.sub(r),c=r.add(a),s=[e.contractAddress,c.toString()],o=Object(ee.a)({from:u||""},b?{gasPrice:b.fast}:null),t.next=13,D("approve",ne.methods,s,o);case 13:t.next=18;break;case 15:throw t.prev=15,t.t0=t.catch(0),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function Ce(){return(Ce=Object($.a)(Z.a.mark((function n(r){var a,c,s,o,i,l,d,j,p,h,f,O,m,g,N,A,E;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,be){n.next=3;break}throw new Error("No user account was found. Please makes sure your wallet is connected.");case 3:if(e){n.next=5;break}throw new Error("No TributeContract found.");case 5:if(t){n.next=7;break}throw new Error("No DaoRegistryContract found.");case 7:if(u){n.next=9;break}throw new Error("No account found.");case 9:if(ne){n.next=11;break}throw new Error("No ERC20Contract found.");case 11:if(J){n.next=13;break}throw new Error("No ERC20 details found.");case 13:return a=r.applicantAddress,c=r.erc20Address,s=r.tributeAmount,o=r.requestAmount,i=r.description,l=Object(sr.toBN)(10).pow(Object(sr.toBN)(J.decimals)),d=Object(sr.toBN)(x(s)).mul(l),j=x(o),n.next=19,ne.methods.allowance(u,e.contractAddress).call();case 19:if(p=n.sent,h=Object(sr.toBN)(p),!d.gt(h)){n.next=31;break}return n.prev=22,n.next=25,Ee(d,h);case 25:n.next=31;break;case 27:throw n.prev=27,n.t0=n.catch(22),console.error(n.t0),new Error("Your ERC20 tokens could not be approved for transfer.");case 31:if(f=(null===R||void 0===R?void 0:R.uniqueId)||""){n.next=40;break}return O=a.toLowerCase()===u.toLowerCase()?"Tribute from ".concat(a,"."):"Tribute from ".concat(v(u,7)," for applicant ").concat(v(a,7),"."),m=i?"".concat(O,"\n").concat(i):O,n.next=37,T({partialProposalData:{name:a,body:m,metadata:{tributeAmountUnit:J.symbol,tributeTokenDecimals:J.decimals,requestAmountUnit:"SHARES"}},adapterName:me.tribute,type:Kt.SnapshotType.draft});case 37:g=n.sent,N=g.uniqueId,f=N;case 40:return A=[t.contractAddress,f,a,K,j,c,d.toString()],E=Object(ee.a)({from:u||""},b?{gasPrice:b.fast}:null),n.next=44,w("provideTribute",e.instance.methods,A,E);case 44:M.push("/tributes/".concat(f)),n.next=50;break;case 47:n.prev=47,n.t1=n.catch(0),G(n.t1);case 50:case"end":return n.stop()}}),n,null,[[0,47],[22,27]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){Oe()}),[Oe]),Object(a.useEffect)((function(){xe()}),[xe]),Object(a.useEffect)((function(){ve()}),[ve]),be?c?Object(r.jsx)(ir,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:c.message})})}):Object(r.jsx)(ir,{children:Object(r.jsxs)("form",{className:"form",onSubmit:function(e){return e.preventDefault()},children:[Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Applicant Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(cr.applicantAddress),"aria-invalid":ae.applicantAddress?"true":"false",name:cr.applicantAddress,defaultValue:u,ref:ie({validate:function(e){return e?!!Xt(e)||y.INVALID_ETHEREUM_ADDRESS:y.REQUIRED}}),type:"text",disabled:fe}),Object(r.jsx)(hn,{error:O(cr.applicantAddress,ae),id:"error-".concat(cr.applicantAddress)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"ERC20 Address"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(cr.erc20Address),"aria-invalid":ae.erc20Address?"true":"false",name:cr.erc20Address,ref:ie({validate:function(e){return e?!!Xt(e)||y.INVALID_ETHEREUM_ADDRESS:y.REQUIRED}}),type:"text",disabled:fe}),Object(r.jsx)(hn,{error:O(cr.erc20Address,ae),id:"error-".concat(cr.erc20Address)})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsxs)("div",{className:"input__suffix-wrap",children:[Object(r.jsx)("input",{className:"input__suffix","aria-describedby":"error-".concat(cr.tributeAmount),"aria-invalid":ae.tributeAmount?"true":"false",name:cr.tributeAmount,onChange:function(){return oe(cr.tributeAmount,f(se().tributeAmount))},ref:ie({validate:function(e){var t=Number(x(e));return""===e?y.REQUIRED:isNaN(t)?y.INVALID_NUMBER:t<=0?"The value must be greater than 0.":!(t>Number(q))||"Insufficient funds."}}),type:"text",disabled:fe}),Object(r.jsx)("div",{className:"input__suffix-item",children:(null===J||void 0===J?void 0:J.symbol)||"___"})]}),Object(r.jsx)(hn,{error:O(cr.tributeAmount,ae),id:"error-".concat(cr.tributeAmount)}),Object(r.jsx)("div",{className:"form__input-description",children:"This amount will be held in escrow pending a member vote. If the proposal is accepted, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you."})]}),Object(r.jsxs)("div",{className:"form__input-addon",children:["available:"," ",Object(r.jsx)("span",{className:"text-underline",children:q?q.includes(".")?h(Number(q)):q:"---"})]})]}),Object(r.jsxs)("div",{className:"form__input-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Request Amount"}),Object(r.jsxs)("div",{className:"form__input-row-fieldwrap--narrow",children:[Object(r.jsx)("input",{"aria-describedby":"error-".concat(cr.requestAmount),"aria-invalid":ae.requestAmount?"true":"false",name:cr.requestAmount,onChange:function(){return oe(cr.requestAmount,f(se().requestAmount))},ref:ie({validate:function(e){var t=Number(x(e));return""===e?y.REQUIRED:isNaN(t)?y.INVALID_NUMBER:!(t<0)||"The value must be at least 0."}}),type:"text",disabled:fe}),Object(r.jsx)(hn,{error:O(cr.requestAmount,ae),id:"error-".concat(cr.requestAmount)}),Object(r.jsxs)("div",{className:"form__input-description",children:["This is the amount of DAO tokens you are requesting be sent to the Applicant Address in exchange for your tribute. Current member allocations can be viewed"," ",Object(r.jsx)(l.b,{to:"/members",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]})]})]}),Object(r.jsxs)("div",{className:"form__textarea-row",children:[Object(r.jsx)("label",{className:"form__input-row-label",children:"Description"}),Object(r.jsx)("div",{className:"form__input-row-fieldwrap",children:Object(r.jsx)("textarea",{"aria-describedby":"error-".concat(cr.description),name:cr.description,placeholder:"Say something about your tribute...",ref:ie})})]}),Object(r.jsx)("button",{className:"button",disabled:fe,onClick:function(){fe||(je?function(e){Ce.apply(this,arguments)}(se()):le())},type:"submit",children:pe?Object(r.jsx)(mn,{}):he?"Done":"Submit"}),Object(r.jsx)("div",{className:"form__submit-status-container",children:fe&&function(){if(A===Ne.AWAITING_CONFIRM||S===Ne.AWAITING_CONFIRM||P===Ne.AWAITING_CONFIRM)return"Awaiting your confirmation\u2026";if(S===Ne.PENDING)return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Approving your tokens for transfer\u2026"}),Object(r.jsx)(xn,{url:_,isPending:!0})]});switch(A){case Ne.PENDING:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(jn,{intervalMs:2e3,messages:$t,useFirstItemStart:!0,render:function(e){return Object(r.jsx)(Ct,{children:e},e)}}),Object(r.jsx)(xn,{url:g,isPending:!0})]});case Ne.FULFILLED:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{children:"Proposal submitted!"}),Object(r.jsx)(xn,{url:g})]});default:return null}}()}),de&&4001!==de.code&&Object(r.jsx)("div",{className:"form__submit-error-container",children:Object(r.jsx)(pn,{renderText:"Something went wrong while submitting the proposal.",error:de})})]})}):Object(r.jsx)(ir,{children:Object(r.jsx)("div",{className:"form__description--unauthorized",children:Object(r.jsx)("p",{children:"Connect your wallet to submit a tribute proposal."})})})}function ir(e){return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Tribute Proposal"})}),Object(r.jsxs)("div",{className:"form-wrapper",children:[Object(r.jsx)("div",{className:"form__description",children:Object(r.jsx)("p",{children:"Nulla aliquet porttitor venenatis. Donec a dui et dui fringilla consectetur id nec massa. Aliquam erat volutpat. Sed ut dui ut lacus dictum fermentum vel tincidunt neque. Sed sed lacinia..."})}),e.children]})]})})}function lr(){return Object(r.jsx)(ur,{children:Object(r.jsx)("div",{children:"Tributes @todo"})})}function ur(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tribute")},children:"Provide Tribute"})]}),e.children]})})}function dr(){var e=un(Object(at.h)().proposalId),t=e.proposalData,n=e.proposalError,a=e.proposalNotFound,c=e.proposalStatus;if(c===Jt.PENDING)return Object(r.jsx)(br,{children:Object(r.jsx)("div",{style:{width:"3rem",margin:"0 auto"},children:Object(r.jsx)(At,{})})});if(a)return Object(r.jsx)(br,{children:Object(r.jsx)(Hn,{})});if(c===Jt.REJECTED||n)return Object(r.jsx)(br,{children:Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)(pn,{error:n,renderText:"Something went wrong."})})});if(t){var s=t.daoProposal,o=t.getCommonSnapshotProposalData(),i="\u2026";try{var l=Object(sr.toBN)(10).pow(Object(sr.toBN)(null===o||void 0===o?void 0:o.msg.payload.metadata.tributeTokenDecimals)),u=Object(sr.toBN)(null===s||void 0===s?void 0:s.tributeAmount).div(l),d=Object(sr.toBN)(null===s||void 0===s?void 0:s.tributeAmount).mod(l),b=d.eq(Object(sr.toBN)(0))?u.toString():"".concat(u.toString(),".").concat(d.toString()),j=!b.includes(".");i=j?b:h(Number(b))}catch(O){}var p="\u2026";try{p=f(null===s||void 0===s?void 0:s.requestAmount)}catch(O){}return Object(r.jsx)(br,{children:Object(r.jsx)(Kn,{proposal:t,renderAmountBadge:function(){return Object(r.jsx)(Qn,{amount:i,amountUnit:null===o||void 0===o?void 0:o.msg.payload.metadata.tributeAmountUnit,amount2:p,amount2Unit:null===o||void 0===o?void 0:o.msg.payload.metadata.requestAmountUnit})},renderActions:function(){return Object(r.jsx)(Jn,{adapterName:me.tribute,proposal:t})}})})}return Object(r.jsx)(r.Fragment,{})}function br(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Tributes"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/tributes")},children:"View all"})]}),e.children]})})}function jr(){return Object(r.jsx)(pr,{children:Object(r.jsx)("div",{children:"CreateGovernanceProposal @todo"})})}function pr(e){return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance Proposal"})}),e.children]})})}function hr(){return Object(r.jsx)(fr,{children:Object(r.jsx)("div",{children:"GovernanceProposals @todo"})})}function fr(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposal")},children:"New Proposal"})]}),e.children]})})}function Or(){return Object(r.jsx)(mr,{children:Object(r.jsx)("div",{children:"GovernanceProposalDetails @todo"})})}function mr(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Governance"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/governance-proposals")},children:"View all"})]}),e.children]})})}function xr(e){var t=e.member,n=e.name,a=e.onClick;return Object(r.jsx)("div",{className:"membercard",onClick:function(){var e=t.address;a(e)},children:Object(r.jsx)("h3",{className:"membercard__title",children:n})})}!function(e){e.applicantAddress="applicantAddress",e.erc20Address="erc20Address",e.tributeAmount="tributeAmount",e.requestAmount="requestAmount",e.description="description"}(cr||(cr={}));var vr,gr=[{address:"0xd38f1A08f9894CE69Bdf796271dC9e4099fC5043"},{address:"0x927A9928Fe2eD6415e4D7761314c3466C3dc78f9"},{address:"0x2e4707940C2d65221ee352945f0551738BCd026E"},{address:"0xF2603046726414C5Dd0B0AE07a842209010AfbC5"},{address:"0x01410229072479e1e4d33490a7052439d7893ed6"},{address:"0x69732A015EE3A371714C99CcF6291fF774638E77"}];function Nr(){var e=Object(at.f)(),t=gr.map((function(t){return Object(r.jsx)(xr,{onClick:(n=t.address,function(){n&&e.push("/members/".concat(n))}),member:t,name:v(t.address,7)},t.address);var n}));return Object(r.jsx)(wr,{children:Object(r.jsx)("div",{className:"grid--fluid grid-container",children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"grid__header",children:"Active Members"}),Object(r.jsx)("div",{className:"grid__cards",children:t})]})})})}function wr(e){return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("div",{className:"titlebar",children:Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"})}),e.children]})})}function Ar(){var e=Object(at.h)().ethereumAddress,t=Object(at.f)(),n=gr.find((function(t){return t.address.toLowerCase()===e.toLowerCase()}));return Object(a.useEffect)((function(){n||t.push("/404")}),[t,n]),n?Object(r.jsx)(Er,{children:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"memberprofile__header",children:"Member Profile"}),Object(r.jsxs)("div",{className:"proposaldetails",children:[Object(r.jsxs)("div",{className:"memberprofile__left-column",children:[Object(r.jsx)("h3",{children:v(n.address,7)}),Object(r.jsx)("p",{children:"MemberProfile @todo"})]}),Object(r.jsx)("div",{className:"memberprofile__right-column",children:"MemberProfile @todo"})]})]})}):Object(r.jsx)(r.Fragment,{})}function Er(e){var t=Object(at.f)();return Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsxs)(Ct,{children:[Object(r.jsxs)("div",{className:"titlebar",children:[Object(r.jsx)("h2",{className:"titlebar__title",children:"Members"}),Object(r.jsx)("button",{className:"titlebar__action",onClick:function(e){e.preventDefault(),t.push("/members")},children:"View all"})]}),e.children]})})}function yr(){return Object(r.jsx)(at.c,{children:[Object(r.jsx)(at.a,{exact:!0,path:"/",render:function(){return Object(r.jsx)(Yt,{})}},"splash"),Object(r.jsx)(at.a,{exact:!0,path:"/join",render:function(){return Object(r.jsx)(vn,{})}},"join"),Object(r.jsx)(at.a,{exact:!0,path:"/membership",render:function(){return Object(r.jsx)(Wn,{})}},"membership"),Object(r.jsx)(at.a,{exact:!0,path:"/membership/:proposalId",render:function(){return Object(r.jsx)(Xn,{})}},"membership-details"),Object(r.jsx)(at.a,{exact:!0,path:"/transfer",render:function(){return Object(r.jsx)($n,{})}},"transfer"),Object(r.jsx)(at.a,{exact:!0,path:"/transfers",render:function(){return Object(r.jsx)(tr,{})}},"transfers"),Object(r.jsx)(at.a,{exact:!0,path:"/transfers/:proposalId",render:function(){return Object(r.jsx)(rr,{})}},"transfer-details"),Object(r.jsx)(at.a,{exact:!0,path:"/tribute",render:function(){return Object(r.jsx)(or,{})}},"tribute"),Object(r.jsx)(at.a,{exact:!0,path:"/tributes",render:function(){return Object(r.jsx)(lr,{})}},"tributes"),Object(r.jsx)(at.a,{exact:!0,path:"/tributes/:proposalId",render:function(){return Object(r.jsx)(dr,{})}},"tribute-details"),Object(r.jsx)(at.a,{exact:!0,path:"/governance-proposal",render:function(){return Object(r.jsx)(jr,{})}},"governance-proposal"),Object(r.jsx)(at.a,{exact:!0,path:"/governance-proposals",render:function(){return Object(r.jsx)(hr,{})}},"governance-proposals"),Object(r.jsx)(at.a,{exact:!0,path:"/governance-proposals/:proposalId",render:function(){return Object(r.jsx)(Or,{})}},"governance-proposal-details"),Object(r.jsx)(at.a,{exact:!0,path:"/members",render:function(){return Object(r.jsx)(Nr,{})}},"members"),Object(r.jsx)(at.a,{exact:!0,path:"/members/:ethereumAddress",render:function(){return Object(r.jsx)(Ar,{})}},"member-profile"),Object(r.jsx)(at.a,{component:Hn},"no-match")]})}function Cr(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ut,{}),Object(r.jsx)(Bt,{}),Object(r.jsx)("main",{children:Object(r.jsx)(yr,{})}),Object(r.jsx)(rt,{})]})}function _r(e){var t=e.render,n=Object(i.c)((function(e){return e.contracts.DaoRegistryContract})),r=Object(a.useState)(),c=Object(j.a)(r,2),s=c[0],o=c[1],l=Object(a.useState)(!1),u=Object(j.a)(l,2),d=u[0],b=u[1],p=Object(a.useState)(Object(_.a)({},vr.initSnapshotAPI,Jt.STANDBY)),h=Object(j.a)(p,2),f=h[0],O=h[1],m=function(){var e=wt().isDefaultChain,t=xt().web3Instance,n=Object(i.b)();function r(){return(r=Object($.a)(Z.a.mark((function r(){return Z.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,e){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,n(We(t));case 5:return r.next=7,n(qe(t));case 7:return r.next=9,n(He(t));case 9:return r.next=11,n(ze(t));case 11:return r.next=13,n(Ye(t));case 13:r.next=18;break;case 15:throw r.prev=15,r.t0=r.catch(0),r.t0;case 18:case"end":return r.stop()}}),r,null,[[0,15]])})))).apply(this,arguments)}return{initContracts:Object(a.useCallback)((function(){return r.apply(this,arguments)}),[e,n,t])}}().initContracts,x=xt(),v=x.account,g=x.connected,N=x.provider,w=x.web3Instance,A=wt().defaultChainError,E=function(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMountedRef:e}}().isMountedRef,y=Object(i.b)(),C=Object(a.useCallback)((function(){return k.apply(this,arguments)}),[m]),I=Object(a.useCallback)((function(e,t){return R.apply(this,arguments)}),[y]),D=Object(a.useCallback)((function(){return S.apply(this,arguments)}),[E]);function S(){return(S=Object($.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,M){e.next=3;break}throw new Error("No Snapshot Hub API URL was found.");case 3:return e.next=5,Object(Kt.getApiStatus)(M);case 5:if(t=e.sent,t.data.version){e.next=9;break}throw new Error("Snapshot API is not ready.");case 9:if(E.current){e.next=11;break}return e.abrupt("return");case 11:O((function(e){return Object(ee.a)(Object(ee.a)({},e),{},Object(_.a)({},vr.initSnapshotAPI,Jt.FULFILLED))})),e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(0),E.current){e.next=18;break}return e.abrupt("return");case 18:o(new Error("Snapshot API is not responding."));case 19:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}function k(){return(k=Object($.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function R(){return(R=Object($.a)(Z.a.mark((function e(t,n){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(fe(t,n));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),o(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){b(Object.values(f).every((function(e){return e===Jt.FULFILLED})))}),[f]),Object(a.useEffect)((function(){g&&N&&w&&C()}),[g,C,N,w]),Object(a.useEffect)((function(){g&&v&&n&&I(v,n)}),[v,g,n,I]),Object(a.useEffect)((function(){o(A)}),[A]),Object(a.useEffect)((function(){D()}),[D]),t({error:s,isInitComplete:d})}function Ir(e){var t=e.error;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Bt,{}),Object(r.jsx)(Ht,{className:"section-wrapper",children:Object(r.jsx)("main",{children:Object(r.jsxs)(Ct,{children:[Object(r.jsx)("div",{style:{padding:"2em 1em 1em",textAlign:"center"},children:Object(r.jsxs)("h1",{style:{fontSize:"2rem"},children:[Object(r.jsx)("span",{className:"pulse",role:"img","aria-label":"Emoji with eyes crossed out.",style:{display:"inline-block"},children:"\ud83d\ude35"})," ","Oops, something went wrong."]})}),Object(r.jsx)("div",{style:{textAlign:"center",maxWidth:600,display:"block",margin:"0 auto"},children:Object(r.jsx)(pn,{error:t,renderText:""})})]})})})]})}!function(e){e.initSnapshotAPI="initSnapshotAPI"}(vr||(vr={}));var Dr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,808)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Sr=(n(794),document.getElementById("root"));"production"===L&&function(){var e=function(){},t=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if("object"===typeof t)for(var n=0,r=Object.entries(t);n<r.length;n++){var a=Object(j.a)(r[n],2),c=a[0],s=a[1];t[c]="function"===typeof s?e:null}}(),window.ethereum&&window.ethereum.autoRefreshOnNetworkChange&&(window.ethereum.autoRefreshOnNetworkChange=!1),null!==Sr&&o.a.render(Object(r.jsx)(i.a,{store:nt,children:Object(r.jsx)(l.a,{children:Object(r.jsx)(mt,{providerOptions:{injected:{display:{name:"MetaMask",description:"Connect with the provider in your Browser"},package:null},walletconnect:{display:{name:"WalletConnect",description:"Connect with your mobile wallet"},package:d.a,options:{infuraId:F,qrcodeModalOptions:{mobileLinks:["rainbow","metamask","argent","trust"]}}}},defaultTheme:ce.LIGHT,children:Object(r.jsx)(_r,{render:function(e){var t=e.error,n=e.isInitComplete;return t?Object(r.jsx)(Ir,{error:t}):n?Object(r.jsx)(Cr,{}):null}})})})}),Sr),Dr()}},[[795,1,2]]]);
//# sourceMappingURL=main.7a4d2d33.chunk.js.map